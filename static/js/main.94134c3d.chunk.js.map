{"version":3,"sources":["common/Constants.js","common/data/DataLoader.js","common/data/DataManager.js","ui/common/Utils_ui.js","ui/common/Constants_ui.js","common/Communicator.js","common/event/CommunicatorEvent.js","ui/common/MediaQuery.js","ui/common/StyleMasterComp.js","ui/page/PageAuth.js","ui/components/LoadingProgressBar.js","ui/images/UNIT_logo.png","ui/page/PageLoading.js","ui/App.js","common/event/EventDispatcher.js","content/ContentsManager.js","content/AnimationManager.js","content/CameraManager.js","content/LoadingProgressManager.js","content/ClothImposter.js","content/ParticleManager.js","content/BasicWorld.js","index.js"],"names":["Constants","DEBUG_MODE","CANVAS","ENGINE","SCENE","SNOW_PARTICLE","MULTI_SERVER_URL","url","port","TOTAL_DATA","ASSETS_URL","CHEST_FILE_NAME","CHEST","KEY_FILE_NAME","CARD_FILE_NAME","FRAME","COFFEE","EASEL","UNIVERSITY","CONTAINER","isDetailView","PEDESTAL_FILE_NAME","PEDESTAL","PEDESTAL2","PEDESTAL3","PEDESTAL4","CONFIG_DATA_URL","COMPANY_DATA_URL","CHANGGONG_DATA_URL","STARTING_POINT","x","y","z","CONTAINER_MAP","OS_ECT","OS_IOS","OS_ANDROID","OS_PLATFORM","DataLoader","_strFileURL","_funcCallBack","_strRequestType","_data","xmlhttp","XMLHttpRequest","isAsync","open","returnData","onreadystatechange","readyState","DONE","objData","success","message","errors","status","data","JSON","parse","responseText","setRequestHeader","withCredentials","send","stringify","DataManager","_objInit","m_objInit","Error","m_dataManager","m_arrCompanyDatas","_funcCallBackError","GetInstance","m_funcCallBack","LoadData","objServerData","String","MULTI_SERVER_PORT","companyData","changgongData","m_objChanggongData","_objUserData","m_objUserData","_strID","objDataReturn","i","length","id","DATA_LOAD_COMPLETE","Utils_ui","key","type","undefined","sort","a","b","nFullSize","nPercent","isAddPx","Constants_ui","PAGE_START","PAGE_LOADING","PAGE_AUTH","PAGE_MAIN","FIRSTLOADING_TIME","Communicator","m_communicator","m_objEvents","event","_strEvent","console","log","_anyData","CommunicatorEvent","WORLD_LOAD_COMPLETE","WORLD_LOADING","RECEIVE_CHAT_MESSAGE","OPEN_CATALOG","OPEN_URL_LINK","OPEN_VIDEO","OPEN_PDF","START_CONTENT","CHANGE_CAMERA_MODE","SEND_CHAT_MESSAGE","GO_TO_TENANT","MobileIphone","children","useMediaQuery","maxWidth","Mobile","minWidth","Tablet","Desktop","ContainerBox","styled","div","Block","props","Display","ContainerWidth","ContainerHeight","BackColor","Border","TextBox","FontColor","FontSize","FontWeight","WordSpacing","LetterSpacing","TextAlign","MarginTop","MarginBottom","AuthTextBox","input","Width","Left","button","PageAuth","useState","PercentToPx","nVh","Progress","percent","LoadingProgressBar","compHeight","BgBox","Height","URL2","URL","PageLoading","NumPercent","setNumPercent","isLoadReady","setIsLoadReady","isTimeReady","setIsTimeReady","onChangeLoadCount","_nVars","nVars","parseInt","onWorldLoadComp","useEffect","pageMoveTimer","setTimeout","clearTimeout","reciveEvent","setSelectPageName","ImgBG","m_arrData","SelectSubPage","strPageName","funcSetSelectPageName","App","strSelectPageName","setnVh","GetCompanyDatas","tempData","SortJSON","ReactGA","initialize","setScreenSize","useCallback","tempVh","window","innerHeight","addEventListener","EventDispatcher","Object","assign","prototype","listener","this","_listeners","listeners","indexOf","push","hasEventListener","removeEventListener","listenerArray","index","splice","dispatchEvent","target","array","slice","l","call","ContentsManager","gsap","killTweensOf","meshLookAt","camera","m_iSwingCountFrame","meshTarget","dispose","m_ContentsManager","scene","item1","position","BABYLON","item2","item3","item4","frameRate","ySlide","ANIMATIONTYPE_FLOAT","ANIMATIONLOOPMODE_CYCLE","keyFrames","frame","value","setKeys","ySlide2","keyFrames2","beginDirectAnimation","rotation","ToRadians","Math","PI","CreateFromSnippetAsync","then","system","particleCountArr","particle1","isBillboardBased","emitter","preWarmCycles","preWarmStepOffset","updateSpeed","removeColorGradient","addColorGradient","FromHexString","particle2","particle3","particle4","setEnabled","particleSystem","particleTexture","start","addSizeGradient","color1","color2","colorDead","minEmitBox","Zero","maxEmitBox","minScaleX","targetStopDuration","disposeOnStop","blendMode","BLENDMODE_ONEONE","particleSystem2","particleSystem3","particleSystem4","getNodeByName","UItarget","CreatePlane","size","material","diffuseTexture","hasAlpha","alpha","advancedTexture","GUI","CreateFullscreenUI","useInvalidateRectOptimization","detailGUI","addControl","width","height","thickness","linkOffsetX","linkOffsetY","transformCenterX","transformCenterY","background","scaleX","scaleY","cornerRadius","paddingLeft","linkWithMesh","detailGUIText","text","color","fontSize","textWrapping","textVerticalAlignment","VERTICAL_ALIGNMENT_TOP","parent","paddingTop","paddingBottom","paddingRight","itemActionManager","actionManager","scaleXAnimation","ANIMATIONLOOPMODE_CONSTANT","scaleYAnimation","keys","animations","registerAction","OnPointerOverTrigger","ev","beginAnimation","OnPointerOutTrigger","AnimationManager","m_AnimationManager","pedestal","CreateCylinder","diameter","pedestal2","pedestal3","pedestal4","roughness","transparencyMode","albedoTexture","xSlide","xSlide2","xSlide3","xSlide4","keyFramesPY","keyFramesPX","keyFramesPX2","keyFramesPX3","keyFramesPX4","yRot","keyFramesR","onAnimationEnd","getChildMeshes","CameraManager","isPedstalLanding","setCamera","attachControl","setLimit","lowerBetaLimit","upperBetaLimit","lowerRadiusLimit","upperRadiusLimit","panningSensibility","setTarget","onBeforeAnimationsObservable","remove","aniFlow","onFloatingMap","locator","StartFlow","minZ","to","duration","MAP_CENTER","ease","onComplete","currentMode","MINI_MAP_MODE","radius","beta","nDuration","oldMode","BOOTH_MODE","stopFloatingMap","PLAY_MODE","StopFlow","lowerAlphaLimit","upperAlphaLimit","add","flowAvatar","m_cameraManager","setLooAtMesh","cameraMode","_mode","playMode","miniMapMode","boothMode","FlipCylinder","targetPosition","registerBeforeRender","SetTarget","unregisterBeforeRender","ContentsPopUp","LoadingProgressManager","_scene","m_loadingProgressManager","LOADED_DATA","_nData","NaN","sendEvent","ClothImpostor","m_clothImpostor","ParticleManager","m_particleManager","noiseTexture","animationSpeedFactor","persistence","brightness","octaves","sparkParticleSystem","minSize","maxSize","createHemisphericEmitter","minLifeTime","maxLifeTime","emitRate","BLENDMODE_ADD","gravity","noiseStrength","minEmitPower","maxEmitPower","_vec3","startSphere","CreateSphere","isVisible","White","createSphereEmitter","BLENDMODE_STANDARD","BasicWorld","_canvas","canvas","engine","isInput","chest","chestAnim","key_book","card","card_item","highlightLayer","glowLayer","godrays","particlePosition","guiText","guiButton","guiButtonX","LogLevels","NoneLogLevel","Init","light","light2","setEnvironment","setWorld","setInspector","setParticle","runRenderLoop","render","resize","skybox","CreateBox","visibility","skyboxMaterial","backFaceCulling","reflectionTexture","coordinatesMode","SKYBOX_MODE","disableLighting","albedoColor","Black","microSurface","reflectivityColor","clearColor","panel","isVertical","top","verticalAlignment","VERTICAL_ALIGNMENT_BOTTOM","CreateSimpleButton","bottom","left","horizontalAlignment","HORIZONTAL_ALIGNMENT_RIGHT","pointerEnterAnimation","onPointerUpObservable","getChildByName","clear","meshes","cam","speed","frameCount","newPos","setEasingMode","EASINGMODE_EASEINOUT","CreateAndStartAnimation","disposeOnEnd","animateCameraTargetToPosition","animateCameraToPosition","bind","isPointerOver","onPointerEnterObservable","addOnce","onButtonClick","AnimationControl","speedRatio","play","setLight","direction","intensity","diffuse","specular","groundColor","onMeshLoadProgress","loadData","dataUnit","loaded","AddData","ImportMeshAsync","chestLoad","name","scaling","isBlocker","getAnimationGroupByName","pause","loopAnimation","ParticleSpark","BILINEAR_SAMPLINGMODE","mesh","scaleInPlace","_volumetricLightScatteringRTT","renderParticles","t","switchFlag","getDeltaTime","d","sin","_diffuseTexture","level","keyLoad","normalizeToUnitCube","forEach","setAction","pedestalLoad","bumpTexture","clone","meshLoad","meshLoad2","filter","m","getTotalVertices","meshLoad3","meshLoad4","isEnabled","_mesh","onPointerDown","pickResult","_meshEvent","includes","addMesh","removeMesh","OnPickUpTrigger","resizeToFit","stop","anim","isChestOpen","isAnimFinish","projectionMatrix","activeCamera","getProjectionMatrix","r","getRow","isPlaying","cos","setRowFromFloats","w","animatables","masterFrame","createPointEmitter","SetCameraTargetChest","onKeyboardObservable","kbInfo","KEYDOWN","debugLayer","hide","show","enablePopup","overlay","cardFront","cardBack","CreateForMesh","advancedTexture2","image_F","image_B","CARD1_ITEM_NAME","unlit","startApp","world","test","navigator","userAgent","onDataLoadComplete","onDataLoadFail","reactStart","document","getElementById","World","worldSettingComplete","worldLoading","_ev","ReactDOM","StrictMode"],"mappings":"yQAAqBA,E,kCAAAA,EAIVC,YAAa,EAJHD,EAKVE,OAAS,KALCF,EAMVG,OAAS,KANCH,EAOVI,MAAQ,KAPEJ,EAQVK,cAAgB,KARNL,EAUVM,iBAAmB,CACtBC,IAAK,oBACLC,KAAM,QAZOR,EAeVS,WAAa,UAfHT,EAgBVU,WAAa,YAhBHV,EAiBVW,gBAAkB,qBAjBRX,EAkBVY,MAAQ,KAlBEZ,EAmBVa,cAAgB,UAnBNb,EAoBVc,eAAiB,WApBPd,EAsBVe,MAAQ,YAtBEf,EAuBVgB,OAAS,cAvBChB,EAwBViB,MAAQ,YAxBEjB,EAyBVkB,WAAa,iBAzBHlB,EA2BVmB,UAAY,KA3BFnB,EA4BVoB,cAAe,EA5BLpB,EA8BVqB,mBAAqB,eA9BXrB,EA+BVsB,SAAW,KA/BDtB,EAgCVuB,UAAY,KAhCFvB,EAiCVwB,UAAY,KAjCFxB,EAkCVyB,UAAY,KAlCFzB,EAoCV0B,gBAAkB,qBApCR1B,EAqCV2B,iBAAmB,4BArCT3B,EAsCV4B,mBAAqB,8BAtCX5B,EAwCV6B,eAAiB,CAACC,EAAE,EAAIC,EAAE,IAAKC,EAAE,IAxCvBhC,EAyCViC,cAAgB,KAzCNjC,EA2CVkC,OAAS,SA3CClC,EA4CVmC,OAAS,SA5CCnC,EA6CVoC,WAAa,aA7CHpC,EA8CVqC,YAAc,K,IC9CHC,E,WAGrB,aAAc,oB,iDACd,SAAgBC,GACf,IAD4BC,EAC7B,uDAD6C,KAAMC,EACnD,uDADqE,MAAOC,EAC5E,uDADoF,KAG/EC,EAAU,IAAIC,eACdC,EAA6B,OAAlBL,EAEfG,EAAQG,KAAKL,EAAiBF,EAAaM,GAC3C,IAAIE,EAAa,KAyBjB,OAvBAJ,EAAQK,mBAAqB,WAE5B,GAAIL,EAAQM,aAAeL,eAAeM,KAC1C,CACC,IAAIC,EAAU,CACbC,SAAQ,EACRC,QAAQ,KACRC,OAAOX,EAAQY,OACfC,KAAK,MAEgB,MAAnBb,EAAQY,QAAqC,MAAnBZ,EAAQY,SACpCJ,EAAUM,KAAKC,MAAMf,EAAQgB,eAE9BZ,EAAaI,EACVX,GAAcA,EAAcW,KAKjCR,EAAQiB,iBAAiB,eAAgB,mBAAmB,iBAC5DjB,EAAQkB,iBAAkB,EAC1BlB,EAAQmB,KAAKL,KAAKM,UAAUrB,IAErBK,M,KCtBYiB,E,WAgBjB,WAAYC,GAIR,GAHH,oBAGOA,IAAaD,EAAYE,UAEzB,MAAM,IAAIC,MAAO,uH,oDAUzB,WAQI,OANgC,MAA7BH,EAAYI,gBAEXJ,EAAYI,cAAgB,IAAIJ,EAAYA,EAAYE,WACxDF,EAAYE,UAAY,GACxBF,EAAYK,kBAAoB,IAE7BL,EAAYI,gB,qBAOvB,WACIJ,EAAYK,kBAAoB,KAChCL,EAAYE,UAAY,KACxBF,EAAYI,cAAgB,O,6DAShC,WAAsB5B,EAAe8B,GAArC,kFAEoC,MAA7BN,EAAYI,eAAuBJ,EAAYO,cAClDP,EAAYQ,eAAiBhC,EAHjC,SAM8BF,EAAWmC,SAASzE,EAAU0B,iBAN5D,cAMQgD,EANR,OAOI1E,EAAUM,iBAAiBC,IAAMoE,OAAOD,EAAcpE,kBACtDN,EAAUM,iBAAiBE,KAAOmE,OAAOD,EAAcE,mBAR3D,SAW4BtC,EAAWmC,SAASzE,EAAU2B,kBAX1D,cAWQkD,EAXR,OAYIb,EAAYK,kBAAoBQ,EAAYrB,KAZhD,UAgB8BlB,EAAWmC,SAASzE,EAAU4B,oBAhB5D,QAgBQkD,EAhBR,OAiBId,EAAYe,mBAAqBD,EAActB,KAC/CQ,EAAYQ,iBAlBhB,4C,kFA2BA,SAAmBQ,GACfhB,EAAYiB,cAAgBD,I,yBAQhC,WACI,OAAOhB,EAAYiB,gB,6BAQvB,WACI,OAAOjB,EAAYK,oB,iCASvB,SAA2Ba,GAGvB,IAFA,IAAI/B,EAAU,KACVgC,EAAgB,KACZC,EAAI,EAAGA,EAAKpB,EAAYK,kBAAkBgB,OAAQD,IAEtD,GADAjC,EAAUa,EAAYK,kBAAkBe,GACrCT,OAAOxB,EAAQmC,MAAQX,OAAOO,GACjC,CACIC,EAAgBhC,EAChB,MAGR,OAAOgC,I,8BAQX,WACI,OAAOnB,EAAYe,uB,KAtINf,EAEVuB,mBAAqB,qBAFXvB,EAMViB,cAAgB,KANNjB,EAOVK,kBAAoB,KAPVL,EAQVe,mBAAqB,K,ICtBXS,E,6FAWjB,SAAiBhC,EAAMiC,EAAKC,GAIxB,YAFaC,IAATD,IAAoBA,EAAO,OAEvBlC,EAAKoC,MAAK,SAAUC,EAAGC,GAC3B,IAAIhE,EAAI+D,EAAEJ,GACN1D,EAAI+D,EAAEL,GACN1C,EAAW,KAOf,MANa,SAAT2C,EACA3C,EAAcjB,EAAIC,GAAK,EAAID,EAAIC,EAAI,EAAI,EACvB,QAAT2D,IACP3C,EAAcjB,EAAIC,GAAK,EAAID,EAAIC,EAAI,EAAI,GAGpCgB,O,yBAYf,SAAoBgD,EAAWC,GAC9B,IADwCC,IACzC,yDAMI,OAHGA,EAAuBF,EAAY,IAAKC,EAAS,KACjCD,EAAY,IAAKC,M,KC1CvBE,E,kCAAAA,EACVC,WAAY,cADFD,EAEVE,aAAc,cAFJF,EAGVG,UAAW,WAHDH,EAIVI,UAAW,WAJDJ,EAMVK,kBAAoB,I,ICIVC,E,WAWjB,WAAYvC,GAER,GADH,oBACOA,IAAauC,EAAatC,UAE1B,MAAM,IAAIC,MAAO,yH,oDAUzB,WAQI,OANkC,MAA/BqC,EAAaC,iBAEZD,EAAaC,eAAiB,IAAID,EAAaA,EAAatC,WAC5DsC,EAAatC,UAAY,GACzBsC,EAAaE,YAAc,IAExBF,EAAaC,iB,qBAOxB,WACI,IAAI,IAAME,KAASH,EAAaE,YAC5BF,EAAaE,YAAYC,GAAS,KAGtCH,EAAaE,YAAc,KAC3BF,EAAatC,UAAY,KACzBsC,EAAaC,eAAiB,O,yBASlC,SAAmBG,EAAWpE,GACrBgE,EAAatC,UAKdsC,EAAaE,YAAYE,KAAYJ,EAAaE,YAAYE,GAAapE,GAH3EqE,QAAQC,IAAK,8GAAqCF,EAAY,0D,uBAYtE,SAAiBA,GAA4B,IAAjBG,EAAgB,uDAAL,KAC9BP,EAAatC,UAMfsC,EAAaE,YAAYE,IAAYJ,EAAaE,YAAYE,GAAWG,GAJxEF,QAAQC,IAAK,uK,KC1EJE,E,kCAAAA,EAKVC,oBAAsB,sBALZD,EAMVE,cAAgB,gBANNF,EAOVG,qBAAsB,uBAPZH,EAQVI,aAAe,eARLJ,EASVK,cAAgB,gBATNL,EAUVM,WAAa,aAVHN,EAWVO,SAAW,WAXDP,EAiBVQ,cAAgB,gBAjBNR,EAkBVS,mBAAqB,qBAlBXT,EAmBVU,kBAAoB,oBAnBVV,EAoBVW,aAAe,e,4BC5BpBC,EAAe,SAAC,GAAgB,IAAfC,EAAc,EAAdA,SAErB,OADiBC,wBAAc,CAACC,SAAU,MAEpCF,EACA,MAGFG,EAAS,SAAC,GAAgB,IAAfH,EAAc,EAAdA,SAEf,OADiBC,wBAAc,CAACG,SAAU,IAAKF,SAAU,MAEnDF,EACA,MAGFK,EAAS,SAAC,GAAgB,IAAfL,EAAc,EAAdA,SAEf,OADiBC,wBAAc,CAACG,SAAU,IAAKF,SAAU,MAEnDF,EACA,MAGFM,EAAU,SAAC,GAAgB,IAAfN,EAAc,EAAdA,SAEhB,OADkBC,wBAAc,CAACG,SAAU,MAErCJ,EACA,MCzBFO,EAAeC,IAAOC,IAAV,oHAOZC,EAAQF,YAAOD,EAAPC,CAAH,sHACG,SAACG,GAAD,OACO,OAAlBA,EAAMC,QACDD,EAAMC,QACN,QAEG,SAAAD,GAAK,OAAIA,EAAME,kBACd,SAAAF,GAAK,OAAIA,EAAMG,mBACJ,SAACH,GAAD,OACA,OAApBA,EAAMI,UACDJ,EAAMI,UACN,QAEK,SAACJ,GAAD,OACM,OAAjBA,EAAMK,OACAL,EAAMK,OAAS,cACf,oBAIFC,EAAUT,IAAOC,IAAV,8QACF,SAAAE,GAAK,OAAIA,EAAMO,aACX,SAAAP,GAAK,OAAIA,EAAMQ,YACb,SAAAR,GAAK,OAAIA,EAAMS,cAEb,SAACT,GAAD,OACQ,OAAtBA,EAAMU,YACDV,EAAMU,YACN,QAEW,SAACV,GAAD,OACQ,OAAxBA,EAAMW,cACDX,EAAMW,cACN,QAEO,SAACX,GAAD,OACQ,OAApBA,EAAMY,UACDZ,EAAMY,UACN,QAEM,SAAAZ,GAAK,OAAIA,EAAMa,aACZ,SAAAb,GAAK,OAAIA,EAAMc,gBAErB,SAACd,GAAD,OACQ,OAAjBA,EAAMK,OACAL,EAAMK,OAAS,cACf,oB,OC5CNU,EAAclB,YAAOS,EAAPT,CAAH,uEAIGA,YAAOE,EAAPF,CAAH,6EAKEA,IAAOmB,MAAV,0fAED,SAAAhB,GAAK,OAAIA,EAAMiB,SAIjB,SAAAjB,GAAK,OAAIA,EAAMkB,QAkBdrB,IAAOsB,OAAV,2ZAgBQtB,IAAOsB,OAAV,2ZA4HCC,I,EAAAA,EA5Gf,SAAkBpB,GAEd,MAAgCqB,mBAAS,IAAzC,mBAiBA,OAjBA,UAkBI,eAACzB,EAAD,WACQ,cAACG,EAAD,CAAOI,gBAAiBnD,EAASsE,YAAYtB,EAAMuB,IAAI,IAAKtB,QAAQ,OAApE,SACI,cAACF,EAAD,CAAOG,eAAe,KAAKC,gBAAgB,WAwB/C,eAACJ,EAAD,CAAOI,gBAAiBnD,EAASsE,YAAYtB,EAAMuB,IAAI,IAAMtB,QAAQ,OAArE,UACI,cAACF,EAAD,CAAOG,eAAe,KAAKC,gBAAgB,SAC3C,eAACJ,EAAD,CAAOG,eAAe,MAAMC,gBAAgB,OAA5C,UACI,cAAC,EAAD,UACI,cAACY,EAAD,kBAMJ,cAAC,EAAD,IAKA,cAAC,EAAD,IAKA,cAAC,EAAD,UAOR,cAAChB,EAAD,CAAOI,gBAAiBnD,EAASsE,YAAYtB,EAAMuB,IAAI,MACvD,cAACxB,EAAD,CAAOI,gBAAiBnD,EAASsE,YAAYtB,EAAMuB,IAAI,IAAMtB,QAAQ,OAArE,SACI,cAACF,EAAD,CAAOG,eAAe,KAAKC,gBAAgB,eCjJ3DqB,EAAW3B,IAAOC,IAAV,mLAIC,SAAAE,GAAK,OAAIA,EAAMyB,WAyCbC,I,IAAAA,EApCf,SAA4B1B,GACxB,OACI,eAACJ,EAAD,WAEI,eAACG,EAAD,CACIG,eAAe,OACfC,gBAAiBnD,EAASsE,YAAYtB,EAAM2B,WAAY,IAF5D,UAGI,cAAC,EAAD,UACI,eAACrB,EAAD,CAASE,SAAS,OAAOD,UAAU,OAAOE,WAAW,MAAMG,UAAU,SAASC,UAAU,OAAxF,UACKb,EAAMyB,QADX,SAIJ,cAAC,EAAD,UACI,eAACnB,EAAD,CAASE,SAAS,OAAOD,UAAU,OAAOE,WAAW,MAAMG,UAAU,SAArE,UACKZ,EAAMyB,QADX,SAIJ,cAAC,EAAD,UACI,eAACnB,EAAD,CAASE,SAAS,OAAOD,UAAU,OAAOE,WAAW,MAAMG,UAAU,SAArE,UACKZ,EAAMyB,QADX,SAIJ,cAAC,EAAD,UACI,eAACnB,EAAD,CAASE,SAAS,OAAOD,UAAU,OAAOE,WAAW,MAAMG,UAAU,SAArE,UACKZ,EAAMyB,QADX,SAIJ,cAACD,EAAD,CAAUC,QAASzB,EAAMyB,aAE7B,cAAC1B,EAAD,CACIG,eAAe,OACfC,gBAAiBnD,EAASsE,YAAYtB,EAAM2B,WAAY,UC9CzD,MAA0B,sCCsBrCC,EAAQ/B,IAAOC,IAAV,sKAEG,SAACE,GAAD,OAAWA,EAAM6B,UACH,SAAC7B,GAAD,OAAWA,EAAM8B,QAM7BjC,IAAOC,IAAV,qKAEe,SAACE,GAAD,OAAWA,EAAM+B,OACpB,SAAC/B,GAAD,OAAWA,EAAMiB,SAE7B,SAACjB,GAAD,OAAWA,EAAMiB,SA6Hbe,I,EAAAA,EAzHf,SAAqBhC,GAEnB,MAAkCqB,mBAAS,GAA3C,mBAAKY,EAAL,KAAiBC,EAAjB,KAEA,EAAoCb,oBAAS,GAA7C,mBAAKc,EAAL,KAAkBC,EAAlB,KACA,EAAoCf,oBAAS,GAA7C,mBAAKgB,EAAL,KAAkBC,EAAlB,KAEIC,EAAoB,SAACC,GACvB,IAAIC,EAAQC,SAASF,GAENC,EAAfA,EAAQ,IAAe,IAAgBC,SAASF,GAChDN,EAAcO,IAGZE,EAAkB,WAEpBP,GAAe,IA6BjB,OA1BAQ,qBAAU,WACR,IAAIC,EAAgBC,YAAW,WAE7BR,GAAe,KACd5E,EAAaK,mBAChB,OAAO,WACLgF,aAAaF,MAEd,IAEHD,qBAAU,WACR5E,EAAagF,YACXxE,EAAkBE,cAClB6D,GAEFvE,EAAagF,YACXxE,EAAkBC,oBAClBkE,KAED,IAEHC,qBAAU,WACJT,GAAeE,GACjBrC,EAAMiD,kBAAkBvF,EAAaG,aACtC,CAACsE,EAAaE,EAAarC,IAG5B,eAACJ,EAAD,WACE,cAACgC,EAAD,CACEE,KAAMoB,EACNrB,OAAQ7E,EAASsE,YAAYtB,EAAMuB,IAAK,OAE1C,cAACxB,EAAD,CACEG,eAAe,QACfC,gBAAiBnD,EAASsE,YAAYtB,EAAMuB,IAAK,MAEnD,cAACxB,EAAD,CAAOI,gBAAiBnD,EAASsE,YAAYtB,EAAMuB,IAAK,MAGxD,cAACxB,EAAD,CAAOI,gBAAiBnD,EAASsE,YAAYtB,EAAMuB,IAAK,IAAxD,SACE,cAAC,EAAD,CACEI,WAAY3E,EAASsE,YAAYtB,EAAMuB,IAAK,IAAI,GAChDE,QAASQ,MAGb,eAAClC,EAAD,CAAOI,gBAAiBnD,EAASsE,YAAYtB,EAAMuB,IAAK,IAAxD,UACE,cAAC,EAAD,UACE,cAACjB,EAAD,CACEE,SAAS,OACTD,UAAU,OACVE,WAAW,MACXI,UAAU,QACVC,aAAa,OACbF,UAAU,SANZ,+BAWF,cAAC,EAAD,UACE,cAACN,EAAD,CACEE,SAAS,OACTD,UAAU,OACVE,WAAW,MACXI,UAAU,OACVC,aAAa,OACbF,UAAU,SANZ,+BAWF,cAAC,EAAD,UACE,cAACN,EAAD,CACEE,SAAS,OACTD,UAAU,OACVE,WAAW,MACXI,UAAU,MACVC,aAAa,OACbF,UAAU,SANZ,+BAWF,cAAC,EAAD,UACE,cAACN,EAAD,CACEE,SAAS,OACTD,UAAU,OACVE,WAAW,MACXI,UAAU,MACVC,aAAa,OACbF,UAAU,SANZ,kCAcJ,cAACb,EAAD,CAAOI,gBAAiBnD,EAASsE,YAAYtB,EAAMuB,IAAK,UC7I1D3B,EAAeC,IAAOC,IAAV,4IAGF,SAAAE,GAAK,OAAMA,EAAMG,mBAK3BgD,EAAY,GA4ChB,SAASC,GAAcpD,GACnB,OAAIA,EAAMqD,cAAgB3F,EAAaE,aAC5B,cAAC,EAAD,CAAaqF,kBAAmBjD,EAAMsD,sBAAuB/B,IAAKvB,EAAMuB,MAE1EvB,EAAMqD,cAAgB3F,EAAaG,UACjC,cAAC,EAAD,CAAUoF,kBAAmBjD,EAAMsD,sBAAuB/B,IAAKvB,EAAMuB,WAD3E,EAQMgC,OAtDf,WACI,MAA+ClC,mBAAS3D,EAAaC,YAArE,mBAAO6F,EAAP,KAA0BP,EAA1B,KACA,EAAoB5B,mBAAS,GAA7B,mBAAKE,EAAL,KAAUkC,EAAV,KAIAb,qBAAU,WACNO,EAAY3H,EAAYkI,kBACxB,IAAIC,EAAQ,YAAOR,GAEnBQ,EAAW3G,EAAS4G,SAASD,EAAU,KAAM,OAC7CR,EAAS,YAAOQ,GAGhBE,IAAQC,WAAW,oBACrB,IAEF,IAAMC,EAAgBC,uBAAY,WAC9B,IAAIC,EAASC,OAAOC,YACjBF,IAAW1C,GACdkC,EAAOQ,KACR,CAAC1C,IAUJ,OARA2C,OAAOE,iBAAiB,UAAW,WAC/BL,OAGJnB,qBAAU,WACNmB,MACF,CAACA,IAGC,cAAC,EAAD,CAAc5D,gBAAiBnD,EAASsE,YAAYC,EAAI,KAAxD,SACI,cAAC6B,GAAD,CACIC,YAAaG,EACbF,sBAAuBL,EACvB1B,IAAKA,O,uEC7DA8C,I,yCAKrBC,OAAOC,OAAQF,GAAgBG,UAAW,CAEzCJ,iBAAkB,SAAWlH,EAAMuH,QACTtH,IAApBuH,KAAKC,aAA2BD,KAAKC,WAAa,IACvD,IAAIC,EAAYF,KAAKC,gBAEMxH,IAAtByH,EAAW1H,KACf0H,EAAW1H,GAAS,KAG4B,IAA5C0H,EAAW1H,GAAO2H,QAASJ,IAC/BG,EAAW1H,GAAO4H,KAAML,IAI1BM,iBAAkB,SAAW7H,EAAMuH,GAClC,QAAyBtH,IAApBuH,KAAKC,WAA2B,OAAO,EAE5C,IAAIC,EAAYF,KAAKC,WAErB,YAA6BxH,IAAtByH,EAAW1H,KAAoE,IAA5C0H,EAAW1H,GAAO2H,QAASJ,IAGtEO,oBAAqB,SAAW9H,EAAMuH,GAErC,QAAyBtH,IAApBuH,KAAKC,WAAV,CAEA,IACIM,EADYP,KAAKC,WACUzH,GAE/B,QAAuBC,IAAlB8H,EAA8B,CAElC,IAAIC,EAAQD,EAAcJ,QAASJ,IAElB,IAAZS,GACJD,EAAcE,OAAQD,EAAO,MAKhCE,cAAe,SAAWjH,GAEzB,QAAyBhB,IAApBuH,KAAKC,WAAV,CAEA,IACIM,EADYP,KAAKC,WACUxG,EAAMjB,MAErC,QAAuBC,IAAlB8H,EAA8B,CAElC9G,EAAMkH,OAASX,KAGf,IAFA,IAAIY,EAAQL,EAAcM,MAAO,GAEvB3I,EAAI,EAAG4I,EAAIF,EAAMzI,OAAQD,EAAI4I,EAAG5I,IACzC0I,EAAO1I,GAAI6I,KAAMf,KAAMvG,Q,qBChDNuH,G,WAoBnB,WAAYjK,GAGV,GAHqB,oBAGjBA,IAAaiK,EAAgBhK,UAC/B,MAAM,IAAIC,MAAM,+H,gDASpB,WACEgK,KAAKC,aAAaF,EAAgBG,YAClCF,KAAKC,aAAaF,EAAgBI,QAElCJ,EAAgBK,mBAAqB,EAErCL,EAAgBM,WAAa,KAC7BN,EAAgBI,OAAOG,UACvBP,EAAgBQ,kBAAoB,KACpCR,EAAgBhK,UAAY,O,yBAQ9B,WAKE,OAJyC,MAArCgK,EAAgBQ,oBAClBR,EAAgBQ,kBAAoB,IAAIR,EAAgBA,EAAgBhK,WACxEgK,EAAgBhK,UAAY,IAEvBgK,EAAgBQ,oB,kEAGzB,gHACMC,EAAQ3O,EAAUI,MACTJ,EAAUG,OAEvB+N,EAAgBU,MAAMC,SAAW,IAAIC,YAAiB,GAAI,EAAG,GAC7DZ,EAAgBa,MAAMF,SAAW,IAAIC,YAAiB,IAAK,EAAG,GAC9DZ,EAAgBc,MAAMH,SAAW,IAAIC,WAAgB,EAAG,EAAG,GAC3DZ,EAAgBe,MAAMJ,SAAW,IAAIC,WAAgB,EAAG,EAAG,GAErDI,EAAY,IACZC,EAAS,IAAIL,aAAkB,SAAU,aAAcI,EAAWJ,aAAkBM,oBAAqBN,aAAkBO,0BAC3HC,EAAY,IAERhC,KAAK,CACbiC,MAAO,EACPC,MAAO,MAETF,EAAUhC,KAAK,CACbiC,MAAOL,EACPM,MAAO,IAETF,EAAUhC,KAAK,CACbiC,MAAO,IACPC,MAAO,MAGTL,EAAOM,QAAQH,GAETI,EAAU,IAAIZ,aAAkB,UAAW,aAAcI,EAAWJ,aAAkBM,oBAAqBN,aAAkBO,0BAC7HM,EAAa,IAERrC,KAAK,CACdiC,MAAO,EACPC,MAAO,IAETG,EAAWrC,KAAK,CACdiC,MAAOL,EACPM,MAAO,MAETG,EAAWrC,KAAK,CACdiC,MAAO,IACPC,MAAO,IAGTE,EAAQD,QAAQE,GAEhBhB,EAAMiB,qBAAqB1B,EAAgBU,MAAO,CAACO,GAAS,EAAG,KAAe,GAC9ER,EAAMiB,qBAAqB1B,EAAgBa,MAAO,CAACW,GAAU,EAAG,KAAe,GAC/Ef,EAAMiB,qBAAqB1B,EAAgBc,MAAO,CAACG,GAAS,EAAG,KAAe,GAC9ER,EAAMiB,qBAAqB1B,EAAgBe,MAAO,CAACS,GAAU,EAAG,KAAe,GAE/ExB,EAAgBa,MAAMc,SAAW,IAAIf,WAAgB,EAAGA,SAAcgB,UAAU,KAAM,GACtF5B,EAAgBc,MAAMa,SAAW,IAAIf,WAAgB,EAAa,IAAViB,KAAKC,GAAU,GACvE9B,EAAgBe,MAAMY,SAAW,IAAIf,WAAgB,EAAa,IAAViB,KAAKC,GAAW,GAExElB,kBAAuBmB,uBAAuB,WAAYtB,GAAO,GAAOuB,MAAK,SAACC,GAC5EjC,EAAgBkC,iBAAiB9C,KAAK6C,GACtCjC,EAAgBmC,UAAYF,EAC5BA,EAAOG,kBAAmB,EAC1BH,EAAOI,QAAU,IAAIzB,YAAiB,EAAG,GAAK,GAC9CqB,EAAOK,cAAgB,IACvBL,EAAOM,kBAAoB,EAC3BN,EAAOO,YAAc,IACrBP,EAAOQ,oBAAoB,KAC3BR,EAAOQ,oBAAoB,KAC3BR,EAAOS,iBAAiB,IAAM,IAAI9B,UAAe+B,cAAc,aAAc,IAAI/B,UAAe+B,cAAc,cAC9GV,EAAOS,iBAAiB,IAAM,IAAI9B,UAAe+B,cAAc,aAAc,IAAI/B,UAAe+B,cAAc,iBAGhH/B,kBAAuBmB,uBAAuB,WAAYtB,GAAO,GAAOuB,MAAK,SAACC,GAC5EjC,EAAgBkC,iBAAiB9C,KAAK6C,GAEtCjC,EAAgB4C,UAAYX,EAC5BA,EAAOG,kBAAmB,EAC1BH,EAAOI,QAAU,IAAIzB,YAAiB,EAAG,GAAK,GAC9CqB,EAAOK,cAAgB,IACvBL,EAAOM,kBAAoB,EAC3BN,EAAOO,YAAc,IACrBP,EAAOQ,oBAAoB,KAC3BR,EAAOQ,oBAAoB,KAC3BR,EAAOS,iBAAiB,IAAM,IAAI9B,UAAe+B,cAAc,aAAc,IAAI/B,UAAe+B,cAAc,cAC9GV,EAAOS,iBAAiB,IAAM,IAAI9B,UAAe+B,cAAc,aAAc,IAAI/B,UAAe+B,cAAc,iBAGhH/B,kBAAuBmB,uBAAuB,WAAYtB,GAAO,GAAOuB,MAAK,SAACC,GAC5EjC,EAAgBkC,iBAAiB9C,KAAK6C,GAEtCjC,EAAgB6C,UAAYZ,EAC5BA,EAAOG,kBAAmB,EAC1BH,EAAOI,QAAU,IAAIzB,WAAgB,EAAG,GAAK,GAC7CqB,EAAOK,cAAgB,IACvBL,EAAOM,kBAAoB,EAC3BN,EAAOO,YAAc,OAGvB5B,kBAAuBmB,uBAAuB,WAAYtB,GAAO,GAAOuB,MAAK,SAACC,GAC5EjC,EAAgB8C,UAAYb,EAC5BA,EAAOG,kBAAmB,EAC1BH,EAAOI,QAAU,IAAIzB,WAAgB,EAAG,GAAK,GAC7CqB,EAAOK,cAAgB,IACvBL,EAAOM,kBAAoB,EAC3BN,EAAOO,YAAc,IACrBP,EAAOQ,oBAAoB,KAC3BR,EAAOQ,oBAAoB,KAC3BR,EAAOS,iBAAiB,IAAM,IAAI9B,UAAe+B,cAAc,aAAc,IAAI/B,UAAe+B,cAAc,cAC9GV,EAAOS,iBAAiB,IAAM,IAAI9B,UAAe+B,cAAc,aAAc,IAAI/B,UAAe+B,cAAc,iBAGhHvF,YAAW,WACT4C,EAAgBU,MAAMqC,YAAW,GACjC/C,EAAgBa,MAAMkC,YAAW,GACjC/C,EAAgBc,MAAMiC,YAAW,GACjC/C,EAAgBe,MAAMgC,YAAW,KAChC,MAECC,EAAiB,IAAIpC,kBAAuB,YAAa,IAE9CqC,gBAAkB,IAAIrC,WAAgB,mCAErDoC,EAAeX,QAAU,IAAIzB,YAAiB,EAAG,EAAG,GACpDoC,EAAeE,QAEfF,EAAeG,gBAAgB,EAAG,EAAG,GACrCH,EAAeG,gBAAgB,EAAK,EAAG,GACvCH,EAAeI,OAAS,IAAIxC,UAAe,IAAM,IAAM,IAAM,IAC7DoC,EAAeK,OAAS,IAAIzC,UAAe,IAAM,IAAM,IAAM,IAC7DoC,EAAeM,UAAY,IAAI1C,UAAe,EAAG,EAAG,EAAG,GACvDoC,EAAeR,YAAc,IAC7BQ,EAAeO,WAAa,IAAI3C,WAAgB4C,KAChDR,EAAeS,WAAa,IAAI7C,WAAgB4C,KAChDR,EAAeU,UAAY,GAC3BV,EAAeU,UAAY,EAC3BV,EAAeW,mBAAqB,GACpCX,EAAeY,eAAgB,EAC/BZ,EAAea,UAAYjD,kBAAuBkD,kBAE9CC,EAAkB,IAAInD,kBAAuB,aAAc,IAC/CqC,gBAAkB,IAAIrC,WAAgB,mCAEtDmD,EAAgB1B,QAAU,IAAIzB,YAAiB,EAAG,EAAG,GACrDmD,EAAgBb,QAEhBa,EAAgBZ,gBAAgB,EAAG,EAAG,GACtCY,EAAgBZ,gBAAgB,EAAK,EAAG,GACxCY,EAAgBX,OAAS,IAAIxC,UAAe,IAAM,IAAM,IAAM,IAC9DmD,EAAgBV,OAAS,IAAIzC,UAAe,IAAM,IAAM,IAAM,IAC9DmD,EAAgBT,UAAY,IAAI1C,UAAe,EAAG,EAAG,EAAG,GACxDmD,EAAgBvB,YAAc,IAC9BuB,EAAgBR,WAAa,IAAI3C,WAAgB4C,KACjDO,EAAgBN,WAAa,IAAI7C,WAAgB4C,KACjDO,EAAgBL,UAAY,GAC5BK,EAAgBL,UAAY,EAE5BK,EAAgBJ,mBAAqB,GACrCI,EAAgBH,eAAgB,EAChCG,EAAgBF,UAAYjD,kBAAuBkD,kBAE/CE,EAAkB,IAAIpD,kBAAuB,aAAc,IAC/CqC,gBAAkB,IAAIrC,WAAgB,mCAEtDoD,EAAgB3B,QAAU,IAAIzB,WAAgB,EAAG,EAAG,GACpDoD,EAAgBd,QAEhBc,EAAgBb,gBAAgB,EAAG,EAAG,GACtCa,EAAgBb,gBAAgB,EAAK,EAAG,GACxCa,EAAgBZ,OAAS,IAAIxC,UAAe,IAAM,IAAM,IAAM,IAC9DoD,EAAgBX,OAAS,IAAIzC,UAAe,IAAM,IAAM,IAAM,IAC9DoD,EAAgBV,UAAY,IAAI1C,UAAe,EAAG,EAAG,EAAG,GACxDoD,EAAgBxB,YAAc,IAC9BwB,EAAgBT,WAAa,IAAI3C,WAAgB4C,KACjDQ,EAAgBP,WAAa,IAAI7C,WAAgB4C,KACjDQ,EAAgBN,UAAY,GAC5BM,EAAgBN,UAAY,EAC5BM,EAAgBL,mBAAqB,GACrCK,EAAgBJ,eAAgB,EAChCI,EAAgBH,UAAYjD,kBAAuBkD,kBAE/CG,EAAkB,IAAIrD,kBAAuB,aAAc,IAC/CqC,gBAAkB,IAAIrC,WAAgB,mCAEtDqD,EAAgB5B,QAAU,IAAIzB,WAAgB,EAAG,EAAG,GACpDqD,EAAgBf,QAEhBe,EAAgBd,gBAAgB,EAAG,EAAG,GACtCc,EAAgBd,gBAAgB,EAAK,EAAG,GACxCc,EAAgBb,OAAS,IAAIxC,UAAe,IAAM,IAAM,IAAM,IAC9DqD,EAAgBZ,OAAS,IAAIzC,UAAe,IAAM,IAAM,IAAM,IAC9DqD,EAAgBX,UAAY,IAAI1C,UAAe,EAAG,EAAG,EAAG,GACxDqD,EAAgBzB,YAAc,IAC9ByB,EAAgBV,WAAa,IAAI3C,WAAgB4C,KACjDS,EAAgBR,WAAa,IAAI7C,WAAgB4C,KACjDS,EAAgBP,UAAY,GAC5BO,EAAgBP,UAAY,EAE5BO,EAAgBN,mBAAqB,GACrCM,EAAgBL,eAAgB,EAChCK,EAAgBJ,UAAYjD,kBAAuBkD,iBAIvCrD,EAAMyD,cAAc,qBAChClE,EAAgBmE,SAAW,IAAIvD,eAAoBwD,YAAY,WAAY,CAAEC,KAAM,IAAO5D,GAC1FT,EAAgBmE,SAASG,SAAW,IAAI1D,oBAAyB,eAAgBH,GACjFT,EAAgBmE,SAASG,SAASC,eAAiB,IAAI3D,WAAgB,mBAAoBH,GAC3FT,EAAgBmE,SAASG,SAASC,eAAeC,UAAW,EAC5DxE,EAAgBmE,SAASG,SAASG,MAAQ,GAEtCC,EAAkBC,0BAA2BC,mBAAmB,OACpDC,+BAAgC,EAEhD7E,EAAgB8E,UAAY,IAAIH,aAChCD,EAAgBK,WAAW/E,EAAgB8E,WAC3C9E,EAAgB8E,UAAUE,MAAQ,QAClChF,EAAgB8E,UAAUG,OAAS,QACnCjF,EAAgB8E,UAAUI,UAAY,EACtClF,EAAgB8E,UAAUK,YAAc,QACxCnF,EAAgB8E,UAAUM,YAAc,SACxCpF,EAAgB8E,UAAUO,iBAAmB,EAC7CrF,EAAgB8E,UAAUQ,iBAAmB,EAC7CtF,EAAgB8E,UAAUS,WAAa,OACvCvF,EAAgB8E,UAAUL,MAAQ,GAClCzE,EAAgB8E,UAAUU,OAAS,EACnCxF,EAAgB8E,UAAUW,OAAS,EACnCzF,EAAgB8E,UAAUY,aAAe,GACzC1F,EAAgB8E,UAAUa,YAAc,KACxC3F,EAAgB8E,UAAUc,aAAa5F,EAAgBmE,UAEvDnE,EAAgB6F,cAAgB,IAAIlB,aACpC3E,EAAgB6F,cAAcC,KAAO,GACrC9F,EAAgB6F,cAAcE,MAAQ,QACtC/F,EAAgB6F,cAAcG,SAAW,GACzChG,EAAgB6F,cAAcI,cAAe,EAC7CjG,EAAgB6F,cAAcK,sBAAwBvB,WAAYwB,uBAClEnG,EAAgB6F,cAAcN,WAAa,UAC3CvF,EAAgB8E,UAAUC,WAAW/E,EAAgB6F,eACrD7F,EAAgB6F,cAAcpB,MAAQ,EAAIzE,EAAgB6F,cAAcO,OAAO3B,MAC/EzE,EAAgB6F,cAAcQ,WAAa,OAC3CrG,EAAgB6F,cAAcS,cAAgB,OAC9CtG,EAAgB6F,cAAcF,YAAc,OAC5C3F,EAAgB6F,cAAcU,aAAe,OAEzCC,EAAoB,IAAI5F,iBAAsBH,GAClDT,EAAgBmE,SAASsC,cAAgBD,EAErCE,EAAkB,IAAI9F,aAAkB,cAAe,SAAU,GAAIA,aAAkBM,oBAAqBN,aAAkB+F,4BAC9HC,EAAkB,IAAIhG,aAAkB,cAAe,SAAU,GAAIA,aAAkBM,oBAAqBN,aAAkB+F,6BAE9HE,EAAO,IAENzH,KAAK,CACRiC,MAAO,EACPC,MAAO,IAETuF,EAAKzH,KAAK,CACRiC,MAAO,GACPC,MAAO,IAGToF,EAAgBnF,QAAQsF,GACxBD,EAAgBrF,QAAQsF,GACxB7G,EAAgB8E,UAAUgC,WAAa,GACvC9G,EAAgB8E,UAAUgC,WAAW1H,KAAKsH,GAC1C1G,EAAgB8E,UAAUgC,WAAW1H,KAAKwH,GAE1CJ,EAAkBO,eAChB,IAAInG,qBAA0BA,iBAAsBoG,sBAAsB,SAAUC,GAC9EnV,EAAUoB,cACZuN,EAAMyG,eAAelH,EAAgB8E,UAAW,EAAG,IAAI,OAK7D0B,EAAkBO,eAChB,IAAInG,qBAA0BA,iBAAsBuG,qBAAqB,SAAUF,GAC7EnV,EAAUoB,cACZuN,EAAMyG,eAAelH,EAAgB8E,UAAW,GAAI,GAAG,OAnR/D,6C,6DA1DmB9E,GAWZkC,iBAAmB,GAXPlC,GAYZmE,SAAW,KAZCnE,GAaZ8E,UAAY,KAbA9E,GAcZ6F,cAAgB,K,IChBJuB,G,WAWnB,WAAYrR,GAGV,GAHqB,oBAGjBA,IAAaqR,EAAiBpR,UAChC,MAAM,IAAIC,MAAM,iI,gDASpB,WACEgK,KAAKC,aAAakH,EAAiBjH,YACnCF,KAAKC,aAAakH,EAAiBhH,QAEnCgH,EAAiB/G,mBAAqB,EAEtC+G,EAAiB9G,WAAa,KAC9B8G,EAAiBhH,OAAOG,UACxB6G,EAAiBC,mBAAqB,KACtCD,EAAiBpR,UAAY,O,yBAQ/B,WAKE,OAJ2C,MAAvCoR,EAAiBC,qBACnBD,EAAiBC,mBAAqB,IAAID,EAAiBA,EAAiBpR,WAC5EoR,EAAiBpR,UAAY,IAExBoR,EAAiBC,qB,0BAG1B,WACE,IAAI5G,EAAQ3O,EAAUI,MAEtBkV,EAAiBE,SAAW1G,eAAoB2G,eAAe,WAAnC,cAAiDC,SAAU,EAAGvC,OAAQ,IAAtE,WAAqF,KAAOxE,GACxH2G,EAAiBK,UAAY7G,eAAoB2G,eAAe,YAAnC,cAAkDC,SAAU,EAAGvC,OAAQ,IAAvE,WAAsF,KAAOxE,GAC1H2G,EAAiBM,UAAY9G,eAAoB2G,eAAe,YAAnC,cAAkDC,SAAU,EAAGvC,OAAQ,IAAvE,WAAsF,KAAOxE,GAC1H2G,EAAiBO,UAAY/G,eAAoB2G,eAAe,YAAnC,cAAkDC,SAAU,EAAGvC,OAAQ,IAAvE,WAAsF,KAAOxE,GAE1H2G,EAAiBE,SAAShD,SAAW,IAAI1D,eAAoB,aAAcH,GAC3E2G,EAAiBK,UAAUnD,SAAW,IAAI1D,eAAoB,cAAeH,GAC7E2G,EAAiBM,UAAUpD,SAAW,IAAI1D,eAAoB,cAAeH,GAC7E2G,EAAiBO,UAAUrD,SAAW,IAAI1D,eAAoB,cAAeH,GAE7E2G,EAAiBE,SAAShD,SAASsD,UAAY,IAC/CR,EAAiBE,SAAShD,SAASuD,iBAAmB,EACtDT,EAAiBK,UAAUnD,SAASsD,UAAY,IAChDR,EAAiBK,UAAUnD,SAASuD,iBAAmB,EACvDT,EAAiBM,UAAUpD,SAASsD,UAAY,IAChDR,EAAiBM,UAAUpD,SAASuD,iBAAmB,EACvDT,EAAiBO,UAAUrD,SAASsD,UAAY,IAChDR,EAAiBO,UAAUrD,SAASuD,iBAAmB,EAEvDT,EAAiBE,SAAShD,SAASwD,cAAgB,IAAIlH,WAAgB,mBAAoBH,GAC3F2G,EAAiBK,UAAUnD,SAASwD,cAAgB,IAAIlH,WAAgB,mBAAoBH,GAC5F2G,EAAiBM,UAAUpD,SAASwD,cAAgB,IAAIlH,WAAgB,mBAAoBH,GAC5F2G,EAAiBO,UAAUrD,SAASwD,cAAgB,IAAIlH,WAAgB,mBAAoBH,GAE5F,IAAIO,EAAY,GAEZC,EAAS,IAAIL,aAAkB,SAAU,aAAcI,EAAWJ,aAAkBM,oBAAqBN,aAAkBO,yBAE3H4G,EAAS,IAAInH,aAAkB,SAAU,aAAcI,EAAWJ,aAAkBM,oBAAqBN,aAAkBO,yBAC3H6G,EAAU,IAAIpH,aAAkB,UAAW,aAAcI,EAAWJ,aAAkBM,oBAAqBN,aAAkBO,yBAC7H8G,EAAU,IAAIrH,aAAkB,UAAW,aAAcI,EAAWJ,aAAkBM,oBAAqBN,aAAkBO,yBAC7H+G,EAAU,IAAItH,aAAkB,UAAW,aAAcI,EAAWJ,aAAkBM,oBAAqBN,aAAkBO,yBAE7HgH,EAAc,GAEdC,EAAc,GACdC,EAAe,GACfC,EAAe,GACfC,EAAe,GAGnBJ,EAAY/I,KAAK,CAAEiC,MAAO,EAAGC,MAAO,IACpC6G,EAAY/I,KAAK,CAAEiC,MAAOL,IAAiBM,MAAO,KAClD6G,EAAY/I,KAAK,CAAEiC,MAAOL,EAAiBM,MAAO,KAClD6G,EAAY/I,KAAK,CAAEiC,MAAOL,KAAiBM,MAAO,KAClD6G,EAAY/I,KAAK,CAAEiC,MAAOL,EAAWM,MAAO,IAG5C8G,EAAYhJ,KAAK,CAAEiC,MAAO,EAAGC,MAAO,IACpC8G,EAAYhJ,KAAK,CAAEiC,MAAOL,KAAiBM,OAAQ,IACnD8G,EAAYhJ,KAAK,CAAEiC,MAAOL,EAAWM,MAAO,IAG5C+G,EAAajJ,KAAK,CAAEiC,MAAO,EAAGC,MAAO,IACrC+G,EAAajJ,KAAK,CAAEiC,MAAOL,KAAiBM,OAAQ,IACpD+G,EAAajJ,KAAK,CAAEiC,MAAOL,EAAWM,MAAO,IAG7CgH,EAAalJ,KAAK,CAAEiC,MAAO,EAAGC,MAAO,IACrCgH,EAAalJ,KAAK,CAAEiC,MAAOL,KAAiBM,MAAO,IACnDgH,EAAalJ,KAAK,CAAEiC,MAAOL,EAAWM,MAAO,IAG7CiH,EAAanJ,KAAK,CAAEiC,MAAO,EAAGC,MAAO,IACrCiH,EAAanJ,KAAK,CAAEiC,MAAOL,KAAiBM,MAAO,IACnDiH,EAAanJ,KAAK,CAAEiC,MAAOL,EAAWM,MAAO,IAE7CL,EAAOM,QAAQ4G,GAEfJ,EAAOxG,QAAQ6G,GACfJ,EAAQzG,QAAQ8G,GAChBJ,EAAQ1G,QAAQ+G,GAChBJ,EAAQ3G,QAAQgH,GAEhB,IAAIC,EAAO,IAAI5H,aAAkB,OAAQ,aAAcI,EAAWJ,aAAkBM,oBAAqBN,aAAkBO,yBAEvHsH,EAAa,GAEjBA,EAAWrJ,KAAK,CAAEiC,MAAO,EAAGC,MAAO,IACnCmH,EAAWrJ,KAAK,CAAEiC,MAAOL,IAAiBM,MAAO,EAAIO,KAAKC,KAC1D2G,EAAWrJ,KAAK,CAAEiC,MAAOL,EAAWM,MAAO,EAAIO,KAAKC,KAEpD0G,EAAKjH,QAAQkH,GAEIhI,EAAMiB,qBAAqB0F,EAAiBE,SAAU,CAACrG,EAAQ8G,EAAQS,GAAO,EAAG,IAAe,GAChG/H,EAAMiB,qBAAqB0F,EAAiBK,UAAW,CAACxG,EAAQ+G,EAASQ,GAAO,EAAG,IAAe,GAClG/H,EAAMiB,qBAAqB0F,EAAiBM,UAAW,CAACzG,EAAQgH,EAASO,GAAO,EAAG,IAAe,GAClG/H,EAAMiB,qBAAqB0F,EAAiBO,UAAW,CAAC1G,EAAQiH,EAASM,GAAO,EAAG,IAAe,GAExGE,eAAiB,WAC1BtB,EAAiBE,SAAS/G,UAC1B6G,EAAiBK,UAAUlH,UAC3B6G,EAAiBM,UAAUnH,UAC3B6G,EAAiBO,UAAUpH,UAE3BzO,EAAUsB,SAASuV,iBAAiB,GAAG5F,YAAW,GAClDjR,EAAUuB,UAAUsV,iBAAiB,GAAG5F,YAAW,GACnDjR,EAAUwB,UAAUqV,iBAAiB,GAAG5F,YAAW,GACnDjR,EAAUyB,UAAUoV,iBAAiB,GAAG5F,YAAW,GAEnDjR,EAAUsB,SAASuV,iBAAiB,GAAGrE,SAASwD,cAAgB,IAAIlH,WAAgB,mBAAoBH,GACxG3O,EAAUuB,UAAUsV,iBAAiB,GAAGrE,SAASwD,cAAgB,IAAIlH,WAAgB,mBAAoBH,GACzG3O,EAAUwB,UAAUqV,iBAAiB,GAAGrE,SAASwD,cAAgB,IAAIlH,WAAgB,mBAAoBH,GACzG3O,EAAUyB,UAAUoV,iBAAiB,GAAGrE,SAASwD,cAAgB,IAAIlH,WAAgB,mBAAoBH,GAEzGmI,GAAcC,kBAAmB,EACjC7I,GAAgB3J,mB,KC7JDuS,G,WAmBnB,WAAY7S,GAGV,GAHqB,oBAGjBA,IAAa6S,EAAc5S,UAC7B,MAAM,IAAIC,MAAM,2H,gDAuFpB,WAGE2S,EAAcvS,cAAcyS,c,uBAO9B,WACEF,EAAcxI,OAAS,IAAIQ,mBACzB,UACCiB,KAAKC,GAAK,EACXD,KAAKC,GAAK,EACV,GACA,IAAIlB,WAAgB4C,KACpB1R,EAAUI,OAEZ0W,EAAcxI,OAAO2I,cAAcjX,EAAUE,QAAQ,GAErDgN,KAAKgK,a,sBAyBP,WAIEJ,EAAcxI,OAAO6I,eAAiBrI,SAAcgB,UAAU,IAC9DgH,EAAcxI,OAAO8I,eAAiBtI,SAAcgB,UAAU,IAC9DgH,EAAcxI,OAAO+I,iBAAmB,EACxCP,EAAcxI,OAAOgJ,iBAAmB,GACxCR,EAAcxI,OAAOiJ,mBAAqB,I,yBAO5C,WACEpJ,KAAKC,aAAa0I,EAAczI,YAChCF,KAAKC,aAAa0I,EAAcxI,QAE5BtO,EAAUK,eAAeL,EAAUK,cAAc+Q,QAErD0F,EAAcxI,OAAOkJ,UAAUV,EAAczI,YAE7CrO,EAAUI,MAAMqX,6BAA6BC,OAAOZ,EAAca,SAElEb,EAAcc,gBACdd,EAAcvS,cAAc2S,WAE5BJ,EAAce,QAAQC,YACtBhB,EAAcxI,OAAOyJ,KAAO,GAW5B5J,KAAK6J,GAAGlB,EAAczI,WAAWQ,SAAU,CACzCoJ,SAAU,EACVnW,EAAG9B,EAAUkY,WAAWpW,EACxBC,EAAG/B,EAAUkY,WAAWnW,EACxBC,EAAGhC,EAAUkY,WAAWlW,EACxBmW,KAAM,gBACNC,WAhBe,WACXtB,EAAcuB,cAAgBvB,EAAcwB,gBAChDxB,EAAczI,WAAWQ,SAAW,IAAIC,WAAgB9O,EAAUkY,WAAWpW,EAAG9B,EAAUkY,WAAWnW,EAAG/B,EAAUkY,WAAWlW,GAG7H8U,EAAcxI,OAAO6I,eAAiBrI,SAAcgB,UAAU,IAC9DgH,EAAcxI,OAAO+I,iBAAmB,IACxCP,EAAcxI,OAAOgJ,iBAAmB,QAY1CnJ,KAAK6J,GAAGlB,EAAcxI,OAAQ,CAC5B2J,SAAU,EACVM,OAAQ,IACRC,KAAM1J,SAAcgB,UAAU,IAC9B6C,MAAO7D,SAAcgB,UAAU,IAC/BqI,KAAM,oB,sBAQV,WAME,GALAhK,KAAKC,aAAa0I,EAAczI,YAChCF,KAAKC,aAAa0I,EAAcxI,QAIC,OAA7BwI,EAActI,iBAAoD7I,IAA7BmR,EAActI,WAAvD,CACA,IAAIiK,EAAY3B,EAAc4B,UAAY5B,EAAc6B,WAAa,GAAM,EAE3E7B,EAAcvI,mBAAqB,EACnCuI,EAAc8B,kBAEd9B,EAAcvS,cAAc2S,WAe5B/I,KAAK6J,GAAGlB,EAAczI,WAAWQ,SAAU,CACzCoJ,SAAUQ,EACV3W,EAAGgV,EAActI,WAAWK,SAAS/M,EACrCC,EAAG+U,EAActI,WAAWK,SAAS9M,EACrCC,EAAG8U,EAActI,WAAWK,SAAS7M,EACrCmW,KAAM,gBACNC,WAnBe,WACXtB,EAAcuB,cAAgBvB,EAAc+B,YAChD/B,EAAce,QAAQiB,WACtBhC,EAAcxI,OAAOyK,gBAAkBjK,SAAcgB,UAAU,IAC/DgH,EAAcxI,OAAO0K,gBAAkBlK,SAAcgB,UAAU,KAC/DgH,EAAcxI,OAAO6I,eAAiBrI,SAAcgB,UAAU,IAC9DgH,EAAcxI,OAAO8I,eAAiBtI,SAAcgB,UAAU,IAC9DgH,EAAcxI,OAAO+I,iBAAmB,GACxCP,EAAcxI,OAAOgJ,iBAAmB,GACxCR,EAAcxI,OAAOkJ,UAAUV,EAActI,YACf,OAA1BsI,EAAca,UAAkBb,EAAca,QAAU3X,EAAUI,MAAMqX,6BAA6BwB,IAAInC,EAAcvS,cAAc2U,iBAY3I/K,KAAK6J,GAAGlB,EAAcxI,OAAQ,CAC5B2J,SAAUQ,EACVF,OAAQ,GACRC,KAAM1J,SAAcgB,UAAU,IAC9B6C,MAAO7D,SAAcgB,UAAU,IAC/BqI,KAAM,kBAIRhK,KAAK6J,GAAGhY,EAAUiC,cAAc4N,SAAU,CACxCoI,SAAUQ,EACV3W,EAAG,EACHC,EAAG,EACHC,EAAG,EACHmW,KAAM,sB,sBA5OV,WACEhK,KAAKC,aAAa0I,EAAczI,YAChCF,KAAKC,aAAa0I,EAAcxI,QAEhCwI,EAAcvI,mBAAqB,EAEnCuI,EAActI,WAAa,KAC3BsI,EAAcxI,OAAOG,UACrBqI,EAAcqC,gBAAkB,KAChCrC,EAAc5S,UAAY,O,yBAQ5B,WAYE,OAXqC,MAAjC4S,EAAcqC,kBAChBrC,EAAcqC,gBAAkB,IAAIrC,EAAcA,EAAc5S,WAChE4S,EAAc5S,UAAY,GAC1B4S,EAAcvS,cAAc6U,eAE5B5S,EAAagF,YAAYxE,EAAkBS,oBAAoB,SAAC/E,GAE9DoU,EAAcuC,WAAa3W,EAC3BoU,EAAca,QAAU,SAGrBb,EAAcqC,kB,sBAgCvB,WACE,OAAOrC,EAAcuB,a,IAzBvB,SAAsBiB,GAIpB,OAHAxC,EAAc4B,QAAU5B,EAAcuB,YACtCvB,EAAcuB,YAAciB,EAEpBA,GACN,KAAKxC,EAAc+B,UACjB/B,EAAcvS,cAAcgV,WAC5B,MACF,KAAKzC,EAAcwB,cACjBxB,EAAcvS,cAAciV,cAC5B,MACF,KAAK1C,EAAc6B,WACjB7B,EAAcvS,cAAckV,e,kBAqBlC,WACE,OAAO3C,EAAczI,a,kCAyKvB,WACE,IAAIC,EAASwI,EAAcxI,OACvBK,EAAQ3O,EAAUI,MAEtBkV,GAAiBoE,eAEjB,IAAIC,EAAiB,KAErBhL,EAAMiL,sBAAqB,SAASC,IAC7B/C,EAAcC,kBAIjBD,EAAcxI,OAAOO,SAAW,IAAIC,WAAgB,EAAE,EAAE,GACxDH,EAAMmL,uBAAuBD,GAC7B/C,EAAcxI,OAAO6I,eAAiBrI,SAAcgB,WAAW,IAC/DgH,EAAcxI,OAAO8I,eAAiBtI,SAAcgB,UAAU,IAC9DgH,EAAcxI,OAAOyK,gBAAkBjK,SAAcgB,WAAW,IAChEgH,EAAcxI,OAAO0K,gBAAkBlK,SAAcgB,WAAW,IAEhExB,EAAOkJ,UAAU,IAAI1I,WAAgB4C,MACrCpD,EAAOqE,OAAS5C,KAAKC,GAAK,EAC1B1B,EAAOkK,KAAO,IACdlK,EAAO+I,iBAAmB,GAC1B/I,EAAOgJ,iBAAmB,GAE1BpJ,GAAgB6L,gBAChBzL,EAAOiJ,mBAAqB,IAjB5BoC,EAAiBrE,GAAiBK,UAAU9G,SAASoK,IAAI,IAAInK,WAAgB,EAAG,EAAG,IACnFR,EAAOkJ,UAAUmC,OAoBrBrO,YAAW,WACTtL,EAAUY,MAAM6N,YACf,S,KAjTcqI,GACZ+B,UAAY,YADA/B,GAEZwB,cAAgB,gBAFJxB,GAGZ6B,WAAa,aAHD7B,GAYZC,kBAAmB,E,IClBPiD,G,WAIjB,WAAY/V,GAGR,GAFH,oBAEOA,IAAa+V,EAAuB9V,UAEpC,MAAM,IAAIC,MAAO,6I,oDAKzB,SAAmB8V,GASf,OAPsD,MAAnDD,EAAuBE,2BAEtBF,EAAuBE,yBAA2B,IAAIF,EAAuBA,EAAuB9V,WACpG8V,EAAuB9V,UAAY,GAEnC8V,EAAuBG,YAAc,GAElCH,EAAuBE,2B,qBAIlC,SAAeE,GACX,GAAcC,MAAXD,EAAH,CACAJ,EAAuBG,aAAeC,EAEtC,IAAIpU,EAAWgU,EAAuBG,YAAcna,EAAUS,WAAa,IAE3E+F,EAAa8T,UAAUtT,EAAkBE,cAAelB,Q,KCjC3CuU,G,WAEjB,WAAYtW,GAGR,GAFH,oBAEOA,IAAasW,EAAcrW,UAE3B,MAAM,IAAIC,MAAO,2H,oDAKzB,SAAmB8V,GASf,OAPoC,MAAjCM,EAAcC,kBAEbD,EAAcC,gBAAkB,IAAID,EAAcA,EAAcrW,WAChEqW,EAAcrW,UAAY,GAE1BqW,EAAcJ,YAAc,GAEzBI,EAAcC,oB,KClBRC,G,WASnB,WAAYxW,GAEV,GAFqB,oBAEjBA,IAAawW,EAAgBvW,UAC/B,MAAM,IAAIC,MAAM,+H,gDASpB,WACEsW,EAAgBC,kBAAoB,KACpCD,EAAgBvW,UAAY,O,yBAQ9B,WAME,OALyC,MAArCuW,EAAgBC,oBAClBD,EAAgBC,kBAAoB,IAAID,EAAgBA,EAAgBvW,WACxEuW,EAAgBvW,UAAY,GAC5BuW,EAAgBlW,eAEXkW,EAAgBC,oB,2BAGzB,WACE,IAAIC,EAAe,IAAI7L,0BAA+B,SAAU,IAAK9O,EAAUI,OAC/Eua,EAAaC,qBAAuB,EACpCD,EAAaE,YAAc,EAC3BF,EAAaG,WAAa,GAC1BH,EAAaI,QAAU,EAEvBN,EAAgBO,oBAAsB,IAAIlM,kBAAuB,sBAAuB,IAAM9O,EAAUI,OACxGqa,EAAgBO,oBAAoB7J,gBAAkB,IAAIrC,WAAgB,qEAAsE9O,EAAUI,OAC1Jqa,EAAgBO,oBAAoBC,QAAU,GAC9CR,EAAgBO,oBAAoBE,QAAU,GAErBT,EAAgBO,oBAAoBG,yBAAyB,GAGtFV,EAAgBO,oBAAoBzK,QAAUvQ,EAAUI,MAAMgS,cAAc,YAC5EqI,EAAgBO,oBAAoBI,YAAc,GAClDX,EAAgBO,oBAAoBK,YAAc,GAClDZ,EAAgBO,oBAAoBM,SAAW,GAC/Cb,EAAgBO,oBAAoBpK,iBAAiB,EAAK,IAAI9B,UAAe,MAAQ,KAAO,MAAQ,IACpG2L,EAAgBO,oBAAoBpK,iBAAiB,IAAM,IAAI9B,UAAe,MAAQ,MAAQ,MAAQ,KACtG2L,EAAgBO,oBAAoBpK,iBAAiB,GAAK,IAAI9B,UAAe,IAAM,IAAM,MACzF2L,EAAgBO,oBAAoBpK,iBAAiB,GAAK,IAAI9B,UAAe,IAAM,IAAM,MACzF2L,EAAgBO,oBAAoBpK,iBAAiB,GAAK,IAAI9B,UAAe,MAAQ,MAAQ,MAAQ,KACrG2L,EAAgBO,oBAAoBpK,iBAAiB,EAAK,IAAI9B,UAAe,MAAQ,MAAQ,MAAQ,IACrG2L,EAAgBO,oBAAoBjJ,UAAYjD,kBAAuByM,cACvEd,EAAgBO,oBAAoBQ,QAAU,IAAI1M,WAAgB,EAAG,EAAG,GACxE2L,EAAgBO,oBAAoBL,aAAeA,EACnDF,EAAgBO,oBAAoBS,cAAgB,IAAI3M,WAAgB,EAAG,EAAG,GAC9E2L,EAAgBO,oBAAoBU,aAAe,EACnDjB,EAAgBO,oBAAoBW,aAAe,EACnDlB,EAAgBO,oBAAoBtK,YAAc,KAClD+J,EAAgBO,oBAAoB5J,U,+BAOtC,SAAyBwK,GACvBnB,EAAgBvJ,eAAiB,IAAIpC,kBAAuB,YAAa,IAAK9O,EAAUI,OAExFqa,EAAgBvJ,eAAeC,gBAAkB,IAAIrC,WAAgB,uBAAwB9O,EAAUI,OAEvG,IAAIyb,EAAc,IAAI/M,QAAagN,aAAa,QAAS,EAAG,EAAG9b,EAAUI,OACzEyb,EAAYhN,SAAW,IAAIC,WAAgB8M,EAAM9Z,EAAG8Z,EAAM7Z,GAAI,GAC9D8Z,EAAYE,WAAY,EAExBtB,EAAgBvJ,eAAeX,QAAUsL,EACzCpB,EAAgBvJ,eAAeI,OAAS,IAAIxC,UAAe,EAAG,EAAG,EAAG,GACpE2L,EAAgBvJ,eAAeK,OAAS,IAAIzC,UAAe,EAAG,EAAG,EAAG,GACpE2L,EAAgBvJ,eAAeM,UAAY,IAAI1C,UAAekN,MAC9DvB,EAAgBvJ,eAAe+J,QAAU,GACzCR,EAAgBvJ,eAAegK,QAAU,EACzCT,EAAgBvJ,eAAekK,YAAc,GAC7CX,EAAgBvJ,eAAemK,YAAc,GAC7CZ,EAAgBvJ,eAAeoK,SAAW,GAC1Cb,EAAgBvJ,eAAe+K,oBAAoB,GACnDxB,EAAgBvJ,eAAea,UAAYjD,kBAAuBoN,mBAClEzB,EAAgBvJ,eAAewK,aAAe,EAC9CjB,EAAgBvJ,eAAeyK,aAAe,EAC9ClB,EAAgBvJ,eAAeR,YAAc,KAC7C+J,EAAgBvJ,eAAeY,eAAgB,EAE/C2I,EAAgBvJ,eAAeW,mBAAqB,GACpD4I,EAAgBvJ,eAAeE,U,4BAOjC,SAAsBwK,GAEpBnB,EAAgBvJ,eAAiB,IAAIpC,kBAAuB,YAAa,IAAK9O,EAAUI,OAGxFqa,EAAgBvJ,eAAeC,gBAAkB,IAAIrC,WAAgB,wBAAyB9O,EAAUI,OAExG,IAAIyb,EAAc,IAAI/M,QAAagN,aAAa,QAAS,EAAG,EAAG9b,EAAUI,OACzEyb,EAAYhN,SAAW,IAAIC,WAAgB8M,EAAM9Z,EAAG8Z,EAAM7Z,GAAI,GAC9D8Z,EAAYE,WAAY,EAExBtB,EAAgBvJ,eAAeX,QAAUsL,EACzCpB,EAAgBvJ,eAAeI,OAAS,IAAIxC,UAAe,EAAG,EAAG,EAAG,GACpE2L,EAAgBvJ,eAAeK,OAAS,IAAIzC,UAAe,EAAG,EAAG,EAAG,GACpE2L,EAAgBvJ,eAAeM,UAAY,IAAI1C,UAAekN,MAC9DvB,EAAgBvJ,eAAe+J,QAAU,GACzCR,EAAgBvJ,eAAegK,QAAU,EACzCT,EAAgBvJ,eAAekK,YAAc,GAC7CX,EAAgBvJ,eAAemK,YAAc,GAC7CZ,EAAgBvJ,eAAeoK,SAAW,GAC1Cb,EAAgBvJ,eAAe+K,oBAAoB,GACnDxB,EAAgBvJ,eAAea,UAAYjD,kBAAuBoN,mBAClEzB,EAAgBvJ,eAAewK,aAAe,EAC9CjB,EAAgBvJ,eAAeyK,aAAe,EAC9ClB,EAAgBvJ,eAAeR,YAAc,KAC7C+J,EAAgBvJ,eAAeY,eAAgB,EAC/C2I,EAAgBvJ,eAAeW,mBAAqB,GACpD4I,EAAgBvJ,eAAeE,Y,KA3IdqJ,GACZvJ,eAAiB,KADLuJ,GAEZO,oBAAsB,K,ICSVmB,G,oDASnB,WAAYC,GAAU,IAAD,6BACnB,eAEApc,EAAUE,OAAS,EAAKmc,OAASD,EACjCpc,EAAUG,OAAS,EAAKmc,OAAS,IAAIxN,UAAe,EAAKuN,QAAQ,GACjErc,EAAUI,MAAQ,EAAKuO,MAAQ,IAAIG,SAAc,EAAKwN,QAEtD,EAAKC,SAAU,EACf,EAAKC,MAAQ,KACb,EAAKC,UAAY,KACjB,EAAKC,SAAW,KAChB,EAAKC,KAAO,KACZ,EAAKC,UAAY,KACjB,EAAKC,eAAiB,KACtB,EAAKC,UAAY,KACjB,EAAKC,QAAU,KACf,EAAKC,iBAAmB,KACxB,EAAKxH,SAAW,KAEhB,EAAKyH,QAAU,KACf,EAAKC,UAAY,KACjB,EAAKC,WAAa,KAElBnd,EAAUoB,cAAe,EAEzB0N,UAAesO,UAAYtO,UAAeuO,aAE1C,EAAKC,OA3Bc,E,2CA8BrB,WAIExG,GAAcrI,UACdgM,GAAgBhM,UAChB6G,GAAiB7G,UACjBvB,KAAKqQ,MAAM9O,UACXvB,KAAKsQ,OAAO/O,UACZvB,KAAKyB,MAAMF,UACXvB,KAAKoP,OAAO7N,UAEZzO,EAAUI,MAAQ8M,KAAKyB,MAAQ,KAC/B3O,EAAUG,OAAS+M,KAAKoP,OAAS,KACjCtc,EAAUE,OAASgN,KAAKmP,OAAS,O,kBAQnC,WAAQ,IAAD,OACLrC,GAAuBzV,cAEvB2I,KAAKuQ,iBACLvQ,KAAK8J,YACL9J,KAAKwQ,WACLxQ,KAAKyQ,eACLzQ,KAAK0Q,cACD5d,EAAUC,YAAYiN,KAAKyQ,eAE/BzQ,KAAKoP,OAAOuB,eAAc,WACxB,EAAKlP,MAAMmP,YAGbpR,OAAOE,iBAAiB,UAAU,WAChC,EAAK0P,OAAOyB,c,4BAIhB,WAEE,IAAIC,EAASlP,eAAoBmP,UAAU,SAAU,CAAE1L,KAAM,KAAUrF,KAAKyB,OAC5EqP,EAAOE,WAAa,GAEpB,IAAIC,EAAiB,IAAIrP,eAAoB,SAAU5B,KAAKyB,OAC5DwP,EAAeC,iBAAkB,EACjCD,EAAeE,kBAAoB,IAAIvP,eAAoB,qDAAsD5B,KAAKyB,MAAO,KAC7HwP,EAAeE,kBAAkBC,gBAAkBxP,WAAgByP,YACnEJ,EAAeK,iBAAkB,EACjCL,EAAeM,YAAc,IAAI3P,UAAe4P,MAChDP,EAAeQ,aAAe,IAC9BR,EAAeS,kBAAoB,IAAI9P,UAAe,IAAM,IAAM,KAClEkP,EAAOxL,SAAW2L,EAElBjR,KAAKyB,MAAMkQ,WAAa,IAAI/P,UAAe,EAAG,EAAG,GAGjD,IAAI8D,EAAkBC,0BAA2BC,mBAAmB,MAChEgM,EAAQ,IAAIjM,cAChBiM,EAAMrL,WAAa,cACnBqL,EAAM5L,MAAQ,GACd4L,EAAMC,YAAa,EACnBD,EAAME,IAAM,MACZpM,EAAgBK,WAAW6L,GAC3BA,EAAMG,kBAAoBpM,WAAYqM,0BAEtChS,KAAK+P,QAAU,IAAIpK,aACnB3F,KAAK+P,QAAQjJ,KAAO,sFACpB9G,KAAK+P,QAAQhJ,MAAQ,QACrB/G,KAAK+P,QAAQ/I,SAAW,GACxBhH,KAAK+P,QAAQ/J,MAAQ,EACrBhG,KAAK+P,QAAQ9J,OAAS,OACtBjG,KAAK+P,QAAQhJ,MAAQ,QACrB/G,KAAK+P,QAAQxJ,WAAa,cAC1BqL,EAAM7L,WAAW/F,KAAK+P,SAEtB/P,KAAKgQ,UAAYrK,UAAWsM,mBAAmB,OAAQ,YACvDjS,KAAKgQ,UAAUhK,MAAQ,MACvBhG,KAAKgQ,UAAUkC,OAAS,MACxBlS,KAAKgQ,UAAU/J,OAAS,OACxBjG,KAAKgQ,UAAUjJ,MAAQ,QACvB/G,KAAKgQ,UAAUzJ,WAAa,cAC5BqL,EAAM7L,WAAW/F,KAAKgQ,WAEtBhQ,KAAKiQ,WAAatK,UAAWsM,mBAAmB,OAAQ,KACxDjS,KAAKiQ,WAAWxK,MAAQ,EACxBzF,KAAKiQ,WAAWjK,MAAQ,OACxBhG,KAAKiQ,WAAWhK,OAAS,KACzBjG,KAAKiQ,WAAWlJ,MAAQ,QACxB/G,KAAKiQ,WAAWvJ,aAAe,GAC/B1G,KAAKiQ,WAAW1J,WAAa,cAC7BvG,KAAKiQ,WAAW6B,IAAM,KACtB9R,KAAKiQ,WAAWkC,KAAO,MACvBnS,KAAKiQ,WAAWmC,oBAAsBzM,WAAY0M,2BAClDrS,KAAKiQ,WAAW8B,kBAAoBpM,WAAYwB,uBAChDnH,KAAKiQ,WAAWqC,sBAAwB,aAExCtS,KAAKiQ,WAAWsC,sBAAsBxG,IACpC,WACEjZ,EAAUoB,cAAe,EAEzB8L,KAAK+P,QAAQjJ,KAAO,GACpB9G,KAAKgQ,UAAUwC,eAAe,eAAe1L,KAAO,sEAEpD9G,KAAKgQ,UAAUuC,sBAAsBE,QACrCzS,KAAKiQ,WAAWxK,MAAQ,EACxBzE,GAAgBmE,SAASG,SAASG,MAAQ,EAC1CzE,GAAgB6F,cAAcC,KAAO,GACrC9G,KAAKyB,MAAMyG,eAAelH,GAAgB8E,UAAW,GAAI,GAAG,GAE5D8D,GAAcxI,OAAOT,OAAS,IAAIiB,WAAgB4C,KAClDoF,GAAcxI,OAAOqE,OAAS5C,KAAKC,GAAK,EACxC8G,GAAcxI,OAAOkK,KAAO,IAC5B1B,GAAcxI,OAAO+I,iBAAmB,GACxCP,GAAcxI,OAAOgJ,iBAAmB,GAhB9B,qBAiBOpK,KAAKyB,MAAMiR,QAjBlB,IAiBV,2BAAoC,SAC7B3O,YAAW,GAChB/C,GAAgBmC,UAAUe,QAC1BlD,GAAgB4C,UAAUM,QAC1BlD,GAAgB6C,UAAUK,QAC1BlD,GAAgB6C,UAAUK,SAtBlB,+BA4B0B,SAAUyO,EAAKC,EAAOC,EAAYC,GACpE,IAAI7H,EAAO,IAAIrJ,aACfqJ,EAAK8H,cAAcnR,kBAAuBoR,sBAE7BpR,aAAkBqR,wBAAwB,MAAON,EAAK,SAAUC,EAAOC,EAAYF,EAAIhS,OAAQmS,EAAQ,EAAG7H,GAChHiI,cAAe,EAUxBC,CAA8BvJ,GAAcxI,OAlBhC,GACK,IAiBsD,IAAIQ,WAAgB,EAAG,EAAG,IAPnE,SAAU+Q,EAAKC,EAAOC,EAAYC,GAC9D,IAAI7H,EAAO,IAAIrJ,aACfqJ,EAAK8H,cAAcnR,kBAAuBoR,sBAC7BpR,aAAkBqR,wBAAwB,MAAON,EAAK,WAAYC,EAAOC,EAAYF,EAAIhR,SAAUmR,EAAQ,EAAG7H,GACpHiI,cAAe,EAIxBE,CAAwBxJ,GAAcxI,OAnB1B,GACK,IAkBgD,IAAIQ,WAAgB,EAAG,GAAI,KAC5FyR,KAAKrT,OAET0F,EAAgBK,WAAW/F,KAAKiQ,YAEhCjQ,KAAKgQ,UAAUsD,eAAgB,EAG/BtT,KAAKgQ,UAAUuD,yBAAyBxH,IACtC,WACE/L,KAAKgQ,UAAUsD,eAAgB,GAC/BD,KAAKrT,OAGTA,KAAKgQ,UAAUuC,sBAAsBiB,QACnC,WACOxT,KAAKgQ,UAAUsD,eACpBG,EAAczT,KAAKgQ,YACnBqD,KAAKrT,OAGT,IAAIyT,EAAgB,WAClBzT,KAAK+P,QAAQjJ,KAAO,GACpB9G,KAAKgQ,UAAUwC,eAAe,eAAe1L,KAAO,sEAEpD9G,KAAKzH,IAAIgJ,UACTvB,KAAKwP,SAASzL,YAAW,GACzB/D,KAAK0T,mBACL1T,KAAKuP,UAAUoE,WAAa,EAC5B3T,KAAKuP,UAAUqE,QACfP,KAAKrT,Q,uBAGT,WACE4J,GAAcvS,cACd2I,KAAK6T,a,sBAGP,WACE7T,KAAKqQ,MAAQ,IAAIzO,oBAAyB,mBAAoB,IAAIA,WAAgB,GAAI,IAAK,GAAI5B,KAAKyB,OACpGzB,KAAKqQ,MAAMyD,UAAY,IAAIlS,YAAiB,GAAI,IAAK,GACrD5B,KAAKqQ,MAAM0D,UAAY,IACvB/T,KAAKqQ,MAAM2D,QAAU,IAAIpS,UAAe,EAAG,EAAG,GAC9C5B,KAAKqQ,MAAM4D,SAAW,IAAIrS,UAAe,EAAG,EAAG,GAE/C5B,KAAKsQ,OAAS,IAAI1O,oBAAyB,QAAS,IAAIA,WAAgB,EAAG,GAAI,GAAI5B,KAAKyB,OACxFzB,KAAKsQ,OAAOyD,UAAY,GACxB/T,KAAKsQ,OAAO4D,YAAc,IAAItS,UAAe,KAAO,KAAO,Q,yBAG7D,WACE2L,GAAgBlW,gB,6DAGlB,2DAAAsB,EAAA,6DACEyP,GAAiB/Q,cAEb+X,EAASpP,KAAKoP,OACd3N,EAAQzB,KAAKyB,MAEjB4L,GAAchW,cAGR8c,EAAqB,SAAC3e,GAC1B,IAAI4e,EAAW,EACXC,EAAW7e,EAAM8e,OAASF,EAC9BA,EAAW5e,EAAM8e,OACjBxH,GAAuByH,QAAQF,IAbnC,SAgBwBzS,eAAoB4S,gBAAgB,GAAI1hB,EAAUU,WAAYV,EAAUW,gBAAiBuM,KAAKyB,MAAO0S,GAhB7H,cAgBMM,EAhBN,OAkBEzU,KAAKsP,MAAQxc,EAAUY,MAAQ+gB,EAAU/B,OAAO,GAChD1S,KAAKsP,MAAMoF,KAAO,QAClB1U,KAAKsP,MAAM3M,SAAW,IAAIf,WAAgB,EAAGA,SAAcgB,UAAU,KAAM,GAC3E5C,KAAKsP,MAAMqF,QAAU,IAAI/S,WAAgB,GAAI,GAAI,IACjD5B,KAAKwP,SAAWxP,KAAKyB,MAAMyD,cAAc,YACvBlF,KAAKyB,MAAMyD,cAAc,YAC/B0P,WAAY,EACxB5U,KAAKwP,SAASzL,YAAW,GACzB/D,KAAKuP,UAAYvP,KAAKyB,MAAMoT,wBAAwB,eACpD7U,KAAKuP,UAAUuF,QACf9U,KAAKuP,UAAUwF,eAAgB,EAE/BxH,GAAgByH,iBAEZnF,EAAW7P,KAAK6P,QAAU,IAAIjO,wCAChC,UACA,EACAgI,GAAcxI,OAEd,KACA,IACAQ,WAAgBqT,sBAChBjV,KAAKoP,QACL,IAGM8F,KAAK5P,SAASC,eAAiB,IAAI3D,WAAgB,oBAAqB5B,KAAKyB,OAAO,GAAM,EAAOG,WAAgBqT,uBACzHpF,EAAQqF,KAAK5P,SAASC,eAAeC,UAAW,EAChDqK,EAAQqF,KAAKvT,SAAW,IAAIC,WAAgB,EAAG,EAAG,GAClDiO,EAAQqF,KAAKvS,SAAW,IAAIf,WAAgBA,SAAcgB,UAAU,IAAK,EAAG,GAC5EiN,EAAQqF,KAAKP,QAAQQ,aAAa,KAClCtF,EAAQuF,8BAA8BC,iBAAkB,EAEpDC,EAAI,EACJC,GAAa,EAEjB9T,EAAMiL,sBAAqB,YACrB4I,EAAIzS,KAAKC,IAEFwS,GAAK,KADdC,GAAcA,GAKXA,EAEMA,IACTD,GAA6B,MAAxBlG,EAAOoG,gBACJ,KACNF,EAAI,GACJC,GAAcA,GALhBD,GAA6B,MAAxBlG,EAAOoG,eASd,IAAIC,EAAI5S,KAAK6S,IAAIJ,EAAIzS,KAAKC,IAE1B+M,EAAQqF,KAAK5P,SAASqQ,gBAAgBC,MAAQH,KAzElD,UA4EsB7T,eAAoB4S,gBAAgB,GAAI1hB,EAAUU,WAAYV,EAAUa,cAAeqM,KAAKyB,MAAO0S,GA5EzH,eA4EM0B,EA5EN,OA6EE7V,KAAKzH,IAAMsd,EAAQnD,OAAO,GAC1B1S,KAAKzH,IAAImc,KAAO,MAChB1U,KAAKzH,IAAIud,sBACT9V,KAAKzH,IAAIoJ,SAAW,IAAIC,WAAgB,EAAG,EAAG,GAC9C5B,KAAKzH,IAAIoK,SAAW,IAAIf,WAAgBA,SAAcgB,UAAU,GAAIhB,SAAcgB,UAAU,IAAKhB,SAAcgB,UAAU,MACzH5C,KAAKzH,IAAIoc,QAAQQ,aAAa,KAC9BnV,KAAKzH,IAAIoR,iBAAiBoM,SAAQ,SAACb,GACjCA,EAAKR,KAAO,MACZ,EAAKsB,UAAUd,MArFnB,UAwF2BtT,eAAoB4S,gBAAgB,GAAI1hB,EAAUU,WAAYV,EAAUqB,mBAAoB6L,KAAKyB,MAAO0S,GAxFnI,eAwFM8B,EAxFN,OAyFEjW,KAAKsI,SAAWxV,EAAUsB,SAAW6hB,EAAavD,OAAO,GACzD1S,KAAKsI,SAASoM,KAAO,UACrB1U,KAAKsI,SAASwN,sBACd9V,KAAKsI,SAASqM,QAAQQ,aAAa,GACnCnV,KAAKsI,SAASqB,iBAAiB,GAAG5F,YAAW,GAC7C/D,KAAKsI,SAASqB,iBAAiB,GAAGrE,SAAS4Q,YAAc,KACzDlW,KAAKsI,SAASqB,iBAAiB,GAAGrE,SAASwD,cAAgB,KAE3DhW,EAAUuB,UAAY2L,KAAKsI,SAAS6N,MAAM,aAC1CrjB,EAAUwB,UAAY0L,KAAKsI,SAAS6N,MAAM,aAC1CrjB,EAAUyB,UAAYyL,KAAKsI,SAAS6N,MAAM,aAE1CrjB,EAAUsB,SAASuN,SAAW,IAAIC,YAAiB,EAAG,EAAG,GACzD9O,EAAUuB,UAAUsN,SAAW,IAAIC,YAAiB,EAAG,EAAG,GAC1D9O,EAAUwB,UAAUqN,SAAW,IAAIC,WAAgB,EAAG,EAAG,GACzD9O,EAAUyB,UAAUoN,SAAW,IAAIC,WAAgB,EAAG,EAAG,GAEzD9O,EAAUuB,UAAUsV,iBAAiB,GAAGrE,SAAW,IAAI1D,eAAoB,YAAa5B,KAAKyB,OAC7F3O,EAAUuB,UAAUsV,iBAAiB,GAAGrE,SAASsD,UAAY,IAC7D9V,EAAUuB,UAAUsV,iBAAiB,GAAGrE,SAASuD,iBAAmB,EACpE/V,EAAUwB,UAAUqV,iBAAiB,GAAGrE,SAAW,IAAI1D,eAAoB,YAAa5B,KAAKyB,OAC7F3O,EAAUwB,UAAUqV,iBAAiB,GAAGrE,SAASsD,UAAY,IAC7D9V,EAAUwB,UAAUqV,iBAAiB,GAAGrE,SAASuD,iBAAmB,EACpE/V,EAAUyB,UAAUoV,iBAAiB,GAAGrE,SAAW,IAAI1D,eAAoB,YAAa5B,KAAKyB,OAC7F3O,EAAUyB,UAAUoV,iBAAiB,GAAGrE,SAASsD,UAAY,IAC7D9V,EAAUyB,UAAUoV,iBAAiB,GAAGrE,SAASuD,iBAAmB,EAlHtE,UAoHuBjH,eAAoB4S,gBAAgB,GAAI1hB,EAAUU,WAAYV,EAAUe,MAAOmM,KAAKyB,OApH3G,eAoHM2U,EApHN,OAqHEpV,GAAgBU,MAAQ0U,EAAS1D,OAAO,GACxC1R,GAAgBU,MAAMgT,KAAO,QAC7B1T,GAAgBU,MAAMC,SAAW,IAAIC,WAAgB4C,KACrDxD,GAAgBU,MAAMiB,SAAW,IAAIf,WAAgB,EAAG,EAAGA,SAAcgB,UAAU,IACnF5B,GAAgBU,MAAMoU,sBACtB9U,GAAgBU,MAAMiT,QAAQQ,aAAa,GAC3CnU,GAAgBU,MAAMqC,YAAW,GAEjC/C,GAAgBU,MAAMiI,iBAAiBoM,SAAQ,SAACb,GAC9C,EAAKc,UAAUd,MA9HnB,UAiIwBtT,eAAoB4S,gBAAgB,GAAI1hB,EAAUU,WAAYV,EAAUgB,OAAQkM,KAAKyB,OAjI7G,eAiIM4U,EAjIN,OAkImBA,EAAU3D,OAAO4D,QAAO,SAACC,GAAD,OAAOA,EAAEC,mBAAqB,KAEvExV,GAAgBa,MAAQwU,EAAU3D,OAAO,GAIzC1R,GAAgBa,MAAM6S,KAAO,SAC7B1T,GAAgBa,MAAMF,SAAW,IAAIC,WAAgB4C,KACrDxD,GAAgBa,MAAMc,SAAW,IAAIf,WAAgB,EAAG,EAAGA,SAAcgB,UAAU,IACnF5B,GAAgBa,MAAMiU,sBACtB9U,GAAgBa,MAAM8S,QAAQQ,aAAa,GAC3CnU,GAAgBa,MAAMkC,YAAW,GAEjC/C,GAAgBa,MAAM8H,iBAAiBoM,SAAQ,SAACb,GAC9C,EAAKc,UAAUd,MAhJnB,UAmJwBtT,eAAoB4S,gBAAgB,GAAI1hB,EAAUU,WAAYV,EAAUiB,MAAOiM,KAAKyB,OAnJ5G,eAmJMgV,EAnJN,OAoJEzV,GAAgBc,MAAQ2U,EAAU/D,OAAO,GACzC1R,GAAgBc,MAAM4S,KAAO,QAC7B1T,GAAgBc,MAAMH,SAAW,IAAIC,WAAgB4C,KACrDxD,GAAgBc,MAAMa,SAAW,IAAIf,WAAgB,EAAG,EAAGA,SAAcgB,UAAU,IACnF5B,GAAgBc,MAAMgU,sBACtB9U,GAAgBc,MAAM6S,QAAQQ,aAAa,GAC3CnU,GAAgBc,MAAMiC,YAAW,GAEjC/C,GAAgBc,MAAM6H,iBAAiBoM,SAAQ,SAACb,GAC9C,EAAKc,UAAUd,MA7JnB,WAgKwBtT,eAAoB4S,gBAAgB,GAAI1hB,EAAUU,WAAYV,EAAUkB,WAAYgM,KAAKyB,OAhKjH,SAgKMiV,EAhKN,OAiKE1V,GAAgBe,MAAQ2U,EAAUhE,OAAO,GACzC1R,GAAgBe,MAAM2S,KAAO,aAC7B1T,GAAgBe,MAAMJ,SAAW,IAAIC,WAAgB4C,KACrDxD,GAAgBe,MAAMY,SAAW,IAAIf,WAAgB,EAAG,EAAGA,SAAcgB,UAAU,IACnF5B,GAAgBe,MAAM+T,sBACtB9U,GAAgBe,MAAM4S,QAAQQ,aAAa,GAC3CnU,GAAgBe,MAAMgC,YAAW,GAEjC/C,GAAgBe,MAAM4H,iBAAiBoM,SAAQ,SAACb,GAC9C,EAAKc,UAAUd,MAyBjBlV,KAAK2P,eAAiB,IAAI/N,kBAAuB,WAAY9O,EAAUI,OACvE8M,KAAK4P,UAAY,IAAIhO,aAAkB,OAAQ9O,EAAU2O,OACzDzB,KAAK4P,UAAUmE,UAAY,GAC3B/T,KAAK4P,UAAU+G,WAAY,EAK3Brd,EAAa8T,UAAUtT,EAAkBC,qBA3M3C,kD,6EAqQA,SAAU6c,GAAQ,IAAD,OACH5W,KAAKyB,MACjBzB,KAAKyB,MAAMoV,cAAgB,SAAUpd,EAAOqd,KAyB5CF,EAAMnP,cAAgB,IAAI7F,iBAAsB9O,EAAUI,OAC1D0jB,EAAMnP,cAAcM,eAClB,IAAInG,qBAA0BA,iBAAsBoG,sBAAsB,SAAC+O,IACtD,QAAfH,EAAMlC,MAIDkC,EAAMlC,KAAKsC,SAAS,UAKL,UAAfJ,EAAMlC,MAIS,aAAfkC,EAAMlC,MAIS,UAAfkC,EAAMlC,OAhBb,EAAK/E,eAAesH,QAAQL,EAAO,IAAIhV,UAAe,EAAG,IAAM,UAqBrEgV,EAAMnP,cAAcM,eAClB,IAAInG,qBAA0BA,iBAAsBuG,qBAAqB,SAAC4O,GACxE,EAAKpH,eAAeuH,WAAWN,OAInCA,EAAMnP,cAAcM,eAClB,IAAInG,qBAA0BA,iBAAsBuV,iBAAiB,SAACJ,GAcpE,GAbA,EAAKpH,eAAeuH,WAAWN,GACZ,QAAfA,EAAMlC,OACRkC,EAAMrV,UACN,EAAKiO,SAASzL,YAAW,GACzB,EAAK2P,mBACL,EAAKnE,UAAUoE,WAAa,EAC5B,EAAKpE,UAAUqE,OAEf,EAAK7D,QAAQjJ,KAAO,GACpB,EAAKkJ,UAAUwC,eAAe,eAAe1L,KAAO,sEACpD,EAAKkJ,UAAUuC,sBAAsBE,SAEvC9Y,QAAQC,IAAIoH,GAAgBkC,iBAAiB/K,QACG,IAA5C6I,GAAgBkC,iBAAiB/K,OAAc,CACjD,GAAIye,EAAMlC,KAAKsC,SAAS,SAAU,CAChC,EAAKjH,QAAQjJ,KAAO,2BACpB,EAAKkJ,UAAUwC,eAAe,eAAe1L,KAAO,+BAEpD,EAAKkJ,UAAUuC,sBAAsBxG,IACnC,WACO/L,KAAKgQ,UAAUsD,eACpB9T,OAAO5J,KAAK,iCACZyd,KAAK,IAGTrS,GAAgBmE,SAASxD,SAAWX,GAAgBU,MAAMC,SAASoK,IAAI,IAAInK,WAAgB,IAAK,IAAK,IACrGZ,GAAgBmE,SAASxC,SAAS7N,GAAK+N,KAAKC,GAAK,EACjD9B,GAAgBmE,SAASG,SAASG,MAAQ,EAC1CzE,GAAgB6F,cAAcC,KAAO,oIACrC9F,GAAgB6F,cAAcG,SAAW,OACzChG,GAAgB6F,cAAcuQ,aAAc,EAE5C,IAAIxE,EAAQ,GACRC,EAAa,IAUbO,EAA0B,SAAUT,EAAKC,EAAOC,EAAYC,GAC9D,IAAI7H,EAAO,IAAIrJ,aACfqJ,EAAK8H,cAAcnR,kBAAuBoR,sBAC7BpR,aAAkBqR,wBAAwB,MAAON,EAAK,WAAYC,EAAOC,EAAYF,EAAIhR,SAAUmR,EAAQ,EAAG7H,GACpHiI,cAAe,IAZY,SAAUP,EAAKC,EAAOC,EAAYC,GACpE,IAAI7H,EAAO,IAAIrJ,aACfqJ,EAAK8H,cAAcnR,kBAAuBoR,sBAE7BpR,aAAkBqR,wBAAwB,MAAON,EAAK,SAAUC,EAAOC,EAAYF,EAAIhS,OAAQmS,EAAQ,EAAG7H,GAChHiI,cAAe,GAUxBC,CAA8BvJ,GAAcxI,OAAQwR,EAAOC,EAAY,IAAIjR,YAAiB,EAAG,EAAG,IAClGwR,EAAwBxJ,GAAcxI,OAAQwR,EAAOC,EAAY,IAAIjR,YAAiB,EAAG,GAAI,IAG7FgI,GAAcxI,OAAOyK,gBAAkB,KACvCjC,GAAcxI,OAAO0K,gBAAkB,KACvClC,GAAcxI,OAAO6I,eAAiB,KACtCL,GAAcxI,OAAO8I,eAAiB,KACtCN,GAAcxI,OAAOqE,MAAkB,EAAV5C,KAAKC,GAAS,IAC3C8G,GAAcxI,OAAOkK,KAAO,KAC5B1B,GAAcxI,OAAO+I,iBAAmB,GACxCP,GAAcxI,OAAOgJ,iBAAmB,GAExCpJ,GAAgBa,MAAMkC,YAAW,GACjC/C,GAAgBc,MAAMiC,YAAW,GACjC/C,GAAgBe,MAAMgC,YAAW,GACjCjR,EAAUuB,UAAU0P,YAAW,GAC/BjR,EAAUwB,UAAUyP,YAAW,GAC/BjR,EAAUyB,UAAUwP,YAAW,GAE/B/C,GAAgB4C,UAAUyT,OAC1BrW,GAAgB6C,UAAUwT,OAC1BrW,GAAgB8C,UAAUuT,YACrB,GAAmB,UAAfT,EAAMlC,KAAkB,CACjC,EAAK3E,QAAQjJ,KAAO,iEACpB,EAAKkJ,UAAUwC,eAAe,eAAe1L,KAAO,gCACpD,EAAKkJ,UAAUuC,sBAAsBxG,IACnC,WACO/L,KAAKgQ,UAAUsD,eACpB9T,OAAO5J,KAAK,kCACZyd,KAAK,IAETrS,GAAgBmE,SAASxD,SAAWX,GAAgBa,MAAMF,SAASoK,IAAI,IAAInK,WAAgB,EAAG,EAAG,IACjGZ,GAAgBmE,SAASxC,SAAS7N,GAAK+N,KAAKC,GAAK,EACjD9B,GAAgBmE,SAASG,SAASG,MAAQ,EAC1CzE,GAAgB6F,cAAcC,KAAO,0LACrC9F,GAAgB6F,cAAcG,SAAW,OACzChG,GAAgB6F,cAAcuQ,aAAc,EAExCxE,EAAQ,GACRC,EAAa,IAUbO,EAA0B,SAAUT,EAAKC,EAAOC,EAAYC,GAC9D,IAAI7H,EAAO,IAAIrJ,aACfqJ,EAAK8H,cAAcnR,kBAAuBoR,sBAC7BpR,aAAkBqR,wBAAwB,MAAON,EAAK,WAAYC,EAAOC,EAAYF,EAAIhR,SAAUmR,EAAQ,EAAG7H,GACpHiI,cAAe,IAZY,SAAUP,EAAKC,EAAOC,EAAYC,GACpE,IAAI7H,EAAO,IAAIrJ,aACfqJ,EAAK8H,cAAcnR,kBAAuBoR,sBAE7BpR,aAAkBqR,wBAAwB,MAAON,EAAK,SAAUC,EAAOC,EAAYF,EAAIhS,OAAQmS,EAAQ,EAAG7H,GAChHiI,cAAe,GAUxBC,CAA8BvJ,GAAcxI,OAAQwR,EAAOC,EAAY,IAAIjR,YAAiB,EAAG,EAAG,IAClGwR,EAAwBxJ,GAAcxI,OAAQwR,EAAOC,EAAY,IAAIjR,YAAiB,EAAG,GAAI,IAG7FgI,GAAcxI,OAAOyK,gBAAkB,KACvCjC,GAAcxI,OAAO0K,gBAAkB,KACvClC,GAAcxI,OAAO6I,eAAiB,KACtCL,GAAcxI,OAAO8I,eAAiB,KACtCN,GAAcxI,OAAOqE,MAAkB,EAAV5C,KAAKC,GAAS,IAC3C8G,GAAcxI,OAAOkK,KAAO,KAC5B1B,GAAcxI,OAAO+I,iBAAmB,GACxCP,GAAcxI,OAAOgJ,iBAAmB,GAExCpJ,GAAgBU,MAAMqC,YAAW,GACjC/C,GAAgBc,MAAMiC,YAAW,GACjC/C,GAAgBe,MAAMgC,YAAW,GACjCjR,EAAUsB,SAAS2P,YAAW,GAC9BjR,EAAUwB,UAAUyP,YAAW,GAC/BjR,EAAUyB,UAAUwP,YAAW,GAE/B/C,GAAgBmC,UAAUkU,OAC1BrW,GAAgB6C,UAAUwT,OAC1BrW,GAAgB8C,UAAUuT,YACrB,GAAmB,aAAfT,EAAMlC,KAAqB,CACpC,EAAK3E,QAAQjJ,KAAO,4BACpB,EAAKkJ,UAAUwC,eAAe,eAAe1L,KAAO,mCACpD,EAAKkJ,UAAUuC,sBAAsBxG,IACnC,WACO/L,KAAKgQ,UAAUsD,eACpB9T,OAAO5J,KAAK,qCACZyd,KAAK,IAETrS,GAAgBmE,SAASxD,SAAWX,GAAgBc,MAAMH,SAASoK,IAAI,IAAInK,WAAgB,EAAG,IAAK,IACnGZ,GAAgBmE,SAASxC,SAAS7N,GAAK+N,KAAKC,GAAK,EACjD9B,GAAgBmE,SAASG,SAASG,MAAQ,EAC1CzE,GAAgB6F,cAAcC,KAAO,4JACrC9F,GAAgB6F,cAAcG,SAAW,OACzChG,GAAgB6F,cAAcuQ,aAAc,EAExCxE,EAAQ,GACRC,EAAa,IAUbO,EAA0B,SAAUT,EAAKC,EAAOC,EAAYC,GAC9D,IAAI7H,EAAO,IAAIrJ,aACfqJ,EAAK8H,cAAcnR,kBAAuBoR,sBAC7BpR,aAAkBqR,wBAAwB,MAAON,EAAK,WAAYC,EAAOC,EAAYF,EAAIhR,SAAUmR,EAAQ,EAAG7H,GACpHiI,cAAe,IAZY,SAAUP,EAAKC,EAAOC,EAAYC,GACpE,IAAI7H,EAAO,IAAIrJ,aACfqJ,EAAK8H,cAAcnR,kBAAuBoR,sBAE7BpR,aAAkBqR,wBAAwB,MAAON,EAAK,SAAUC,EAAOC,EAAYF,EAAIhS,OAAQmS,EAAQ,EAAG7H,GAChHiI,cAAe,GAUxBC,CAA8BvJ,GAAcxI,OAAQwR,EAAOC,EAAY,IAAIjR,WAAgB,EAAG,EAAG,IACjGwR,EAAwBxJ,GAAcxI,OAAQwR,EAAOC,EAAY,IAAIjR,WAAgB,EAAG,GAAI,IAG5FgI,GAAcxI,OAAOyK,gBAAkB,KACvCjC,GAAcxI,OAAO0K,gBAAkB,KACvClC,GAAcxI,OAAO6I,eAAiB,KACtCL,GAAcxI,OAAO8I,eAAiB,KACtCN,GAAcxI,OAAOqE,MAAkB,EAAV5C,KAAKC,GAAS,IAC3C8G,GAAcxI,OAAOkK,KAAO,KAC5B1B,GAAcxI,OAAO+I,iBAAmB,GACxCP,GAAcxI,OAAOgJ,iBAAmB,GAExCpJ,GAAgBU,MAAMqC,YAAW,GACjC/C,GAAgBa,MAAMkC,YAAW,GACjC/C,GAAgBe,MAAMgC,YAAW,GACjCjR,EAAUsB,SAAS2P,YAAW,GAC9BjR,EAAUuB,UAAU0P,YAAW,GAC/BjR,EAAUyB,UAAUwP,YAAW,GAE/B/C,GAAgBmC,UAAUkU,OAC1BrW,GAAgB4C,UAAUyT,OAC1BrW,GAAgB8C,UAAUuT,YAGrB,GAAmB,UAAfT,EAAMlC,KAAkB,CACjC,EAAK3E,QAAQjJ,KAAO,6EACpB,EAAKkJ,UAAUwC,eAAe,eAAe1L,KAAO,+BAEpD,EAAKkJ,UAAUuC,sBAAsBxG,IACnC,WACO/L,KAAKgQ,UAAUsD,eACpB9T,OAAO5J,KAAK,iCACZyd,KAAK,IAETrS,GAAgBmE,SAASxD,SAAWX,GAAgBe,MAAMJ,SAASoK,IAAI,IAAInK,WAAgB,EAAG,EAAG,IACjGZ,GAAgBmE,SAASxC,SAAS7N,GAAK+N,KAAKC,GAAK,EACjD9B,GAAgBmE,SAASG,SAASG,MAAQ,EAC1CzE,GAAgB6F,cAAcC,KAAO,yLACrC9F,GAAgB6F,cAAcG,SAAW,OACzChG,GAAgB6F,cAAcuQ,aAAc,EAExCxE,EAAQ,GACRC,EAAa,IAUbO,EAA0B,SAAUT,EAAKC,EAAOC,EAAYC,GAC9D,IAAI7H,EAAO,IAAIrJ,aACfqJ,EAAK8H,cAAcnR,kBAAuBoR,sBAC7BpR,aAAkBqR,wBAAwB,MAAON,EAAK,WAAYC,EAAOC,EAAYF,EAAIhR,SAAUmR,EAAQ,EAAG7H,GACpHiI,cAAe,IAZY,SAAUP,EAAKC,EAAOC,EAAYC,GACpE,IAAI7H,EAAO,IAAIrJ,aACfqJ,EAAK8H,cAAcnR,kBAAuBoR,sBAE7BpR,aAAkBqR,wBAAwB,MAAON,EAAK,SAAUC,EAAOC,EAAYF,EAAIhS,OAAQmS,EAAQ,EAAG7H,GAChHiI,cAAe,GAUxBC,CAA8BvJ,GAAcxI,OAAQwR,EAAOC,EAAY,IAAIjR,WAAgB,EAAG,EAAG,IACjGwR,EAAwBxJ,GAAcxI,OAAQwR,EAAOC,EAAY,IAAIjR,WAAgB,EAAG,GAAI,IAG5FgI,GAAcxI,OAAOyK,gBAAkB,KACvCjC,GAAcxI,OAAO0K,gBAAkB,KACvClC,GAAcxI,OAAO6I,eAAiB,KACtCL,GAAcxI,OAAO8I,eAAiB,KACtCN,GAAcxI,OAAOqE,MAAkB,EAAV5C,KAAKC,GAAS,IAC3C8G,GAAcxI,OAAOkK,KAAO,KAC5B1B,GAAcxI,OAAO+I,iBAAmB,GACxCP,GAAcxI,OAAOgJ,iBAAmB,GAExCpJ,GAAgBU,MAAMqC,YAAW,GACjC/C,GAAgBa,MAAMkC,YAAW,GACjC/C,GAAgBc,MAAMiC,YAAW,GACjCjR,EAAUsB,SAAS2P,YAAW,GAC9BjR,EAAUuB,UAAU0P,YAAW,GAC/BjR,EAAUwB,UAAUyP,YAAW,GAE/B/C,GAAgBmC,UAAUkU,OAC1BrW,GAAgB4C,UAAUyT,OAC1BrW,GAAgB6C,UAAUwT,OAI5BvkB,EAAUoB,cAAe,EACzByF,QAAQC,IAAI,gBACR9G,EAAUoB,eACZ,EAAK+b,WAAWxK,MAAQ,U,8BAYlC,WACczF,KAAKyB,MAAjB,IAEI6V,EAAOtX,KAAKuP,UACZC,EAAWxP,KAAKwP,SAEhB+H,GAAc,EACdC,GAAe,EACf3H,EAAU7P,KAAK6P,QACf4H,EAAmBzX,KAAKyB,MAAMiW,aAAaC,sBAC3CC,EAAIH,EAAiBI,OAAO,GAC5BvC,EAAI,EAKRtV,KAAKyB,MAAMiL,sBAAqB,WAC9B,GAAI4K,EAAKQ,UAAW,CAMlB,GALAF,EAAEhjB,GAAmB,IAAdiO,KAAKkV,IAAIzC,GAChBsC,EAAE/iB,GAAmB,IAAdgO,KAAK6S,IAAIJ,GAChBmC,EAAiBO,iBAAiB,EAAGJ,EAAEhjB,EAAGgjB,EAAE/iB,EAAG+iB,EAAE9iB,EAAG8iB,EAAEK,GACtD3C,GAAK,SAEDgC,EAAKY,YAAY,GAAGC,aAAe,MAChCZ,EAAa,CAChBA,GAAeA,EAuBf/H,EAASzL,YAAW,GACpBuT,EAAK3D,WAAa,EAElB,IAAM3P,EAAiB,IAAIpC,kBAAuB,YAAa,GAC/DoC,EAAeC,gBAAkB,IAAIrC,WAAgB,oBAErDoC,EAAeoU,mBAAmB,IAAIxW,WAAgB4C,KAAQ,IAAI5C,WAAgB4C,MAElFR,EAAekK,YAAc,GAC7BlK,EAAemK,YAAc,GAE7B,IAAK,IAAIjW,EAAI,EAAGA,GAAK,EAAGA,GAAK,IAC3B8L,EAAeG,gBAAgBjM,EAAG,IAAM,GAAKA,EAAI,IAAMA,EAAI,KAG7D8L,EAAeY,eAAgB,EAC/BZ,EAAeW,mBAAqB,GACpCX,EAAeR,YAAc,KAE7BQ,EAAeE,QAEfF,EAAeN,iBAAiB,EAAG,IAAI9B,UAAe,EAAG,IAAM,MAC/DoC,EAAeN,iBAAiB,EAAG,IAAI9B,UAAe,IAAM,IAAM,KAGlE0V,EAAKY,YAAY,GAAGC,aAAe,IAChCX,IACHA,GAAgBA,EAChB3H,EAAQqF,KAAK3T,UACbgM,GAAgBO,oBAAoBvM,UACpCqI,GAAcxI,OAAO8I,eAAiB,KACtCN,GAAcxI,OAAO6I,eAAiB,KAEtCL,GAAcyO,+B,0BAOxB,WAAgB,IAAD,OACT5W,EAAQzB,KAAKyB,MACbuO,EAAYhQ,KAAKgQ,UAGrBhQ,KAAKyB,MAAM6W,qBAAqBvM,KAAI,SAACwM,GACnC,OAAQA,EAAO/f,MACb,KAAKoJ,sBAA2B4W,QAC9B,GAAyB,WAArBD,EAAO9e,MAAMlB,IACV,EAAK8W,QAOR,EAAK5N,MAAMgX,WAAWC,QANtB/e,QAAQC,IAAI,yBACZ,EAAK6H,MAAMgX,WAAWE,KAAK,CACzBC,aAAa,EACbC,SAAS,UAKR,GAAyB,WAArBN,EAAO9e,MAAMlB,IAAkB,CACxCzF,EAAUoB,cAAe,EAEzB,EAAK6b,QAAQjJ,KAAO,GACpB,EAAKkJ,UAAUwC,eAAe,eAAe1L,KAAO,sEAEpDkJ,EAAUuC,sBAAsBE,QAChC,EAAKxC,WAAWxK,MAAQ,EACxBzE,GAAgBmE,SAASG,SAASG,MAAQ,EAC1CzE,GAAgB6F,cAAcC,KAAO,GACrCrF,EAAMyG,eAAelH,GAAgB8E,UAAW,GAAI,GAAG,GAEvD8D,GAAcxI,OAAOT,OAAS,IAAIiB,WAAgB4C,KAClDoF,GAAcxI,OAAOqE,OAAS5C,KAAKC,GAAK,EACxC8G,GAAcxI,OAAOkK,KAAO,IAC5B1B,GAAcxI,OAAO+I,iBAAmB,GACxCP,GAAcxI,OAAOgJ,iBAAmB,GAhBA,qBAiBvB3I,EAAMiR,QAjBiB,IAiBxC,2BAA+B,SACxB3O,YAAW,GAChB/C,GAAgBmC,UAAUe,QAC1BlD,GAAgB4C,UAAUM,QAC1BlD,GAAgB6C,UAAUK,QAC1BlD,GAAgB6C,UAAUK,SAtBY,+BA4BJ,SAAUyO,EAAKC,EAAOC,EAAYC,GACpE,IAAI7H,EAAO,IAAIrJ,aACfqJ,EAAK8H,cAAcnR,kBAAuBoR,sBAE7BpR,aAAkBqR,wBAAwB,MAAON,EAAK,SAAUC,EAAOC,EAAYF,EAAIhS,OAAQmS,EAAQ,EAAG7H,GAChHiI,cAAe,EAUxBC,CAA8BvJ,GAAcxI,OAlBhC,GACK,IAiBsD,IAAIQ,WAAgB,EAAG,EAAG,IAPnE,SAAU+Q,EAAKC,EAAOC,EAAYC,GAC9D,IAAI7H,EAAO,IAAIrJ,aACfqJ,EAAK8H,cAAcnR,kBAAuBoR,sBAC7BpR,aAAkBqR,wBAAwB,MAAON,EAAK,WAAYC,EAAOC,EAAYF,EAAIhR,SAAUmR,EAAQ,EAAG7H,GACpHiI,cAAe,EAIxBE,CAAwBxJ,GAAcxI,OAnB1B,GACK,IAkBgD,IAAIQ,WAAgB,EAAG,GAAI,IAE9F,EAAKyN,SAAW,EAAKA,e,6DAhhB7B,gHACMyJ,EAAY,IAAIlX,eAAoBwD,YAAY,eAAgB,CAAEC,KAAM,IAAMrF,KAAKyB,QAC7EE,SAAW,IAAIC,YAAiB,IAAK,GAAI,MAE/CmX,EAAW,IAAInX,eAAoBwD,YAAY,eAAgB,CAAEC,KAAM,IAAMrF,KAAKyB,QAC7EE,SAAW,IAAIC,YAAiB,EAAG,EAAG,KAC/CmX,EAASpE,QAAU,IAAI/S,YAAiB,IAAK,IAAK,GAE9C8D,EAAkBC,0BAA2BqT,cAAcF,GAC3DG,EAAmBtT,0BAA2BqT,cAAcD,IAE5DG,EAAU,IAAIvT,SAAU,QAAS,qBAC7BK,MAAQ,GAChBkT,EAAQjT,OAAS,GACjBP,EAAgBK,WAAWmT,IAEvBC,EAAU,IAAIxT,SAAU,QAAS,0BAC7BK,MAAQ,GAChBmT,EAAQlT,OAAS,GACjBgT,EAAiBlT,WAAWoT,GAnB9B,UA8BwBvX,eAAoB4S,gBAAgB,GAAI1hB,EAAUU,WAAYV,EAAUsmB,gBAAiBpZ,KAAKyB,OA9BtH,QAqCE,IAPI4U,EA9BN,OA+BErW,KAAK0P,UAAY2G,EAAU3D,OAAO,GAClC1S,KAAK0P,UAAUgF,KAAO,aACtB1U,KAAK0P,UAAU/N,SAAW,IAAIC,WAAgB,GAAI,GAAI,KACtD5B,KAAK0P,UAAU/M,SAAW,IAAIf,WAAgB,EAAGA,SAAcgB,UAAU,KAAMhB,SAAcgB,UAAU,KACvG5C,KAAK0P,UAAUiF,QAAU,IAAI/S,WAAgB,GAAI,GAAI,IAE5C1J,EAAI,EAAGA,EAAIme,EAAU3D,OAAOva,OAAQD,IACN,OAAjCme,EAAU3D,OAAOxa,GAAGoN,WACtB+Q,EAAU3D,OAAOxa,GAAGoN,SAAS+T,OAAQ,GAIzCrZ,KAAK0P,UAAU/F,iBAAiBoM,SAAQ,SAACb,GACvC,EAAKc,UAAUd,MA5CnB,iD,2DA/bsCvV,I,SCNxCH,OAAOE,iBAAiB,QAAQ,WAC9BF,OAAOc,oBAAoB,OAAQN,MACnCoQ,QAGF,IAAMA,GAAO,WACNtd,EAAUC,aAAY4G,QAAQC,IAAM,cAEzC0f,MA4BEC,GAAQ,KAEND,GAAW,WACf3f,QAAQC,IAAI,sBAGV9G,EAAUqC,YADR,WAAWqkB,KAAKC,UAAUC,WACJ5mB,EAAUoC,WACzB,oBAAoBskB,KAAKC,UAAUC,WACpB5mB,EAAUmC,OAEVnC,EAAUkC,OAGpCsE,EAAajC,cACbP,EAAYO,cACZP,EAAYS,SAASoiB,GAAoBC,KAGrCA,GAAiB,aAEjBD,GAAqB,WACzBhgB,QAAQC,IAAI,8BACZigB,KACA,IAAM1K,EAAS2K,SAASC,eAAe,UACvCR,GAAQ,IAAIS,GAAM7K,IACZzP,iBAAiB,wBAAyBua,IAChDV,GAAM7Z,iBAAiB,gBAAiBwa,KAGpCA,GAAe,SAACC,KAEhBF,GAAuB,SAACE,KAExBN,GAAa,WACjBO,IAASxJ,OACP,cAAC,IAAMyJ,WAAP,UACE,cAAC,KAAD,UACE,cAAC,GAAD,QAGJP,SAASC,eAAe,Y","file":"static/js/main.94134c3d.chunk.js","sourcesContent":["export default class Constants\r\n{\r\n    'use strict';\r\n\r\n    static DEBUG_MODE = false;\r\n    static CANVAS = null;\r\n    static ENGINE = null;\r\n    static SCENE = null;\r\n    static SNOW_PARTICLE = null;\r\n    \r\n    static MULTI_SERVER_URL = {\r\n        url: 'ws://10.10.13.119',\r\n        port: '2657'\r\n    };\r\n    \r\n    static TOTAL_DATA = 111908704;\r\n    static ASSETS_URL = \"./assets/\";\r\n    static CHEST_FILE_NAME = \"steampunkChest.glb\";\r\n    static CHEST = null;\r\n    static KEY_FILE_NAME = \"key.glb\";\r\n    static CARD_FILE_NAME = \"Card.glb\";\r\n    \r\n    static FRAME = \"frame.glb\";\r\n    static COFFEE = \"coffee2.glb\";\r\n    static EASEL = \"easel.glb\";\r\n    static UNIVERSITY = \"university.glb\";\r\n\r\n    static CONTAINER = null;\r\n    static isDetailView = false;\r\n\r\n    static PEDESTAL_FILE_NAME = \"pedestal.glb\";\r\n    static PEDESTAL = null;\r\n    static PEDESTAL2 = null;\r\n    static PEDESTAL3 = null;\r\n    static PEDESTAL4 = null;\r\n\r\n    static CONFIG_DATA_URL = \"./json/config.json\";\r\n    static COMPANY_DATA_URL = \"./json/company_datas.json\";\r\n    static CHANGGONG_DATA_URL = \"./json/changgong_datas.json\";\r\n   \r\n    static STARTING_POINT = {x:0 , y:1.1, z:36};\r\n    static CONTAINER_MAP = null;\r\n\r\n    static OS_ECT = \"Os_Ect\";\r\n    static OS_IOS = \"Os_Ios\";\r\n    static OS_ANDROID = \"Os_Android\";\r\n    static OS_PLATFORM = null;\r\n\r\n    \r\n}","\texport default class DataLoader\r\n\t{\r\n\t/*  constructor(){};  */\r\n\tconstructor(){}\r\n\tstatic LoadData(_strFileURL, _funcCallBack = null, _strRequestType = \"GET\", _data = null, _token = null)\r\n\t{\r\n\t\t//console.log(\"::: LoadJSON ::: \", _strRequestType);\r\n\t\tlet xmlhttp = new XMLHttpRequest();\r\n\t\tlet isAsync = (_funcCallBack !== null);\r\n\t\t\r\n\t\txmlhttp.open(_strRequestType, _strFileURL, isAsync);\r\n\t\tlet returnData = null;\r\n\r\n\t\txmlhttp.onreadystatechange = function() {\r\n\t\t\t//console.log(\"LoadJSON ::: \", xmlhttp.readyState);\r\n\t\t\tif (xmlhttp.readyState === XMLHttpRequest.DONE)\r\n\t\t\t{\r\n\t\t\t\tlet objData = {\r\n\t\t\t\t\tsuccess:false,\r\n\t\t\t\t\tmessage:null,\r\n\t\t\t\t\terrors:xmlhttp.status,\r\n\t\t\t\t\tdata:null\r\n\t\t\t\t\t}\r\n\t\t\t\tif(xmlhttp.status === 200 || xmlhttp.status === 400) {\r\n\t\t\t\t\tobjData = JSON.parse(xmlhttp.responseText);\t\r\n\t\t\t\t}\r\n\t\t\t\treturnData = objData;\r\n\t\t\t\tif(_funcCallBack)_funcCallBack(objData);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\txmlhttp.setRequestHeader(\"Content-Type\", \"application/json\",\"charset=UTF-8\");\r\n\t\txmlhttp.withCredentials = true;\r\n\t\txmlhttp.send(JSON.stringify(_data));\r\n\r\n\t\treturn returnData;\r\n    }\r\n}","/**\r\n @Class          : DataManager\r\n @Maker          : Park Junghoon\r\n @Date           : 2021-10-27\r\n @Debug DATE     : \r\n @Debug Contents : -\r\n @Version        : 1.0\r\n @Description    : 데이터 관리 클래스\r\n                   데이터 로드및 관리, 싱글톤\r\n */\r\n\r\nimport Constants from \"../Constants.js\";\r\nimport DataLoader from \"./DataLoader\";\r\n\r\nexport default class DataManager\r\n{\r\n    static DATA_LOAD_COMPLETE = \"Data_Load_Complete\" // 데이터 로드 완료 이벤트\r\n\r\n    static m_objInit;                   // 객체 생성 확인용\r\n    static m_dataManager;               // 인스턴스 객체\r\n    static m_objUserData = null;        // 사용자 데이터\r\n    static m_arrCompanyDatas = null;    // 업체 데이터 배열\r\n    static m_objChanggongData = null;   // 창공 데이터\r\n    \r\n\r\n    /**\r\n    *===============================================================================\r\n    * constructor()      : \r\n    * @param _objInit   : 싱글톤 생성 확인용 객체\r\n    *===============================================================================*/\r\n    constructor(_objInit)\r\n    {\r\n        //super();\r\n\r\n        if (_objInit !== DataManager.m_objInit) \r\n        {\r\n            throw new Error( \"DataManager 생성은 다음과 같이 해주세요 - DataManager.GetInstance()\" ); \r\n           // return;\r\n        }\r\n    }\r\n    \r\n    /**\r\n    *===============================================================================\r\n    * GetInstance()      : \r\n    * @return            : 커뮤니케이터 인스턴스 리턴\r\n    *===============================================================================*/\r\n    static GetInstance()\r\n    {\r\n        if(DataManager.m_dataManager == null) \r\n        {\r\n            DataManager.m_dataManager = new DataManager(DataManager.m_objInit);\r\n            DataManager.m_objInit = {};\r\n            DataManager.m_arrCompanyDatas = [];\r\n        }\r\n        return DataManager.m_dataManager;\r\n    }\r\n\r\n    /**\r\n    *===============================================================================\r\n    * dispose()         : \r\n    *===============================================================================*/\r\n    static dispose(){\r\n        DataManager.m_arrCompanyDatas = null;\r\n        DataManager.m_objInit = null;\r\n        DataManager.m_dataManager = null;\r\n    }\r\n\r\n    /**\r\n    *===============================================================================\r\n    * reciveEvent()                 : 이벤트 수신\r\n    * @param _funcCallBack          : 데이터 로드 성공 콜벡함수\r\n    * @param _funcCallBackError     : 데이터 로드 실패 콜벡함수\r\n    *===============================================================================*/\r\n    static async LoadData(_funcCallBack, _funcCallBackError)\r\n    {\r\n        if(DataManager.m_dataManager == null) DataManager.GetInstance();\r\n        DataManager.m_funcCallBack = _funcCallBack;\r\n        \r\n        //서버 URL 정보 로드\r\n        let objServerData = await DataLoader.LoadData(Constants.CONFIG_DATA_URL);\r\n        Constants.MULTI_SERVER_URL.url = String(objServerData.MULTI_SERVER_URL);        \r\n        Constants.MULTI_SERVER_URL.port = String(objServerData.MULTI_SERVER_PORT);  \r\n        \r\n        //업체 리스트 데이터 로드\r\n        let companyData = await DataLoader.LoadData(Constants.COMPANY_DATA_URL);\r\n        DataManager.m_arrCompanyDatas = companyData.data;\r\n\r\n\r\n        //창공 데이터 로드\r\n        let changgongData = await DataLoader.LoadData(Constants.CHANGGONG_DATA_URL);\r\n        DataManager.m_objChanggongData = changgongData.data;\r\n        DataManager.m_funcCallBack();\r\n\r\n    }\r\n\r\n    /**\r\n    *===============================================================================\r\n    * SetUserData()         : 사용자 데이터 설정\r\n    * @param _objUserData   : 사용자 데이터\r\n    *===============================================================================*/\r\n    static SetUserData(_objUserData){\r\n        DataManager.m_objUserData = _objUserData;\r\n    }\r\n\r\n    /**\r\n    *===============================================================================\r\n    * GetUserData()     : 사용자 데이터 게터\r\n    * @return           : 사용자 데이터 리턴\r\n    *===============================================================================*/\r\n    static GetUserData(){\r\n        return DataManager.m_objUserData;\r\n    }\r\n    \r\n    /**\r\n    *===============================================================================\r\n    * GetCompoanyDatas()    : 전체 업체 데이터 게터\r\n    * @return               : 전체 업체 데이터 리턴\r\n    *===============================================================================*/\r\n    static GetCompanyDatas(){\r\n        return DataManager.m_arrCompanyDatas;\r\n    }\r\n\r\n    /**\r\n    *===============================================================================\r\n    * GetCompoanyDataByID()     : 업체 데이터 게터\r\n    * @param _strID             : 업체 아이디\r\n    * @return                   : 업체 데이터 리턴\r\n    *===============================================================================*/\r\n    static GetCompoanyDataByID(_strID){\r\n        let objData = null;\r\n        let objDataReturn = null;\r\n        for(let i = 0; i <  DataManager.m_arrCompanyDatas.length; i++){\r\n            objData = DataManager.m_arrCompanyDatas[i];\r\n            if(String(objData.id) === String(_strID)) \r\n            {\r\n                objDataReturn = objData;\r\n                break;\r\n            }\r\n        }\r\n        return objDataReturn;\r\n    }\r\n\r\n    /**\r\n    *===============================================================================\r\n    * GetChanggongData()    : 창공 데이터 게터\r\n    * @return               : 창공 데이터 리턴\r\n    *===============================================================================*/\r\n    static GetChanggongData(){\r\n        return DataManager.m_objChanggongData;\r\n    }\r\n};\r\n\r\n","export default class Utils_ui\r\n{\r\n    'use strict';\r\n    /**\r\n    *===============================================================================\r\n    * SortJSON()        : JSON 데이터 소팅\r\n    * @param data       : JSON 데이터\r\n    * @param key        : attribute명(소팅기준 값)\r\n    * @param type       : \"asc\",\"desc\"\r\n    *===============================================================================\r\n    */\r\n    static SortJSON (data, key, type) \r\n    {\r\n        if (type === undefined) type = \"asc\";\r\n\r\n        return (data.sort(function (a, b) {\r\n            let x = a[key];\r\n            let y = b[key];\r\n            let returnData=null;\r\n            if (type === \"desc\") {\r\n                returnData =  x > y ? -1 : x < y ? 1 : 0;\r\n            } else if (type === \"asc\") {\r\n                returnData =  x < y ? -1 : x > y ? 1 : 0;\r\n            }\r\n\r\n            return returnData;\r\n        }));\r\n    };\r\n\r\n    /**\r\n    *===============================================================================\r\n    * PercentToPx()        : full size기준으로 입력%만큼 리턴\r\n    * @param nFullSize     : 대상 full 사이즈\r\n    * @param nPercent      : 리턴받기 원하는 %\r\n    * @param isAddPx       : 뒤에 \"px\" 붙여서 리턴 여부 결정\r\n    *===============================================================================\r\n    */\r\n    static PercentToPx (nFullSize, nPercent, isAddPx=true) \r\n    {\r\n        let returnData = \"\"\r\n        \r\n        if(isAddPx) returnData = (nFullSize / 100)*nPercent+\"px\";\r\n        else returnData = (nFullSize / 100)*nPercent;\r\n\r\n        return returnData;\r\n    };\r\n\r\n};\r\n\r\n","export default class Constants_ui {\r\n    static PAGE_START =\"PageLoading\";   //시작 페이지 설정\r\n    static PAGE_LOADING =\"PageLoading\";\r\n    static PAGE_AUTH =\"PageAuth\";\r\n    static PAGE_MAIN =\"PageMain\";\r\n\r\n    static FIRSTLOADING_TIME = 5000;\r\n}","/**\r\n @Class          : Communicator\r\n @Maker          : Park Junghoon\r\n @Date           : 2021-10-27\r\n @Debug DATE     : \r\n @Debug Contents : -\r\n @Version        : 1.0\r\n @Description    : content(BabylonJS)와 UI(ReactJS)간 데이터 연동을 위한 클래스\r\n                   싱글톤 페턴을 사용하므로 한가지 아벤트는 한군데서만 사용가능함\r\n */\r\nexport default class Communicator\r\n{\r\n    static m_communicator;\r\n    static m_objInit;\r\n    static m_objEvents;\r\n    \r\n    /**\r\n    *===============================================================================\r\n    * constructor()      : \r\n    * @param _objInit   : 싱글톤 생성 확인용 객체\r\n    *===============================================================================*/\r\n    constructor(_objInit)\r\n    {\r\n        if (_objInit !== Communicator.m_objInit) \r\n        {\r\n            throw new Error( \"Communicator 생성은 다음과 같이 해주세요 - Communicator.GetInstance()\" ); \r\n           // return;\r\n        }\r\n    }\r\n\r\n    /**\r\n    *===============================================================================\r\n    * GetInstance()      : \r\n    * @return            : 커뮤니케이터 인스턴스 리턴\r\n    *===============================================================================*/\r\n    static GetInstance()\r\n    {\r\n        if(Communicator.m_communicator == null) \r\n        {\r\n            Communicator.m_communicator = new Communicator(Communicator.m_objInit);\r\n            Communicator.m_objInit = {};\r\n            Communicator.m_objEvents = {};\r\n        }\r\n        return Communicator.m_communicator;\r\n    }\r\n\r\n    /**\r\n    *===============================================================================\r\n    * dispose()               : \r\n    *===============================================================================*/\r\n    static dispose(){\r\n        for(const event in Communicator.m_objEvents){\r\n            Communicator.m_objEvents[event] = null;\r\n        }\r\n\r\n        Communicator.m_objEvents = null;\r\n        Communicator.m_objInit = null;\r\n        Communicator.m_communicator = null;\r\n    }\r\n\r\n    /**\r\n    *===============================================================================\r\n    * reciveEvent()             : 이벤트 수신\r\n    * @param _strEvent          : 수신 이벤트\r\n    * @param _funcCallBack      : 콜벡펑션\r\n    *===============================================================================*/\r\n    static reciveEvent(_strEvent, _funcCallBack){\r\n        if (!Communicator.m_objInit) \r\n        {\r\n            console.log( \"Communicator 인스턴스가 생성되지 않아 이벤트를 \" + _strEvent + \" 등록할 수 없습니다.\" ); \r\n            return;\r\n        } \r\n        if(!Communicator.m_objEvents[_strEvent]) Communicator.m_objEvents[_strEvent] = _funcCallBack;\r\n    }\r\n\r\n    /**\r\n    *===============================================================================\r\n    * sendEvent()               : 이벤트 발신\r\n    * @param _strEvent          : 전송할 이벤트\r\n    * @param _anyData           : 전송할 데이터 -- \r\n    *===============================================================================*/\r\n    static sendEvent(_strEvent, _anyData = null){\r\n        if (!Communicator.m_objInit) \r\n        {\r\n            console.log( \"Communicator 인스턴스가 생성되지 않아 이벤트를 전달할 수 없습니다.)\" ); \r\n            return;\r\n        }\r\n        //console.log(\"Communicator sendEvent :: \", _strEvent, _anyData);\r\n        if(Communicator.m_objEvents[_strEvent]) Communicator.m_objEvents[_strEvent](_anyData)\r\n    }\r\n};","/**\r\n @Class          : CommunicatorEvent\r\n @Maker          : Park Junghoon\r\n @Date           : 2021-10-28\r\n @Debug DATE     : \r\n @Debug Contents : -\r\n @Version        : 1.0\r\n @Description    : content(BabylonJS)와 UI(ReactJS)간 데이터 연동을 위한 이벤트 관리 클래스\r\n */\r\n\r\nexport default class CommunicatorEvent\r\n{\r\n    /*===============================================================================\r\n    * Babylon to React\r\n    *===============================================================================*/\r\n    static WORLD_LOAD_COMPLETE = \"World_Load_Complete\";     //월드 맵 로드 완료 이벤트\r\n    static WORLD_LOADING = \"World_Loading\";                  //WebGL 컨텐츠 로드및 설정 진행율 표시\r\n    static RECEIVE_CHAT_MESSAGE= \"Receive_Chat_Message\";    //채팅메시지 수신\r\n    static OPEN_CATALOG = \"Open_Catalog\";                   //카다로그 오픈\r\n    static OPEN_URL_LINK = \"Open_Url_Link\";                 // URL Link - Homepage, Sns, \r\n    static OPEN_VIDEO = \"Open_Video\";                       //비디오 오픈\r\n    static OPEN_PDF = \"Open_PDF\";                           //PDF 오픈 \r\n    \r\n\r\n    /*===============================================================================\r\n    * React to Babylon\r\n    *===============================================================================*/\r\n    static START_CONTENT = \"Start_Content\";                 //WebGL 컨텐츠 스타트\r\n    static CHANGE_CAMERA_MODE = \"Change_Camera_Mode\";       //맵 Change 이벤트\r\n    static SEND_CHAT_MESSAGE = \"SEND_CHAT_MESSAGE\";         //채팅메시지 송신\r\n    static GO_TO_TENANT = \"Go_Yo_Tenant\";                   //업체 부스로 이동\r\n};","import { useMediaQuery } from 'react-responsive'\r\n\r\nconst MobileIphone = ({children}) => {\r\n  const isMobile = useMediaQuery({maxWidth: 376})\r\n  return isMobile\r\n      ? children\r\n      : null\r\n}\r\n\r\nconst Mobile = ({children}) => {\r\n  const isMobile = useMediaQuery({minWidth: 377, maxWidth: 413})\r\n  return isMobile\r\n      ? children\r\n      : null\r\n}\r\n\r\nconst Tablet = ({children}) => {\r\n  const isTablet = useMediaQuery({minWidth: 414, maxWidth: 754})\r\n  return isTablet\r\n      ? children\r\n      : null\r\n}\r\n\r\nconst Desktop = ({children}) => {\r\n  const isDesktop = useMediaQuery({minWidth: 755})\r\n  return isDesktop\r\n      ? children\r\n      : null\r\n}\r\n\r\n\r\n\r\nexport { Desktop, Tablet, Mobile, MobileIphone };","import styled from \"styled-components\";\r\n\r\nconst ContainerBox = styled.div`\r\n    position: relative;\r\n    pointer-events:none;\r\n    margin: 0px;\r\n    padding: 0px;\r\n`;\r\n\r\nconst Block = styled(ContainerBox)`\r\n  display: ${ (props) => (\r\n  (props.Display !== null)\r\n      ? props.Display\r\n      : null\r\n  )};\r\n  width: ${props => props.ContainerWidth};\r\n  height: ${props => props.ContainerHeight};\r\n  background-color: ${ (props) => (\r\n  (props.BackColor !== null)\r\n      ? props.BackColor\r\n      : null\r\n  )};\r\n  border: ${ (props) => (\r\n  props.Border !== null\r\n      ? props.Border + \" solid #000\"\r\n      : \"0px solid #000\"\r\n  )};\r\n`;\r\n\r\nconst TextBox = styled.div `\r\n  color: ${props => props.FontColor}; \r\n  font-size: ${props => props.FontSize}; \r\n  font-weight: ${props => props.FontWeight};\r\n  font-family: 'Spoqa HanSansNeo';\r\n  word-spacing: ${ (props) => (\r\n    (props.WordSpacing !== null)\r\n        ? props.WordSpacing\r\n        : null\r\n  )};\r\n  letter-spacing: ${ (props) => (\r\n    (props.LetterSpacing !== null)\r\n        ? props.LetterSpacing\r\n        : null\r\n  )};\r\n  text-align: ${ (props) => (\r\n    (props.TextAlign !== null)\r\n        ? props.TextAlign\r\n        : null\r\n  )};\r\n  margin-top: ${props => props.MarginTop};\r\n  margin-bottom: ${props => props.MarginBottom};\r\n  pointer-events:none;\r\n  border: ${ (props) => (\r\n    props.Border !== null\r\n        ? props.Border + \" solid #000\"\r\n        : \"0px solid #000\"\r\n  )};\r\n`;\r\n\r\nexport { ContainerBox, Block, TextBox };","import React, { useState } from \"react\";\r\nimport styled from 'styled-components';\r\n\r\nimport Communicator from \"../../common/Communicator\";\r\nimport CommunicatorEvent from \"../../common/event/CommunicatorEvent\";\r\nimport Constants_ui from \"../common/Constants_ui\";\r\nimport { Desktop, Mobile, MobileIphone, Tablet } from \"../common/MediaQuery\";\r\nimport { Block, ContainerBox, TextBox } from \"../common/StyleMasterComp\";\r\nimport Utils_ui from \"../common/Utils_ui\";\r\n\r\n\r\nlet AuthTextBox = styled(TextBox)`\r\n    font-family: 'SEBANG_Gothic_Regular';\r\n`;\r\n\r\nlet BottomBlock = styled(Block)`\r\n    display: flex;\r\n    flex-direction: column;\r\n`;\r\n\r\nlet InputIdBox = styled.input`\r\n    /* position: absolute; */\r\n    width: ${props => props.Width};\r\n    height: 57px;\r\n    margin-bottom: 21px;\r\n\r\n    left:${props => props.Left};\r\n\r\n    font-family: 'SEBANG_Gothic_Regular';    \r\n    font-size: 20px; color: #FFFFFF; text-align: center; \r\n    letter-spacing: 2px;\r\n\r\n    background: #013A7D;\r\n    box-shadow: 0px 1px 15px #FFFFFF;\r\n    border-radius: 30px;\r\n    outline: none;\r\n    border: none;\r\n\r\n    pointer-events:all;\r\n    ::placeholder {\r\n        color: #FFFFFF;  text-align: center; \r\n    }\r\n`;\r\n\r\nlet OkBtn = styled.button`\r\n    margin-left: 38%;\r\n    width: 298px; height: 57px;\r\n\r\n    font-family: 'SEBANG_Gothic_Regular'; \r\n    font-size: 20px; color: #003C8F; font-weight: 600; letter-spacing: 2px; text-align: center; \r\n    \r\n    background: #FFFFFF;\r\n    box-shadow: 0px 1px 15px rgba(255, 255, 255, 0.47);\r\n    border-radius: 30px;\r\n    border: none;\r\n\r\n    cursor: pointer;\r\n    pointer-events:all;\r\n`;\r\n\r\nlet OkBtnPhone = styled.button`\r\n    margin-left: 10%;\r\n    width: 298px; height: 57px;\r\n\r\n    font-family: 'SEBANG_Gothic_Regular'; \r\n    font-size: 20px; color: #003C8F; font-weight: 600; letter-spacing: 2px; text-align: center; \r\n    \r\n    background: #FFFFFF;\r\n    box-shadow: 0px 1px 15px rgba(255, 255, 255, 0.47);\r\n    border-radius: 30px;\r\n    border: none;\r\n\r\n    cursor: pointer;\r\n    pointer-events:all;\r\n`;\r\n\r\nfunction PageAuth(props) {\r\n    // console.log(\"어스페이지\", props);\r\n    let [inputData, setInputData] = useState('');\r\n\r\n    const onKeyPress = (e) => {\r\n        if (inputData === \"\") return;\r\n        if (e.key === 'Enter') {\r\n            Communicator.sendEvent(CommunicatorEvent.START_CONTENT, { name: inputData });\r\n            onNextPageMove();\r\n        }\r\n    }\r\n\r\n    let onNextPageMove = () => {\r\n        //console.log('onNextPageMove');\r\n        // props.setSelectPageName(Constants_ui.PAGE_MAIN);\r\n        var link = 'https://netstream.co.kr/Expo/#';\r\n        window.open(link);                 \r\n    }\r\n\r\n    return (\r\n        <ContainerBox>\r\n                <Block ContainerHeight={Utils_ui.PercentToPx(props.nVh,60)} Display=\"flex\">\r\n                    <Block ContainerWidth=\"5%\" ContainerHeight=\"100%\"/>\r\n                    {/* <Block ContainerWidth=\"95%\" ContainerHeight=\"100%\">\r\n                        <Desktop>\r\n                            <AuthTextBox FontSize=\"70px\" FontColor=\"#fff\" FontWeight=\"normal\" TextAlign=\"left\" MarginTop=\"2vh\">서울 VRAR</AuthTextBox>\r\n                            <AuthTextBox FontSize=\"70px\" FontColor=\"#fff\" FontWeight=\"normal\" TextAlign=\"left\" MarginTop=\"-2vh\">Meta4</AuthTextBox>\r\n                            <AuthTextBox FontSize=\"70px\" FontColor=\"#fff\" FontWeight=\"normal\" TextAlign=\"left\" MarginTop=\"-2vh\">갤러리 출품</AuthTextBox>\r\n                        </Desktop>\r\n                        <Tablet>\r\n                            <TextBox FontSize=\"60px\" FontColor=\"#fff\" FontWeight=\"normal\" TextAlign=\"left\" MarginTop=\"2vh\">서울 VRAR</TextBox>\r\n                            <TextBox FontSize=\"60px\" FontColor=\"#fff\" FontWeight=\"normal\" TextAlign=\"left\" MarginTop=\"-1.5vh\">Meta4</TextBox>\r\n                            <TextBox FontSize=\"60px\" FontColor=\"#fff\" FontWeight=\"normal\" TextAlign=\"left\" MarginTop=\"-1.5vh\">갤러리 출품</TextBox>\r\n                        </Tablet>\r\n                        <Mobile>\r\n                            <TextBox FontSize=\"36px\" FontColor=\"#fff\" FontWeight=\"normal\" TextAlign=\"left\" MarginTop=\"2vh\">서울 VRAR</TextBox>\r\n                            <TextBox FontSize=\"36px\" FontColor=\"#fff\" FontWeight=\"normal\" TextAlign=\"left\" MarginTop=\"-1vh\">Meta4</TextBox>\r\n                            <TextBox FontSize=\"36px\" FontColor=\"#fff\" FontWeight=\"normal\" TextAlign=\"left\" MarginTop=\"-1vh\">갤러리 출품</TextBox>\r\n                        </Mobile>\r\n                        <MobileIphone>\r\n                            <TextBox FontSize=\"30px\" FontColor=\"#fff\" FontWeight=\"normal\" TextAlign=\"left\" MarginTop=\"2vh\">서울 VRAR</TextBox>\r\n                            <TextBox FontSize=\"30px\" FontColor=\"#fff\" FontWeight=\"normal\" TextAlign=\"left\" MarginTop=\"-1vh\">Meta4</TextBox>\r\n                            <TextBox FontSize=\"30px\" FontColor=\"#fff\" FontWeight=\"normal\" TextAlign=\"left\" MarginTop=\"-1vh\">갤러리 출품</TextBox>\r\n                        </MobileIphone>\r\n                    </Block> */}\r\n                </Block>\r\n                <Block ContainerHeight={Utils_ui.PercentToPx(props.nVh,15)}  Display=\"flex\"> \r\n                    <Block ContainerWidth=\"5%\" ContainerHeight=\"100%\"/>\r\n                    <Block ContainerWidth=\"95%\" ContainerHeight=\"100%\">\r\n                        <Desktop>\r\n                            <AuthTextBox> </AuthTextBox>\r\n                            {/* <AuthTextBox FontSize=\"40px\" FontColor=\"#fff\" FontWeight=\"normal\" TextAlign=\"left\" >《</AuthTextBox>\r\n                            <AuthTextBox FontSize=\"40px\" FontColor=\"#fff\" FontWeight=\"normal\" TextAlign=\"right\" >》</AuthTextBox>\r\n                            <AuthTextBox FontSize=\"40px\" FontColor=\"#fff\" FontWeight=\"normal\" TextAlign=\"left\" MarginTop=\"-1vh\">힘찬 도약의</AuthTextBox>\r\n                            <AuthTextBox FontSize=\"40px\" FontColor=\"#fff\" FontWeight=\"normal\" TextAlign=\"left\" MarginTop=\"-1vh\">첫 발걸음</AuthTextBox> */}\r\n                        </Desktop>\r\n                        <Tablet>\r\n                            {/* <AuthTextBox FontSize=\"40px\" FontColor=\"#fff\" FontWeight=\"normal\" TextAlign=\"left\">WebGL을 향한</AuthTextBox>\r\n                            <AuthTextBox FontSize=\"40px\" FontColor=\"#fff\" FontWeight=\"normal\" TextAlign=\"left\" MarginTop=\"-1vh\">힘찬 도약의</AuthTextBox>\r\n                            <AuthTextBox FontSize=\"40px\" FontColor=\"#fff\" FontWeight=\"normal\" TextAlign=\"left\" MarginTop=\"-1vh\">첫 발걸음</AuthTextBox> */}\r\n                        </Tablet>\r\n                        <Mobile>\r\n                            {/* <TextBox FontSize=\"30px\" FontColor=\"#fff\" FontWeight=\"normal\" TextAlign=\"left\">WebGL을 향한</TextBox>\r\n                            <TextBox FontSize=\"30px\" FontColor=\"#fff\" FontWeight=\"normal\" TextAlign=\"left\" MarginTop=\"-1vh\">힘찬 도약의</TextBox>\r\n                            <TextBox FontSize=\"30px\" FontColor=\"#fff\" FontWeight=\"normal\" TextAlign=\"left\" MarginTop=\"-1vh\">첫 발걸음</TextBox> */}\r\n                        </Mobile>\r\n                        <MobileIphone>\r\n                            {/* <TextBox FontSize=\"30px\" FontColor=\"#fff\" FontWeight=\"normal\" TextAlign=\"left\">WebGL을 향한</TextBox>\r\n                            <TextBox FontSize=\"30px\" FontColor=\"#fff\" FontWeight=\"normal\" TextAlign=\"left\" MarginTop=\"-1vh\">힘찬 도약의</TextBox>\r\n                            <TextBox FontSize=\"30px\" FontColor=\"#fff\" FontWeight=\"normal\" TextAlign=\"left\" MarginTop=\"-1vh\">첫 발걸음</TextBox> */}\r\n                        </MobileIphone>\r\n                    </Block>\r\n                </Block>\r\n                <Block ContainerHeight={Utils_ui.PercentToPx(props.nVh,15)}/>\r\n                <Block ContainerHeight={Utils_ui.PercentToPx(props.nVh,20)}  Display=\"flex\" >\r\n                    <Block ContainerWidth=\"5%\" ContainerHeight=\"100%\" />\r\n                    {/* <BottomBlock ContainerWidth=\"95%\" ContainerHeight=\"100%\">\r\n                        <Desktop>\r\n                            <OkBtn type=\"button\" onClick={() => {\r\n                                // Communicator.sendEvent(CommunicatorEvent.START_CONTENT, { name: inputData });\r\n                                onNextPageMove();\r\n                            }}>둘러보기</OkBtn>\r\n                        </Desktop>\r\n                        <Tablet>\r\n                            <OkBtn type=\"button\" onClick={() => {\r\n                                Communicator.sendEvent(CommunicatorEvent.START_CONTENT, { name: inputData });\r\n                                onNextPageMove();\r\n                            }}>둘러보기</OkBtn>\r\n                        </Tablet>\r\n                        <Mobile>\r\n                            <OkBtnPhone type=\"button\" onClick={() => {\r\n                                Communicator.sendEvent(CommunicatorEvent.START_CONTENT, { name: inputData });\r\n                                onNextPageMove();\r\n                            }}>둘러보기</OkBtnPhone>\r\n                        </Mobile>\r\n                        <MobileIphone>\r\n                            <OkBtnPhone type=\"button\" onClick={() => {\r\n                                Communicator.sendEvent(CommunicatorEvent.START_CONTENT, { name: inputData });\r\n                                onNextPageMove();\r\n                            }}>둘러보기</OkBtnPhone>\r\n                        </MobileIphone>\r\n                        \r\n                    </BottomBlock> */}\r\n                </Block>\r\n        </ContainerBox>\r\n    );\r\n}\r\n\r\nexport default PageAuth;","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Utils_ui from \"../common/Utils_ui\";\r\nimport {Desktop, Mobile, MobileIphone, Tablet} from \"../common/MediaQuery\";\r\nimport {ContainerBox, Block, TextBox} from \"../common/StyleMasterComp\";\r\n\r\nlet Progress = styled.div`\r\n    position: absolute;\r\n    bottom: 0px;\r\n    background-color: white;\r\n    width: ${props => props.percent}%;\r\n    transition: width 400ms ease-in-out;\r\n    height: 8px;\r\n`;\r\n\r\nfunction LoadingProgressBar(props) {\r\n    return (\r\n        <ContainerBox>\r\n\r\n            <Block\r\n                ContainerWidth=\"100%\"\r\n                ContainerHeight={Utils_ui.PercentToPx(props.compHeight, 60)}>\r\n                <Desktop>\r\n                    <TextBox FontSize=\"30px\" FontColor=\"#fff\" FontWeight=\"200\" TextAlign=\"center\" MarginTop=\"50px\">\r\n                        {props.percent}%\r\n                    </TextBox>\r\n                </Desktop>\r\n                <Tablet>\r\n                    <TextBox FontSize=\"25px\" FontColor=\"#fff\" FontWeight=\"200\" TextAlign=\"center\">\r\n                        {props.percent}%\r\n                    </TextBox>\r\n                </Tablet>\r\n                <Mobile>\r\n                    <TextBox FontSize=\"20px\" FontColor=\"#fff\" FontWeight=\"200\" TextAlign=\"center\">\r\n                        {props.percent}%\r\n                    </TextBox>\r\n                </Mobile>\r\n                <MobileIphone>\r\n                    <TextBox FontSize=\"20px\" FontColor=\"#fff\" FontWeight=\"200\" TextAlign=\"center\">\r\n                        {props.percent}%\r\n                    </TextBox>\r\n                </MobileIphone>\r\n                <Progress percent={props.percent}/>\r\n            </Block>\r\n            <Block\r\n                ContainerWidth=\"100%\"\r\n                ContainerHeight={Utils_ui.PercentToPx(props.compHeight, 40)}></Block>\r\n        </ContainerBox>\r\n    );\r\n};\r\n\r\nexport default LoadingProgressBar;","export default __webpack_public_path__ + \"static/media/UNIT_logo.17b4286d.png\";","import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport Communicator from \"../../common/Communicator\";\r\nimport CommunicatorEvent from \"../../common/event/CommunicatorEvent\";\r\nimport Constants_ui from \"../common/Constants_ui\";\r\nimport { Desktop, Mobile, MobileIphone, Tablet } from \"../common/MediaQuery\";\r\nimport { Block, ContainerBox, TextBox } from \"../common/StyleMasterComp\";\r\nimport Utils_ui from \"../common/Utils_ui\";\r\n\r\nimport LoadingProgressBar from \"../components/LoadingProgressBar\";\r\n\r\n// import ImgLogo from \"../images/loading_img_logo.png\";\r\nimport ImgBG from \"../images/UNIT_logo.png\";\r\n\r\n// let BgBox = styled.div`\r\n//     width:100vw;\r\n//     height:${props => props.Height};\r\n//     background: linear-gradient(#000000 0%, #00245C 53.12%, #005BAD 100%);\r\n//     position: absolute;\r\n//     pointer-events:all;\r\n// `;\r\nlet BgBox = styled.div`\r\n  width: 100vw;\r\n  height: ${(props) => props.Height};\r\n  background-image: url(${(props) => props.URL2});\r\n  background-size: cover;\r\n  position: absolute;\r\n  pointer-events: all;\r\n`;\r\n\r\nlet LogoImg = styled.div`\r\n  position: absolute;\r\n  background-image: url(${(props) => props.URL});\r\n  left: calc(50% - ((${(props) => props.Width} / 2)));\r\n  bottom: 3vh;\r\n  width: ${(props) => props.Width};\r\n  height: 113px;\r\n`;\r\n\r\nfunction PageLoading(props) {\r\n  //console.log(\"로딩페이지\", props);\r\n  let [NumPercent, setNumPercent] = useState(0);\r\n\r\n  let [isLoadReady, setIsLoadReady] = useState(false);\r\n  let [isTimeReady, setIsTimeReady] = useState(false);\r\n\r\n  let onChangeLoadCount = (_nVars) => {\r\n    let nVars = parseInt(_nVars);\r\n\r\n    nVars > 100 ? (nVars = 100) : (nVars = parseInt(_nVars));\r\n    setNumPercent(nVars);\r\n  };\r\n\r\n  let onWorldLoadComp = () => {\r\n    // console.log(\"onWorldLoadComp\");\r\n    setIsLoadReady(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    let pageMoveTimer = setTimeout(() => {\r\n      // console.log(\"setTimeout\");\r\n      setIsTimeReady(true);\r\n    }, Constants_ui.FIRSTLOADING_TIME);\r\n    return () => {\r\n      clearTimeout(pageMoveTimer);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    Communicator.reciveEvent(\r\n      CommunicatorEvent.WORLD_LOADING,\r\n      onChangeLoadCount\r\n    );\r\n    Communicator.reciveEvent(\r\n      CommunicatorEvent.WORLD_LOAD_COMPLETE,\r\n      onWorldLoadComp\r\n    );\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isLoadReady && isTimeReady)\r\n      props.setSelectPageName(Constants_ui.PAGE_AUTH);\r\n  }, [isLoadReady, isTimeReady, props]);\r\n\r\n  return (\r\n    <ContainerBox>\r\n      <BgBox\r\n        URL2={ImgBG}\r\n        Height={Utils_ui.PercentToPx(props.nVh, 100)}\r\n      />\r\n      <Block\r\n        ContainerWidth=\"100vw\"\r\n        ContainerHeight={Utils_ui.PercentToPx(props.nVh, 22)}\r\n      />\r\n      <Block ContainerHeight={Utils_ui.PercentToPx(props.nVh, 22)}>\r\n        {/* <LogoImg URL={ImgLogo} Width=\"115px\" /> */}\r\n      </Block>\r\n      <Block ContainerHeight={Utils_ui.PercentToPx(props.nVh, 20)}>\r\n        <LoadingProgressBar\r\n          compHeight={Utils_ui.PercentToPx(props.nVh, 12, false)}\r\n          percent={NumPercent}\r\n        ></LoadingProgressBar>\r\n      </Block>\r\n      <Block ContainerHeight={Utils_ui.PercentToPx(props.nVh, 22)}>\r\n        <Desktop>\r\n          <TextBox\r\n            FontSize=\"50px\"\r\n            FontColor=\"#fff\"\r\n            FontWeight=\"400\"\r\n            MarginTop=\"-10px\"\r\n            MarginBottom=\"20px\"\r\n            TextAlign=\"center\"\r\n          >\r\n            WebGL Portfolio\r\n          </TextBox>\r\n        </Desktop>\r\n        <Tablet>\r\n          <TextBox\r\n            FontSize=\"45px\"\r\n            FontColor=\"#fff\"\r\n            FontWeight=\"400\"\r\n            MarginTop=\"-5px\"\r\n            MarginBottom=\"20px\"\r\n            TextAlign=\"center\"\r\n          >\r\n            WebGL Portfolio\r\n          </TextBox>\r\n        </Tablet>\r\n        <Mobile>\r\n          <TextBox\r\n            FontSize=\"30px\"\r\n            FontColor=\"#fff\"\r\n            FontWeight=\"400\"\r\n            MarginTop=\"0px\"\r\n            MarginBottom=\"20px\"\r\n            TextAlign=\"center\"\r\n          >\r\n            WebGL Portfolio\r\n          </TextBox>\r\n        </Mobile>\r\n        <MobileIphone>\r\n          <TextBox\r\n            FontSize=\"30px\"\r\n            FontColor=\"#fff\"\r\n            FontWeight=\"400\"\r\n            MarginTop=\"0px\"\r\n            MarginBottom=\"20px\"\r\n            TextAlign=\"center\"\r\n          >\r\n            WebGL Portfolio\r\n          </TextBox>\r\n        </MobileIphone>\r\n        {/* <TextBox FontSize=\"12px\" FontColor=\"#fff\" FontWeight=\"400\" MarginTop=\"0px\" TextAlign=\"center\"> \r\n                isTimeReady : {String(isTimeReady)}, isLoadReady: {String(isLoadReady)}</TextBox> */}\r\n      </Block>\r\n      <Block ContainerHeight={Utils_ui.PercentToPx(props.nVh, 22)} />\r\n    </ContainerBox>\r\n  );\r\n}\r\n\r\nexport default PageLoading;\r\n","import React, { useCallback, useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\n\r\n// import useGaTracker from './common/useGaTracker';\r\n\r\nimport ReactGA from 'react-ga';\r\n\r\nimport DataManager from '../common/data/DataManager';\r\nimport Utils_ui from './common/Utils_ui';\r\nimport Constants_ui from './common/Constants_ui';\r\n\r\nimport PageAuth from './page/PageAuth';\r\n// import PageMain from './page/PageMain';\r\nimport PageLoading from './page/PageLoading';\r\n\r\nlet ContainerBox = styled.div`\r\n    margin:0; padding:0;\r\n    width: 100vw; \r\n    height: ${props => ((props.ContainerHeight))};\r\n    pointer-events:none;\r\n    position: fixed;\r\n`;\r\n\r\nlet m_arrData = [];\r\n\r\nfunction App() {\r\n    const [strSelectPageName, setSelectPageName] = useState(Constants_ui.PAGE_START);\r\n    let [nVh, setnVh] = useState(1);\r\n\r\n    // useGaTracker();\r\n\r\n    useEffect(()=>{\r\n        m_arrData = DataManager.GetCompanyDatas();\r\n        let tempData = [...m_arrData];\r\n        // tempData = Utils_ui.SortJSON(tempData, \"name\", \"desc\");\r\n        tempData = Utils_ui.SortJSON(tempData, \"id\", \"asc\");\r\n        m_arrData = [...tempData];\r\n        // console.log(tempData)\r\n\r\n        ReactGA.initialize(\"UA-172306669-2\");\r\n    },[]);\r\n\r\n    const setScreenSize = useCallback(() => {\r\n        let tempVh = window.innerHeight;\r\n        if(tempVh === nVh) return;\r\n        setnVh(tempVh);\r\n    }, [nVh])\r\n\r\n    window.addEventListener('resize',  () => {\r\n        setScreenSize();\r\n    });\r\n\r\n    useEffect(()=>{\r\n        setScreenSize();\r\n    },[setScreenSize]);\r\n\r\n    return (\r\n        <ContainerBox ContainerHeight={Utils_ui.PercentToPx(nVh,100)}>\r\n            <SelectSubPage\r\n                strPageName={strSelectPageName}\r\n                funcSetSelectPageName={setSelectPageName}\r\n                nVh={nVh}\r\n            />\r\n        </ContainerBox>\r\n    );\r\n}\r\n\r\nfunction SelectSubPage(props) {\r\n    if (props.strPageName === Constants_ui.PAGE_LOADING){\r\n        return <PageLoading setSelectPageName={props.funcSetSelectPageName} nVh={props.nVh}/>;\r\n    } \r\n    else if (props.strPageName === Constants_ui.PAGE_AUTH) {\r\n        return <PageAuth setSelectPageName={props.funcSetSelectPageName} nVh={props.nVh}/>;\r\n    } \r\n    // else if (props.strPageName === Constants_ui.PAGE_MAIN) {\r\n    //     // return <PageMain setSelectPageName={props.funcSetSelectPageName} arrCompanyData={m_arrData}  nVh={props.nVh}/>;\r\n    // }\r\n}\r\n\r\nexport default App;","export default class EventDispatcher\r\n{\r\n\t//constructor(){};\r\n}\r\n\r\nObject.assign( EventDispatcher.prototype, {\r\n\r\n\taddEventListener: function ( type, listener ) {\r\n\t\tif ( this._listeners === undefined ) this._listeners = {};\r\n\t\tvar listeners = this._listeners;\r\n\r\n\t\tif ( listeners[ type ] === undefined ) {\r\n\t\t\tlisteners[ type ] = [];\r\n\t\t}\r\n\r\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\r\n\t\t\tlisteners[ type ].push( listener );\r\n\t\t}\r\n\t},\r\n\r\n\thasEventListener: function ( type, listener ) {\r\n\t\tif ( this._listeners === undefined ) return false;\r\n\r\n\t\tvar listeners = this._listeners;\r\n\r\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\r\n\t},\r\n\r\n\tremoveEventListener: function ( type, listener ) {\r\n\r\n\t\tif ( this._listeners === undefined ) return;\r\n\r\n\t\tvar listeners = this._listeners;\r\n\t\tvar listenerArray = listeners[ type ];\r\n\r\n\t\tif ( listenerArray !== undefined ) {\r\n\r\n\t\t\tvar index = listenerArray.indexOf( listener );\r\n\r\n\t\t\tif ( index !== - 1 ) {\r\n\t\t\t\tlistenerArray.splice( index, 1 );\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tdispatchEvent: function ( event ) {\r\n\r\n\t\tif ( this._listeners === undefined ) return;\r\n\r\n\t\tvar listeners = this._listeners;\r\n\t\tvar listenerArray = listeners[ event.type ];\r\n\r\n\t\tif ( listenerArray !== undefined ) {\r\n\r\n\t\t\tevent.target = this;\r\n\t\t\tvar array = listenerArray.slice( 0 );\r\n\r\n\t\t\tfor ( var i = 0, l = array.length; i < l; i ++ ) {\r\n\t\t\t\tarray[ i ].call( this, event );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n} );\r\n\r\n","import * as BABYLON from \"babylonjs\";\r\nimport * as GUI from \"babylonjs-gui\";\r\nimport gsap from \"gsap\";\r\nimport Communicator from \"../common/Communicator\";\r\nimport Constants from \"../common/Constants\";\r\nimport CommunicatorEvent from \"../common/event/CommunicatorEvent\";\r\nimport CameraManager from \"./CameraManager\";\r\nimport BasicWorld from \"./BasicWorld\";\r\nimport AnimationManager from \"./AnimationManager\";\r\n\r\nexport default class ContentsManager {\r\n  static item1;\r\n  static item2;\r\n  static item3;\r\n  static item4;\r\n\r\n  static particle1;\r\n  static particle2;\r\n  static particle3;\r\n  static particle4;\r\n\r\n  static particleCountArr = [];\r\n  static UItarget = null;\r\n  static detailGUI = null;\r\n  static detailGUIText = null;\r\n  /**\r\n   *===============================================================================\r\n   * constructor()      :\r\n   * @param _objInit   : 싱글톤 생성 확인용 객체\r\n   *===============================================================================*/\r\n  constructor(_objInit) {\r\n    //super();\r\n\r\n    if (_objInit !== ContentsManager.m_objInit) {\r\n      throw new Error(\"ContentsManager 생성은 다음과 같이 해주세요 - ContentsManager.GetInstance()\");\r\n      // return;\r\n    }\r\n  }\r\n\r\n  /**\r\n   *===============================================================================\r\n   * dispose()               :\r\n   *===============================================================================*/\r\n  static dispose() {\r\n    gsap.killTweensOf(ContentsManager.meshLookAt);\r\n    gsap.killTweensOf(ContentsManager.camera);\r\n\r\n    ContentsManager.m_iSwingCountFrame = 0;\r\n\r\n    ContentsManager.meshTarget = null;\r\n    ContentsManager.camera.dispose();\r\n    ContentsManager.m_ContentsManager = null;\r\n    ContentsManager.m_objInit = null;\r\n  }\r\n\r\n  /**\r\n   *===============================================================================\r\n   * GetInstance()      :\r\n   * @return            : 인스턴스 리턴\r\n   *===============================================================================*/\r\n  static GetInstance() {\r\n    if (ContentsManager.m_ContentsManager == null) {\r\n      ContentsManager.m_ContentsManager = new ContentsManager(ContentsManager.m_objInit);\r\n      ContentsManager.m_objInit = {};\r\n    }\r\n    return ContentsManager.m_ContentsManager;\r\n  }\r\n\r\n  static async ContentsPopUp() {\r\n    let scene = Constants.SCENE;\r\n    let engine = Constants.ENGINE;\r\n\r\n    ContentsManager.item1.position = new BABYLON.Vector3(-10, 1, 1);\r\n    ContentsManager.item2.position = new BABYLON.Vector3(-2.9, 1, 0);\r\n    ContentsManager.item3.position = new BABYLON.Vector3(3, 1, 1);\r\n    ContentsManager.item4.position = new BABYLON.Vector3(9, 1, 0);\r\n\r\n    const frameRate = 2000;\r\n    const ySlide = new BABYLON.Animation(\"YSlide\", \"position.y\", frameRate, BABYLON.Animation.ANIMATIONTYPE_FLOAT, BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE);\r\n    const keyFrames = [];\r\n\r\n    keyFrames.push({\r\n      frame: 0,\r\n      value: 1.1,\r\n    });\r\n    keyFrames.push({\r\n      frame: frameRate,\r\n      value: 1,\r\n    });\r\n    keyFrames.push({\r\n      frame: 2 * frameRate,\r\n      value: 1.1,\r\n    });\r\n\r\n    ySlide.setKeys(keyFrames);\r\n\r\n    const ySlide2 = new BABYLON.Animation(\"YSlide2\", \"position.y\", frameRate, BABYLON.Animation.ANIMATIONTYPE_FLOAT, BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE);\r\n    const keyFrames2 = [];\r\n\r\n    keyFrames2.push({\r\n      frame: 0,\r\n      value: 1,\r\n    });\r\n    keyFrames2.push({\r\n      frame: frameRate,\r\n      value: 1.1,\r\n    });\r\n    keyFrames2.push({\r\n      frame: 2 * frameRate,\r\n      value: 1,\r\n    });\r\n\r\n    ySlide2.setKeys(keyFrames2);\r\n\r\n    scene.beginDirectAnimation(ContentsManager.item1, [ySlide], 0, 2 * frameRate, true);\r\n    scene.beginDirectAnimation(ContentsManager.item2, [ySlide2], 0, 2 * frameRate, true);\r\n    scene.beginDirectAnimation(ContentsManager.item3, [ySlide], 0, 2 * frameRate, true);\r\n    scene.beginDirectAnimation(ContentsManager.item4, [ySlide2], 0, 2 * frameRate, true);\r\n\r\n    ContentsManager.item2.rotation = new BABYLON.Vector3(0, BABYLON.Tools.ToRadians(315), 0);\r\n    ContentsManager.item3.rotation = new BABYLON.Vector3(0, Math.PI * 1.5, 0);\r\n    ContentsManager.item4.rotation = new BABYLON.Vector3(0, Math.PI * 0.58, 0);\r\n\r\n    BABYLON.ParticleHelper.CreateFromSnippetAsync(\"2JRD1A#2\", scene, false).then((system) => {\r\n      ContentsManager.particleCountArr.push(system);\r\n      ContentsManager.particle1 = system;\r\n      system.isBillboardBased = false;\r\n      system.emitter = new BABYLON.Vector3(-9, 0.3, 1);\r\n      system.preWarmCycles = 100;\r\n      system.preWarmStepOffset = 5;\r\n      system.updateSpeed = 0.01;\r\n      system.removeColorGradient(0.46);\r\n      system.removeColorGradient(0.53);\r\n      system.addColorGradient(0.46, new BABYLON.Color4.FromHexString(\"#FFCA38FF\"), new BABYLON.Color4.FromHexString(\"#FF8600FF\"));\r\n      system.addColorGradient(0.53, new BABYLON.Color4.FromHexString(\"#FF3D27FF\"), new BABYLON.Color4.FromHexString(\"#FF0000FF\"));\r\n    });\r\n\r\n    BABYLON.ParticleHelper.CreateFromSnippetAsync(\"2JRD1A#2\", scene, false).then((system) => {\r\n      ContentsManager.particleCountArr.push(system);\r\n\r\n      ContentsManager.particle2 = system;\r\n      system.isBillboardBased = false;\r\n      system.emitter = new BABYLON.Vector3(-3, 0.3, 0);\r\n      system.preWarmCycles = 100;\r\n      system.preWarmStepOffset = 5;\r\n      system.updateSpeed = 0.01;\r\n      system.removeColorGradient(0.46);\r\n      system.removeColorGradient(0.53);\r\n      system.addColorGradient(0.46, new BABYLON.Color4.FromHexString(\"#D04CFFFF\"), new BABYLON.Color4.FromHexString(\"#FF16E0FF\"));\r\n      system.addColorGradient(0.53, new BABYLON.Color4.FromHexString(\"#A886FAFF\"), new BABYLON.Color4.FromHexString(\"#1610FFFF\"));\r\n    });\r\n\r\n    BABYLON.ParticleHelper.CreateFromSnippetAsync(\"2JRD1A#2\", scene, false).then((system) => {\r\n      ContentsManager.particleCountArr.push(system);\r\n\r\n      ContentsManager.particle3 = system;\r\n      system.isBillboardBased = false;\r\n      system.emitter = new BABYLON.Vector3(3, 0.3, 1);\r\n      system.preWarmCycles = 100;\r\n      system.preWarmStepOffset = 5;\r\n      system.updateSpeed = 0.01;\r\n    });\r\n\r\n    BABYLON.ParticleHelper.CreateFromSnippetAsync(\"2JRD1A#2\", scene, false).then((system) => {\r\n      ContentsManager.particle4 = system;\r\n      system.isBillboardBased = false;\r\n      system.emitter = new BABYLON.Vector3(9, 0.3, 0);\r\n      system.preWarmCycles = 100;\r\n      system.preWarmStepOffset = 5;\r\n      system.updateSpeed = 0.01;\r\n      system.removeColorGradient(0.46);\r\n      system.removeColorGradient(0.53);\r\n      system.addColorGradient(0.46, new BABYLON.Color4.FromHexString(\"#A4FF3FFF\"), new BABYLON.Color4.FromHexString(\"#27FF49FF\"));\r\n      system.addColorGradient(0.53, new BABYLON.Color4.FromHexString(\"#CAFA77FF\"), new BABYLON.Color4.FromHexString(\"#E4FC67FF\"));\r\n    });\r\n\r\n    setTimeout(() => {\r\n      ContentsManager.item1.setEnabled(true);\r\n      ContentsManager.item2.setEnabled(true);\r\n      ContentsManager.item3.setEnabled(true);\r\n      ContentsManager.item4.setEnabled(true);\r\n    }, 300);\r\n\r\n    var particleSystem = new BABYLON.ParticleSystem(\"particles\", 1);\r\n\r\n    particleSystem.particleTexture = new BABYLON.Texture(\"https://i.imgur.com/CNc4JIL.png\");\r\n\r\n    particleSystem.emitter = new BABYLON.Vector3(-9, 0, 0);\r\n    particleSystem.start();\r\n\r\n    particleSystem.addSizeGradient(0, 1, 2); //size range at start of particle lifetime\r\n    particleSystem.addSizeGradient(1.0, 3, 5); //size range at end of particle lifetime\r\n    particleSystem.color1 = new BABYLON.Color4(0.15, 0.15, 0.15, 0.2);\r\n    particleSystem.color2 = new BABYLON.Color4(0.15, 0.15, 0.15, 0.2);\r\n    particleSystem.colorDead = new BABYLON.Color4(0, 0, 0, 0);\r\n    particleSystem.updateSpeed = 0.02;\r\n    particleSystem.minEmitBox = new BABYLON.Vector3.Zero();\r\n    particleSystem.maxEmitBox = new BABYLON.Vector3.Zero();\r\n    particleSystem.minScaleX = 0.5;\r\n    particleSystem.minScaleX = 2;\r\n    particleSystem.targetStopDuration = 0.5;\r\n    particleSystem.disposeOnStop = true;\r\n    particleSystem.blendMode = BABYLON.ParticleSystem.BLENDMODE_ONEONE;\r\n\r\n    var particleSystem2 = new BABYLON.ParticleSystem(\"particles2\", 1);\r\n    particleSystem2.particleTexture = new BABYLON.Texture(\"https://i.imgur.com/CNc4JIL.png\");\r\n\r\n    particleSystem2.emitter = new BABYLON.Vector3(-3, 0, 0);\r\n    particleSystem2.start();\r\n\r\n    particleSystem2.addSizeGradient(0, 1, 2); //size range at start of particle lifetime\r\n    particleSystem2.addSizeGradient(1.0, 3, 5); //size range at end of particle lifetime\r\n    particleSystem2.color1 = new BABYLON.Color4(0.15, 0.15, 0.15, 0.2);\r\n    particleSystem2.color2 = new BABYLON.Color4(0.15, 0.15, 0.15, 0.2);\r\n    particleSystem2.colorDead = new BABYLON.Color4(0, 0, 0, 0);\r\n    particleSystem2.updateSpeed = 0.02;\r\n    particleSystem2.minEmitBox = new BABYLON.Vector3.Zero();\r\n    particleSystem2.maxEmitBox = new BABYLON.Vector3.Zero();\r\n    particleSystem2.minScaleX = 0.5;\r\n    particleSystem2.minScaleX = 2;\r\n\r\n    particleSystem2.targetStopDuration = 0.5;\r\n    particleSystem2.disposeOnStop = true;\r\n    particleSystem2.blendMode = BABYLON.ParticleSystem.BLENDMODE_ONEONE;\r\n\r\n    var particleSystem3 = new BABYLON.ParticleSystem(\"particles3\", 1);\r\n    particleSystem3.particleTexture = new BABYLON.Texture(\"https://i.imgur.com/CNc4JIL.png\");\r\n\r\n    particleSystem3.emitter = new BABYLON.Vector3(3, 0, 0);\r\n    particleSystem3.start();\r\n\r\n    particleSystem3.addSizeGradient(0, 1, 2); //size range at start of particle lifetime\r\n    particleSystem3.addSizeGradient(1.0, 3, 5); //size range at end of particle lifetime\r\n    particleSystem3.color1 = new BABYLON.Color4(0.15, 0.15, 0.15, 0.2);\r\n    particleSystem3.color2 = new BABYLON.Color4(0.15, 0.15, 0.15, 0.2);\r\n    particleSystem3.colorDead = new BABYLON.Color4(0, 0, 0, 0);\r\n    particleSystem3.updateSpeed = 0.02;\r\n    particleSystem3.minEmitBox = new BABYLON.Vector3.Zero();\r\n    particleSystem3.maxEmitBox = new BABYLON.Vector3.Zero();\r\n    particleSystem3.minScaleX = 0.5;\r\n    particleSystem3.minScaleX = 2;\r\n    particleSystem3.targetStopDuration = 0.5;\r\n    particleSystem3.disposeOnStop = true;\r\n    particleSystem3.blendMode = BABYLON.ParticleSystem.BLENDMODE_ONEONE;\r\n\r\n    var particleSystem4 = new BABYLON.ParticleSystem(\"particles4\", 1);\r\n    particleSystem4.particleTexture = new BABYLON.Texture(\"https://i.imgur.com/CNc4JIL.png\");\r\n\r\n    particleSystem4.emitter = new BABYLON.Vector3(9, 0, 0);\r\n    particleSystem4.start();\r\n\r\n    particleSystem4.addSizeGradient(0, 1, 2); //size range at start of particle lifetime\r\n    particleSystem4.addSizeGradient(1.0, 3, 5); //size range at end of particle lifetime\r\n    particleSystem4.color1 = new BABYLON.Color4(0.15, 0.15, 0.15, 0.2);\r\n    particleSystem4.color2 = new BABYLON.Color4(0.15, 0.15, 0.15, 0.2);\r\n    particleSystem4.colorDead = new BABYLON.Color4(0, 0, 0, 0);\r\n    particleSystem4.updateSpeed = 0.02;\r\n    particleSystem4.minEmitBox = new BABYLON.Vector3.Zero();\r\n    particleSystem4.maxEmitBox = new BABYLON.Vector3.Zero();\r\n    particleSystem4.minScaleX = 0.5;\r\n    particleSystem4.minScaleX = 2;\r\n\r\n    particleSystem4.targetStopDuration = 0.5;\r\n    particleSystem4.disposeOnStop = true;\r\n    particleSystem4.blendMode = BABYLON.ParticleSystem.BLENDMODE_ONEONE;\r\n\r\n    // 상세보기 GUI\r\n\r\n    let frame = scene.getNodeByName(\"SM_frame_phong1_0\");\r\n    ContentsManager.UItarget = new BABYLON.MeshBuilder.CreatePlane(\"UITarget\", { size: 0.3 }, scene);\r\n    ContentsManager.UItarget.material = new BABYLON.StandardMaterial(\"UITarget_Mat\", scene);\r\n    ContentsManager.UItarget.material.diffuseTexture = new BABYLON.Texture(\"images/click.png\", scene);\r\n    ContentsManager.UItarget.material.diffuseTexture.hasAlpha = true;\r\n    ContentsManager.UItarget.material.alpha = 0;\r\n\r\n    var advancedTexture = GUI.AdvancedDynamicTexture.CreateFullscreenUI(\"UI\");\r\n    advancedTexture.useInvalidateRectOptimization = false;\r\n\r\n    ContentsManager.detailGUI = new GUI.Rectangle();\r\n    advancedTexture.addControl(ContentsManager.detailGUI);\r\n    ContentsManager.detailGUI.width = \"300px\";\r\n    ContentsManager.detailGUI.height = \"200px\";\r\n    ContentsManager.detailGUI.thickness = 2;\r\n    ContentsManager.detailGUI.linkOffsetX = \"150px\";\r\n    ContentsManager.detailGUI.linkOffsetY = \"-100px\";\r\n    ContentsManager.detailGUI.transformCenterX = 0;\r\n    ContentsManager.detailGUI.transformCenterY = 1;\r\n    ContentsManager.detailGUI.background = \"grey\";\r\n    ContentsManager.detailGUI.alpha = 0.7;\r\n    ContentsManager.detailGUI.scaleX = 0;\r\n    ContentsManager.detailGUI.scaleY = 0;\r\n    ContentsManager.detailGUI.cornerRadius = 30;\r\n    ContentsManager.detailGUI.paddingLeft = \"3%\";\r\n    ContentsManager.detailGUI.linkWithMesh(ContentsManager.UItarget);\r\n\r\n    ContentsManager.detailGUIText = new GUI.TextBlock();\r\n    ContentsManager.detailGUIText.text = \"\";\r\n    ContentsManager.detailGUIText.color = \"White\";\r\n    ContentsManager.detailGUIText.fontSize = 14;\r\n    ContentsManager.detailGUIText.textWrapping = true;\r\n    ContentsManager.detailGUIText.textVerticalAlignment = GUI.Control.VERTICAL_ALIGNMENT_TOP;\r\n    ContentsManager.detailGUIText.background = \"#006994\";\r\n    ContentsManager.detailGUI.addControl(ContentsManager.detailGUIText);\r\n    ContentsManager.detailGUIText.alpha = 1 / ContentsManager.detailGUIText.parent.alpha;\r\n    ContentsManager.detailGUIText.paddingTop = \"20px\";\r\n    ContentsManager.detailGUIText.paddingBottom = \"20px\";\r\n    ContentsManager.detailGUIText.paddingLeft = \"20px\";\r\n    ContentsManager.detailGUIText.paddingRight = \"20px\";\r\n\r\n    let itemActionManager = new BABYLON.ActionManager(scene);\r\n    ContentsManager.UItarget.actionManager = itemActionManager;\r\n\r\n    let scaleXAnimation = new BABYLON.Animation(\"myAnimation\", \"scaleX\", 30, BABYLON.Animation.ANIMATIONTYPE_FLOAT, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);\r\n    let scaleYAnimation = new BABYLON.Animation(\"myAnimation\", \"scaleY\", 30, BABYLON.Animation.ANIMATIONTYPE_FLOAT, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);\r\n\r\n    var keys = [];\r\n\r\n    keys.push({\r\n      frame: 0,\r\n      value: 0,\r\n    });\r\n    keys.push({\r\n      frame: 10,\r\n      value: 1,\r\n    });\r\n\r\n    scaleXAnimation.setKeys(keys);\r\n    scaleYAnimation.setKeys(keys);\r\n    ContentsManager.detailGUI.animations = [];\r\n    ContentsManager.detailGUI.animations.push(scaleXAnimation);\r\n    ContentsManager.detailGUI.animations.push(scaleYAnimation);\r\n\r\n    itemActionManager.registerAction(\r\n      new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPointerOverTrigger, function (ev) {\r\n        if (Constants.isDetailView) {\r\n          scene.beginAnimation(ContentsManager.detailGUI, 0, 10, false);\r\n        }\r\n      })\r\n    );\r\n    //if hover is over remove highlight of the mesh\r\n    itemActionManager.registerAction(\r\n      new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPointerOutTrigger, function (ev) {\r\n        if (Constants.isDetailView) {\r\n          scene.beginAnimation(ContentsManager.detailGUI, 10, 0, false);\r\n        }\r\n      })\r\n    );\r\n  }\r\n}\r\n","import * as BABYLON from \"babylonjs\";\r\nimport gsap from \"gsap\";\r\nimport Communicator from \"../common/Communicator\";\r\nimport Constants from \"../common/Constants\";\r\nimport CommunicatorEvent from \"../common/event/CommunicatorEvent\";\r\nimport CameraManager from \"./CameraManager\";\r\nimport ContentsManager from \"./ContentsManager\";\r\n\r\nexport default class AnimationManager {\r\n  static pedestal;\r\n  static pedestal2;\r\n  static pedestal3;\r\n  static pedestal4;\r\n\r\n  /**\r\n   *===============================================================================\r\n   * constructor()      :\r\n   * @param _objInit   : 싱글톤 생성 확인용 객체\r\n   *===============================================================================*/\r\n  constructor(_objInit) {\r\n    //super();\r\n\r\n    if (_objInit !== AnimationManager.m_objInit) {\r\n      throw new Error(\"AnimationManager 생성은 다음과 같이 해주세요 - AnimationManager.GetInstance()\");\r\n      // return;\r\n    }\r\n  }\r\n\r\n  /**\r\n   *===============================================================================\r\n   * dispose()               :\r\n   *===============================================================================*/\r\n  static dispose() {\r\n    gsap.killTweensOf(AnimationManager.meshLookAt);\r\n    gsap.killTweensOf(AnimationManager.camera);\r\n\r\n    AnimationManager.m_iSwingCountFrame = 0;\r\n\r\n    AnimationManager.meshTarget = null;\r\n    AnimationManager.camera.dispose();\r\n    AnimationManager.m_AnimationManager = null;\r\n    AnimationManager.m_objInit = null;\r\n  }\r\n\r\n  /**\r\n   *===============================================================================\r\n   * GetInstance()      :\r\n   * @return            : 인스턴스 리턴\r\n   *===============================================================================*/\r\n  static GetInstance() {\r\n    if (AnimationManager.m_AnimationManager == null) {\r\n      AnimationManager.m_AnimationManager = new AnimationManager(AnimationManager.m_objInit);\r\n      AnimationManager.m_objInit = {};\r\n    }\r\n    return AnimationManager.m_AnimationManager;\r\n  }\r\n\r\n  static FlipCylinder() {\r\n    let scene = Constants.SCENE;\r\n\r\n    AnimationManager.pedestal = BABYLON.MeshBuilder.CreateCylinder(\"cylinder\", { diameter: 2, height: 0.1, diameter: 1.5 }, scene);\r\n    AnimationManager.pedestal2 = BABYLON.MeshBuilder.CreateCylinder(\"cylinder2\", { diameter: 2, height: 0.1, diameter: 1.5 }, scene);\r\n    AnimationManager.pedestal3 = BABYLON.MeshBuilder.CreateCylinder(\"cylinder3\", { diameter: 2, height: 0.1, diameter: 1.5 }, scene);\r\n    AnimationManager.pedestal4 = BABYLON.MeshBuilder.CreateCylinder(\"cylinder4\", { diameter: 2, height: 0.1, diameter: 1.5 }, scene);\r\n\r\n    AnimationManager.pedestal.material = new BABYLON.PBRMaterial(\"M_Cylinder\", scene);\r\n    AnimationManager.pedestal2.material = new BABYLON.PBRMaterial(\"M_Cylinder2\", scene);\r\n    AnimationManager.pedestal3.material = new BABYLON.PBRMaterial(\"M_Cylinder3\", scene);\r\n    AnimationManager.pedestal4.material = new BABYLON.PBRMaterial(\"M_Cylinder4\", scene);\r\n\r\n    AnimationManager.pedestal.material.roughness = 0.95;\r\n    AnimationManager.pedestal.material.transparencyMode = 1;\r\n    AnimationManager.pedestal2.material.roughness = 0.95;\r\n    AnimationManager.pedestal2.material.transparencyMode = 1;\r\n    AnimationManager.pedestal3.material.roughness = 0.95;\r\n    AnimationManager.pedestal3.material.transparencyMode = 1;\r\n    AnimationManager.pedestal4.material.roughness = 0.95;\r\n    AnimationManager.pedestal4.material.transparencyMode = 1;\r\n\r\n    AnimationManager.pedestal.material.albedoTexture = new BABYLON.Texture(\"images/grad1.png\", scene);\r\n    AnimationManager.pedestal2.material.albedoTexture = new BABYLON.Texture(\"images/grad2.png\", scene);\r\n    AnimationManager.pedestal3.material.albedoTexture = new BABYLON.Texture(\"images/grad3.png\", scene);\r\n    AnimationManager.pedestal4.material.albedoTexture = new BABYLON.Texture(\"images/grad4.png\", scene);\r\n\r\n    var frameRate = 15;\r\n\r\n    var ySlide = new BABYLON.Animation(\"ySlide\", \"position.y\", frameRate, BABYLON.Animation.ANIMATIONTYPE_FLOAT, BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE);\r\n\r\n    var xSlide = new BABYLON.Animation(\"xSlide\", \"position.x\", frameRate, BABYLON.Animation.ANIMATIONTYPE_FLOAT, BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE);\r\n    var xSlide2 = new BABYLON.Animation(\"xSlide2\", \"position.x\", frameRate, BABYLON.Animation.ANIMATIONTYPE_FLOAT, BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE);\r\n    var xSlide3 = new BABYLON.Animation(\"xSlide3\", \"position.x\", frameRate, BABYLON.Animation.ANIMATIONTYPE_FLOAT, BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE);\r\n    var xSlide4 = new BABYLON.Animation(\"xSlide4\", \"position.x\", frameRate, BABYLON.Animation.ANIMATIONTYPE_FLOAT, BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE);\r\n\r\n    var keyFramesPY = [];\r\n\r\n    var keyFramesPX = [];\r\n    var keyFramesPX2 = [];\r\n    var keyFramesPX3 = [];\r\n    var keyFramesPX4 = [];\r\n\r\n    // position y\r\n    keyFramesPY.push({ frame: 0, value: 0 });\r\n    keyFramesPY.push({ frame: frameRate * 0.3, value: 10 });\r\n    keyFramesPY.push({ frame: frameRate * 0.6, value: 17 });\r\n    keyFramesPY.push({ frame: frameRate * 0.9, value: 17 });\r\n    keyFramesPY.push({ frame: frameRate, value: 0 });\r\n\r\n    // position x 1\r\n    keyFramesPX.push({ frame: 0, value: 0 });\r\n    keyFramesPX.push({ frame: frameRate * 0.9, value: -3 });\r\n    keyFramesPX.push({ frame: frameRate, value: 2 });\r\n\r\n    // position x 2\r\n    keyFramesPX2.push({ frame: 0, value: 0 });\r\n    keyFramesPX2.push({ frame: frameRate * 0.9, value: -1 });\r\n    keyFramesPX2.push({ frame: frameRate, value: 2 });\r\n\r\n    // position x 3\r\n    keyFramesPX3.push({ frame: 0, value: 0 });\r\n    keyFramesPX3.push({ frame: frameRate * 0.9, value: 1 });\r\n    keyFramesPX3.push({ frame: frameRate, value: 2 });\r\n\r\n    // position x 3\r\n    keyFramesPX4.push({ frame: 0, value: 0 });\r\n    keyFramesPX4.push({ frame: frameRate * 0.9, value: 3 });\r\n    keyFramesPX4.push({ frame: frameRate, value: 2 });\r\n\r\n    ySlide.setKeys(keyFramesPY);\r\n\r\n    xSlide.setKeys(keyFramesPX);\r\n    xSlide2.setKeys(keyFramesPX2);\r\n    xSlide3.setKeys(keyFramesPX3);\r\n    xSlide4.setKeys(keyFramesPX4);\r\n\r\n    var yRot = new BABYLON.Animation(\"zRot\", \"rotation.z\", frameRate, BABYLON.Animation.ANIMATIONTYPE_FLOAT, BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE);\r\n\r\n    var keyFramesR = [];\r\n\r\n    keyFramesR.push({ frame: 0, value: 0 });\r\n    keyFramesR.push({ frame: frameRate * 0.5, value: 4 * Math.PI });\r\n    keyFramesR.push({ frame: frameRate, value: 8 * Math.PI });\r\n\r\n    yRot.setKeys(keyFramesR);\r\n\r\n    var animatable = scene.beginDirectAnimation(AnimationManager.pedestal, [ySlide, xSlide, yRot], 0, 2 * frameRate, false);\r\n    var animatable = scene.beginDirectAnimation(AnimationManager.pedestal2, [ySlide, xSlide2, yRot], 0, 2 * frameRate, false);\r\n    var animatable = scene.beginDirectAnimation(AnimationManager.pedestal3, [ySlide, xSlide3, yRot], 0, 2 * frameRate, false);\r\n    var animatable = scene.beginDirectAnimation(AnimationManager.pedestal4, [ySlide, xSlide4, yRot], 0, 2 * frameRate, false);\r\n\r\n    animatable.onAnimationEnd = function () {\r\n      AnimationManager.pedestal.dispose();\r\n      AnimationManager.pedestal2.dispose();\r\n      AnimationManager.pedestal3.dispose();\r\n      AnimationManager.pedestal4.dispose();\r\n\r\n      Constants.PEDESTAL.getChildMeshes()[0].setEnabled(true);\r\n      Constants.PEDESTAL2.getChildMeshes()[0].setEnabled(true);\r\n      Constants.PEDESTAL3.getChildMeshes()[0].setEnabled(true);\r\n      Constants.PEDESTAL4.getChildMeshes()[0].setEnabled(true);\r\n\r\n      Constants.PEDESTAL.getChildMeshes()[0].material.albedoTexture = new BABYLON.Texture(\"images/grad1.png\", scene);\r\n      Constants.PEDESTAL2.getChildMeshes()[0].material.albedoTexture = new BABYLON.Texture(\"images/grad2.png\", scene);\r\n      Constants.PEDESTAL3.getChildMeshes()[0].material.albedoTexture = new BABYLON.Texture(\"images/grad3.png\", scene);\r\n      Constants.PEDESTAL4.getChildMeshes()[0].material.albedoTexture = new BABYLON.Texture(\"images/grad4.png\", scene);\r\n\r\n      CameraManager.isPedstalLanding = true;\r\n      ContentsManager.GetInstance();\r\n    };\r\n  }\r\n}\r\n","import * as BABYLON from \"babylonjs\";\r\nimport gsap from \"gsap\";\r\nimport Communicator from \"../common/Communicator\";\r\nimport Constants from \"../common/Constants\";\r\nimport DataManager from \"../common/data/DataManager\";\r\nimport CommunicatorEvent from \"../common/event/CommunicatorEvent\";\r\nimport AnimationManager from \"../content/AnimationManager\";\r\nimport ContentsManager from \"./ContentsManager\";\r\n\r\nexport default class CameraManager {\r\n  static PLAY_MODE = \"Play_Mode\";\r\n  static MINI_MAP_MODE = \"Mini_Map_Mode\";\r\n  static BOOTH_MODE = \"Booth_Mode\";\r\n\r\n  static meshLookAt;\r\n  static meshTarget;\r\n  static currentMode;\r\n  static oldMode;\r\n  static locator;\r\n  static aniFlow;\r\n\r\n  static isPedstalLanding = false;\r\n\r\n  /**\r\n   *===============================================================================\r\n   * constructor()      :\r\n   * @param _objInit   : 싱글톤 생성 확인용 객체\r\n   *===============================================================================*/\r\n  constructor(_objInit) {\r\n    //super();\r\n\r\n    if (_objInit !== CameraManager.m_objInit) {\r\n      throw new Error(\"CameraManager 생성은 다음과 같이 해주세요 - CameraManager.GetInstance()\");\r\n      // return;\r\n    }\r\n  }\r\n\r\n  /**\r\n   *===============================================================================\r\n   * dispose()               :\r\n   *===============================================================================*/\r\n  static dispose() {\r\n    gsap.killTweensOf(CameraManager.meshLookAt);\r\n    gsap.killTweensOf(CameraManager.camera);\r\n\r\n    CameraManager.m_iSwingCountFrame = 0;\r\n\r\n    CameraManager.meshTarget = null;\r\n    CameraManager.camera.dispose();\r\n    CameraManager.m_cameraManager = null;\r\n    CameraManager.m_objInit = null;\r\n  }\r\n\r\n  /**\r\n   *===============================================================================\r\n   * GetInstance()      :\r\n   * @return            : 인스턴스 리턴\r\n   *===============================================================================*/\r\n  static GetInstance() {\r\n    if (CameraManager.m_cameraManager == null) {\r\n      CameraManager.m_cameraManager = new CameraManager(CameraManager.m_objInit);\r\n      CameraManager.m_objInit = {};\r\n      CameraManager.GetInstance().setLooAtMesh();\r\n\r\n      Communicator.reciveEvent(CommunicatorEvent.CHANGE_CAMERA_MODE, (_data) => {\r\n        // console.log(_vars);\r\n        CameraManager.cameraMode = _data;\r\n        CameraManager.aniFlow = null;\r\n      });\r\n    }\r\n    return CameraManager.m_cameraManager;\r\n  }\r\n\r\n  /**\r\n   *===============================================================================\r\n   * set cameraMode()      : 카메라 모드 변경 setter\r\n   * @param _mode      : 카메라 모드 /미니맵모드/플래이모드/부스모드\r\n   *===============================================================================*/\r\n  static set cameraMode(_mode) {\r\n    CameraManager.oldMode = CameraManager.currentMode;\r\n    CameraManager.currentMode = _mode;\r\n    //console.log(\"cameraMode ::: \",_mode);\r\n    switch (_mode) {\r\n      case CameraManager.PLAY_MODE:\r\n        CameraManager.GetInstance().playMode();\r\n        break;\r\n      case CameraManager.MINI_MAP_MODE:\r\n        CameraManager.GetInstance().miniMapMode();\r\n        break;\r\n      case CameraManager.BOOTH_MODE:\r\n        CameraManager.GetInstance().boothMode();\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  /**\r\n   *===============================================================================\r\n   * get cameraMode()      : 현재 카메라 모드 getter\r\n   * @return               : 현재 카메라 모드 /미니맵모드/플래이모드/부스모드\r\n   *===============================================================================*/\r\n  static get cameraMode() {\r\n    return CameraManager.currentMode;\r\n  }\r\n\r\n  /**\r\n   *===============================================================================\r\n   * get lookAt()      : 카메라 룩엣 객체 getter\r\n   * @return           : 카메라 룩엣 객체\r\n   *===============================================================================*/\r\n  static get lookAt() {\r\n    return CameraManager.meshLookAt;\r\n  }\r\n\r\n  /**\r\n   *===============================================================================\r\n   * setLooAtMesh()    : 룩엣 객체 생성\r\n   *===============================================================================*/\r\n  setLooAtMesh() {\r\n    // CameraManager.meshLookAt = BABYLON.MeshBuilder.CreateBox(\"cube\", { size: 1.1, height: 1.1 }, CameraManager.scene);\r\n    // CameraManager.meshLookAt.isVisible = false;\r\n    CameraManager.GetInstance().setCamera();\r\n  }\r\n\r\n  /**\r\n   *===============================================================================\r\n   * setCamera()    :  카메라 생성\r\n   *===============================================================================*/\r\n  setCamera() {\r\n    CameraManager.camera = new BABYLON.ArcRotateCamera(\r\n      \"Camera\",\r\n      -Math.PI / 2, //회전 최초방위값은 이값을 바꾸면 됨\r\n      Math.PI / 4, //기울기\r\n      10, // 스케일\r\n      new BABYLON.Vector3.Zero(),\r\n      Constants.SCENE\r\n    );\r\n    CameraManager.camera.attachControl(Constants.CANVAS, true);\r\n\r\n    this.setLimit();\r\n    // var defaultPipeline = new BABYLON.DefaultRenderingPipeline(\"default\", true, Constants.SCENE, [CameraManager.camera]);\r\n    // defaultPipeline.bloomEnabled = true;\r\n    // defaultPipeline.fxaaEnabled = true;\r\n    // defaultPipeline.bloomWeight = 0.5;\r\n    // defaultPipeline.cameraFov = CameraManager.camera.fov;\r\n\r\n    //   var lensEffect = new BABYLON.LensRenderingPipeline('lens', {\r\n    //     edge_blur: 1.0,\r\n    //     chromatic_aberration: 1.0,\r\n    //     distortion: 1.0,\r\n    //     dof_focus_distance: 150,\r\n    //     dof_aperture: 6.0,\t\t\t// set this very high for tilt-shift effect\r\n    //     grain_amount: 1.0,\r\n    //     dof_pentagon: true,\r\n    //     dof_gain: 1.0,\r\n    //     dof_threshold: 1.0,\r\n    //     dof_darken: 0.25\r\n    // }, Constants.SCENE, 1.0, CameraManager.camera);\r\n  }\r\n\r\n  /**\r\n   *===============================================================================\r\n   * setCamera()    :  카메라 컨트롤 리미트 설정\r\n   *===============================================================================*/\r\n  setLimit() {\r\n    //트위닝을 위한 범위 설정\r\n    // CameraManager.camera.lowerAlphaLimit =BABYLON.Tools.ToRadians(0); //회전 각도 제한\r\n    // CameraManager.camera.upperAlphaLimit =BABYLON.Tools.ToRadians(360); //회전 각도 제한\r\n    CameraManager.camera.lowerBetaLimit = BABYLON.Tools.ToRadians(80); //탑뷰 각도 제한\r\n    CameraManager.camera.upperBetaLimit = BABYLON.Tools.ToRadians(80); // 버텀뷰 각도 제한\r\n    CameraManager.camera.lowerRadiusLimit = 7;\r\n    CameraManager.camera.upperRadiusLimit = 10;\r\n    CameraManager.camera.panningSensibility = 0;\r\n  }\r\n\r\n  /**\r\n   *===============================================================================\r\n   * miniMapMode()    :  미니맵모드 카메라 설정\r\n   *===============================================================================*/\r\n  miniMapMode() {\r\n    gsap.killTweensOf(CameraManager.meshLookAt);\r\n    gsap.killTweensOf(CameraManager.camera);\r\n\r\n    if (Constants.SNOW_PARTICLE) Constants.SNOW_PARTICLE.start();\r\n\r\n    CameraManager.camera.setTarget(CameraManager.meshLookAt);\r\n\r\n    Constants.SCENE.onBeforeAnimationsObservable.remove(CameraManager.aniFlow);\r\n\r\n    CameraManager.onFloatingMap();\r\n    CameraManager.GetInstance().setLimit();\r\n\r\n    CameraManager.locator.StartFlow();\r\n    CameraManager.camera.minZ = 0.1;\r\n    const endTween = () => {\r\n      if (CameraManager.currentMode !== CameraManager.MINI_MAP_MODE) return;\r\n      CameraManager.meshLookAt.position = new BABYLON.Vector3(Constants.MAP_CENTER.x, Constants.MAP_CENTER.y, Constants.MAP_CENTER.z);\r\n\r\n      //모드 제한 설정\r\n      CameraManager.camera.lowerBetaLimit = BABYLON.Tools.ToRadians(45); //탑뷰 각도 제한\r\n      CameraManager.camera.lowerRadiusLimit = 150; //최대 사이즈 제한\r\n      CameraManager.camera.upperRadiusLimit = 150; //최소 사이즈 제한\r\n    };\r\n\r\n    gsap.to(CameraManager.meshLookAt.position, {\r\n      duration: 1,\r\n      x: Constants.MAP_CENTER.x,\r\n      y: Constants.MAP_CENTER.y,\r\n      z: Constants.MAP_CENTER.z,\r\n      ease: \"power1.outout\",\r\n      onComplete: endTween,\r\n    });\r\n\r\n    gsap.to(CameraManager.camera, {\r\n      duration: 1,\r\n      radius: 150,\r\n      beta: BABYLON.Tools.ToRadians(75),\r\n      alpha: BABYLON.Tools.ToRadians(45),\r\n      ease: \"power1.outout\",\r\n    });\r\n  }\r\n\r\n  /**\r\n   *===============================================================================\r\n   * playMode()    :  플레이모드 카메라 설정\r\n   *===============================================================================*/\r\n  playMode() {\r\n    gsap.killTweensOf(CameraManager.meshLookAt);\r\n    gsap.killTweensOf(CameraManager.camera);\r\n\r\n    //if(Constants.SNOW_PARTICLE)Constants.SNOW_PARTICLE.stop();\r\n\r\n    if (CameraManager.meshTarget === null || CameraManager.meshTarget === undefined) return;\r\n    let nDuration = CameraManager.oldMode === CameraManager.BOOTH_MODE ? 0.7 : 1;\r\n\r\n    CameraManager.m_iSwingCountFrame = 0;\r\n    CameraManager.stopFloatingMap();\r\n\r\n    CameraManager.GetInstance().setLimit();\r\n\r\n    const endTween = () => {\r\n      if (CameraManager.currentMode !== CameraManager.PLAY_MODE) return;\r\n      CameraManager.locator.StopFlow();\r\n      CameraManager.camera.lowerAlphaLimit = BABYLON.Tools.ToRadians(45); //회전 각도 제한\r\n      CameraManager.camera.upperAlphaLimit = BABYLON.Tools.ToRadians(115); //회전 각도 제한\r\n      CameraManager.camera.lowerBetaLimit = BABYLON.Tools.ToRadians(15); //탑뷰 각도 제한\r\n      CameraManager.camera.upperBetaLimit = BABYLON.Tools.ToRadians(80); // 버텀뷰 각도 제한\r\n      CameraManager.camera.lowerRadiusLimit = 15; //최대 사이즈 제한\r\n      CameraManager.camera.upperRadiusLimit = 15; //최소 사이즈 제한\r\n      CameraManager.camera.setTarget(CameraManager.meshTarget);\r\n      if (CameraManager.aniFlow === null) CameraManager.aniFlow = Constants.SCENE.onBeforeAnimationsObservable.add(CameraManager.GetInstance().flowAvatar);\r\n    };\r\n\r\n    gsap.to(CameraManager.meshLookAt.position, {\r\n      duration: nDuration,\r\n      x: CameraManager.meshTarget.position.x,\r\n      y: CameraManager.meshTarget.position.y,\r\n      z: CameraManager.meshTarget.position.z,\r\n      ease: \"power1.outout\",\r\n      onComplete: endTween,\r\n    });\r\n\r\n    gsap.to(CameraManager.camera, {\r\n      duration: nDuration,\r\n      radius: 15,\r\n      beta: BABYLON.Tools.ToRadians(45),\r\n      alpha: BABYLON.Tools.ToRadians(90),\r\n      ease: \"power1.outout\",\r\n    });\r\n\r\n    //맵 기울기 원상 복귀\r\n    gsap.to(Constants.CONTAINER_MAP.rotation, {\r\n      duration: nDuration,\r\n      x: 0,\r\n      y: 0,\r\n      z: 0,\r\n      ease: \"power1.outout\",\r\n    });\r\n  }\r\n\r\n  static SetCameraTargetChest() {\r\n    let camera = CameraManager.camera;\r\n    let scene = Constants.SCENE;\r\n\r\n    AnimationManager.FlipCylinder();\r\n\r\n    let targetPosition = null;\r\n\r\n    scene.registerBeforeRender(function SetTarget() {\r\n      if (!CameraManager.isPedstalLanding) {\r\n        targetPosition = AnimationManager.pedestal2.position.add(new BABYLON.Vector3(1, 0, 0));\r\n        camera.setTarget(targetPosition);\r\n      } else {\r\n        CameraManager.camera.position = new BABYLON.Vector3(0,1,0);\r\n        scene.unregisterBeforeRender(SetTarget);\r\n        CameraManager.camera.lowerBetaLimit = BABYLON.Tools.ToRadians(-90); //탑뷰 각도 제한\r\n        CameraManager.camera.upperBetaLimit = BABYLON.Tools.ToRadians(90); // 버텀뷰 각도 제한\r\n        CameraManager.camera.lowerAlphaLimit = BABYLON.Tools.ToRadians(-90); //회전 각도 제한\r\n        CameraManager.camera.upperAlphaLimit = BABYLON.Tools.ToRadians(-90); //회전 각도 제한\r\n\r\n        camera.setTarget(new BABYLON.Vector3.Zero());\r\n        camera.alpha = -Math.PI / 2;\r\n        camera.beta = 1.2;\r\n        camera.lowerRadiusLimit = 15; //최대 사이즈 제한\r\n        camera.upperRadiusLimit = 15; //최소 사이즈 제한\r\n\r\n        ContentsManager.ContentsPopUp();\r\n        camera.panningSensibility = 0;\r\n      }\r\n    });\r\n\r\n    setTimeout(() => {\r\n      Constants.CHEST.dispose();\r\n    }, 500);\r\n  }\r\n}\r\n","import Communicator from '../common/Communicator.js';\r\nimport Constants from '../common/Constants.js';\r\nimport CommunicatorEvent from '../common/event/CommunicatorEvent.js';\r\nexport default class LoadingProgressManager\r\n{\r\n    static LOADED_DATA;\r\n\r\n    constructor(_objInit)\r\n    {\r\n        //super();\r\n        if (_objInit !== LoadingProgressManager.m_objInit) \r\n        {\r\n            throw new Error( \"LoadingProgressManager 생성은 다음과 같이 해주세요 - LoadingProgressManager.GetInstance()\" ); \r\n           // return;\r\n        }\r\n    }\r\n\r\n    static GetInstance(_scene)\r\n    {\r\n        if(LoadingProgressManager.m_loadingProgressManager == null) \r\n        {\r\n            LoadingProgressManager.m_loadingProgressManager = new LoadingProgressManager(LoadingProgressManager.m_objInit);\r\n            LoadingProgressManager.m_objInit = {};\r\n\r\n            LoadingProgressManager.LOADED_DATA = 0;\r\n        }\r\n        return LoadingProgressManager.m_loadingProgressManager;\r\n    }\r\n\r\n    \r\n    static AddData(_nData){\r\n        if(_nData === NaN || NaN === undefined)return;\r\n        LoadingProgressManager.LOADED_DATA += _nData;\r\n        // console.log(LoadingProgressManager.LOADED_DATA);\r\n        let nPercent = LoadingProgressManager.LOADED_DATA / Constants.TOTAL_DATA * 200;\r\n        //console.log(\"AddData :::: \", _nData, LoadingProgressManager.LOADED_DATA, nPercent);\r\n        Communicator.sendEvent(CommunicatorEvent.WORLD_LOADING, nPercent);\r\n    }\r\n};\r\n\r\n","import Communicator from '../common/Communicator.js';\r\nimport Constants from '../common/Constants.js';\r\nimport CommunicatorEvent from '../common/event/CommunicatorEvent.js';\r\nexport default class ClothImpostor\r\n{\r\n    constructor(_objInit)\r\n    {\r\n        //super();\r\n        if (_objInit !== ClothImpostor.m_objInit) \r\n        {\r\n            throw new Error( \"ClothImpostor 생성은 다음과 같이 해주세요 - ClothImpostor.GetInstance()\" ); \r\n           // return;\r\n        }\r\n    }\r\n\r\n    static GetInstance(_scene)\r\n    {\r\n        if(ClothImpostor.m_clothImpostor == null) \r\n        {\r\n            ClothImpostor.m_clothImpostor = new ClothImpostor(ClothImpostor.m_objInit);\r\n            ClothImpostor.m_objInit = {};\r\n\r\n            ClothImpostor.LOADED_DATA = 0;\r\n        }\r\n        return ClothImpostor.m_clothImpostor;\r\n    }\r\n\r\n    \r\n    // static \r\n};\r\n\r\n","import * as BABYLON from \"babylonjs\";\r\nimport gsap from \"gsap\";\r\nimport Communicator from \"../common/Communicator\";\r\nimport Constants from \"../common/Constants\";\r\nimport CommunicatorEvent from \"../common/event/CommunicatorEvent\";\r\n\r\nexport default class ParticleManager {\r\n  static particleSystem = null;\r\n  static sparkParticleSystem = null;\r\n\r\n  /**\r\n   *===============================================================================\r\n   * constructor()      :\r\n   * @param _objInit   : 싱글톤 생성 확인용 객체\r\n   *===============================================================================*/\r\n  constructor(_objInit) {\r\n    //super();\r\n    if (_objInit !== ParticleManager.m_objInit) {\r\n      throw new Error(\"ParticleManager 생성은 다음과 같이 해주세요 - ParticleManager.GetInstance()\");\r\n      // return;\r\n    }\r\n  }\r\n\r\n  /**\r\n   *===============================================================================\r\n   * dispose()               :\r\n   *===============================================================================*/\r\n  static dispose() {\r\n    ParticleManager.m_particleManager = null;\r\n    ParticleManager.m_objInit = null;\r\n  }\r\n\r\n  /**\r\n   *===============================================================================\r\n   * GetInstance()      :\r\n   * @return            : 인스턴스 리턴\r\n   *===============================================================================*/\r\n  static GetInstance() {\r\n    if (ParticleManager.m_particleManager == null) {\r\n      ParticleManager.m_particleManager = new ParticleManager(ParticleManager.m_objInit);\r\n      ParticleManager.m_objInit = {};\r\n      ParticleManager.GetInstance();\r\n    }\r\n    return ParticleManager.m_particleManager;\r\n  }\r\n\r\n  static ParticleSpark() {\r\n    var noiseTexture = new BABYLON.NoiseProceduralTexture(\"perlin\", 256, Constants.SCENE);\r\n    noiseTexture.animationSpeedFactor = 5;\r\n    noiseTexture.persistence = 2;\r\n    noiseTexture.brightness = 0.5;\r\n    noiseTexture.octaves = 6;\r\n\r\n    ParticleManager.sparkParticleSystem = new BABYLON.ParticleSystem(\"sparkParticleSystem\", 1000, Constants.SCENE);\r\n    ParticleManager.sparkParticleSystem.particleTexture = new BABYLON.Texture(\"https://models.babylonjs.com/Demos/weaponsDemo/textures/sparks.png\", Constants.SCENE);\r\n    ParticleManager.sparkParticleSystem.minSize = 0.1;\r\n    ParticleManager.sparkParticleSystem.maxSize = 0.2;\r\n    // sparkParticleSystem.particleEmitterType = sparkEmitter;\r\n    var hemisphericEmitter = ParticleManager.sparkParticleSystem.createHemisphericEmitter(8);\r\n    // hemisphericEmitter.radiusRange = 2;\r\n\r\n    ParticleManager.sparkParticleSystem.emitter = Constants.SCENE.getNodeByName(\"Object_8\");\r\n    ParticleManager.sparkParticleSystem.minLifeTime = 0.3;\r\n    ParticleManager.sparkParticleSystem.maxLifeTime = 0.7;\r\n    ParticleManager.sparkParticleSystem.emitRate = 30;\r\n    ParticleManager.sparkParticleSystem.addColorGradient(0.0, new BABYLON.Color4(0.9245, 0.654, 0.0915, 0));\r\n    ParticleManager.sparkParticleSystem.addColorGradient(0.04, new BABYLON.Color4(0.9062, 0.6132, 0.0942, 0.1));\r\n    ParticleManager.sparkParticleSystem.addColorGradient(0.4, new BABYLON.Color4(0.97, 0.92, 0.21));\r\n    ParticleManager.sparkParticleSystem.addColorGradient(0.7, new BABYLON.Color4(0.85, 0.46, 0.15));\r\n    ParticleManager.sparkParticleSystem.addColorGradient(0.9, new BABYLON.Color4(0.3113, 0.0367, 0.0367, 0.6));\r\n    ParticleManager.sparkParticleSystem.addColorGradient(1.0, new BABYLON.Color4(0.3113, 0.0367, 0.0367, 0));\r\n    ParticleManager.sparkParticleSystem.blendMode = BABYLON.ParticleSystem.BLENDMODE_ADD;\r\n    ParticleManager.sparkParticleSystem.gravity = new BABYLON.Vector3(0, 5, 0);\r\n    ParticleManager.sparkParticleSystem.noiseTexture = noiseTexture;\r\n    ParticleManager.sparkParticleSystem.noiseStrength = new BABYLON.Vector3(6, 6, 4);\r\n    ParticleManager.sparkParticleSystem.minEmitPower = 1;\r\n    ParticleManager.sparkParticleSystem.maxEmitPower = 2;\r\n    ParticleManager.sparkParticleSystem.updateSpeed = 1 / 200;\r\n    ParticleManager.sparkParticleSystem.start();\r\n  }\r\n\r\n  /**\r\n   *===============================================================================\r\n   * set ParticleSunflower()      : 첫번째 Meta4 인터랙션 - 해바라기 파티클\r\n   *===============================================================================*/\r\n  static ParticleSunflower(_vec3) {\r\n    ParticleManager.particleSystem = new BABYLON.ParticleSystem(\"particles\", 200, Constants.SCENE);\r\n\r\n    ParticleManager.particleSystem.particleTexture = new BABYLON.Texture(\"images/sunflower.png\", Constants.SCENE);\r\n\r\n    let startSphere = new BABYLON.Mesh.CreateSphere(\"Shoot\", 4, 1, Constants.SCENE);\r\n    startSphere.position = new BABYLON.Vector3(_vec3.x, _vec3.y, -3);\r\n    startSphere.isVisible = false;\r\n\r\n    ParticleManager.particleSystem.emitter = startSphere; // the starting location\r\n    ParticleManager.particleSystem.color1 = new BABYLON.Color4(1, 1, 1, 1);\r\n    ParticleManager.particleSystem.color2 = new BABYLON.Color4(1, 1, 1, 1);\r\n    ParticleManager.particleSystem.colorDead = new BABYLON.Color3.White();\r\n    ParticleManager.particleSystem.minSize = 0.5;\r\n    ParticleManager.particleSystem.maxSize = 1;\r\n    ParticleManager.particleSystem.minLifeTime = 0.1;\r\n    ParticleManager.particleSystem.maxLifeTime = 0.5;\r\n    ParticleManager.particleSystem.emitRate = 50;\r\n    ParticleManager.particleSystem.createSphereEmitter(2);\r\n    ParticleManager.particleSystem.blendMode = BABYLON.ParticleSystem.BLENDMODE_STANDARD;\r\n    ParticleManager.particleSystem.minEmitPower = 3;\r\n    ParticleManager.particleSystem.maxEmitPower = 5;\r\n    ParticleManager.particleSystem.updateSpeed = 0.005;\r\n    ParticleManager.particleSystem.disposeOnStop = true;\r\n    // ParticleManager.particleSystem.renderingGroupId = 1;\r\n    ParticleManager.particleSystem.targetStopDuration = 0.1;\r\n    ParticleManager.particleSystem.start();\r\n  }\r\n\r\n  /**\r\n   *===============================================================================\r\n   * set ParticleCoffee()      : 두번째 Meta4 인터랙션 - 커피콩 파티클\r\n   *===============================================================================*/\r\n  static ParticleCoffee(_vec3) {\r\n    // Create a particle system\r\n    ParticleManager.particleSystem = new BABYLON.ParticleSystem(\"particles\", 200, Constants.SCENE);\r\n\r\n    //Texture of each particle\r\n    ParticleManager.particleSystem.particleTexture = new BABYLON.Texture(\"images/coffeeBean.png\", Constants.SCENE);\r\n\r\n    let startSphere = new BABYLON.Mesh.CreateSphere(\"Shoot\", 4, 1, Constants.SCENE);\r\n    startSphere.position = new BABYLON.Vector3(_vec3.x, _vec3.y, -3);\r\n    startSphere.isVisible = false;\r\n\r\n    ParticleManager.particleSystem.emitter = startSphere;\r\n    ParticleManager.particleSystem.color1 = new BABYLON.Color4(1, 1, 1, 1);\r\n    ParticleManager.particleSystem.color2 = new BABYLON.Color4(1, 1, 1, 1);\r\n    ParticleManager.particleSystem.colorDead = new BABYLON.Color3.White();\r\n    ParticleManager.particleSystem.minSize = 0.5;\r\n    ParticleManager.particleSystem.maxSize = 1;\r\n    ParticleManager.particleSystem.minLifeTime = 0.1;\r\n    ParticleManager.particleSystem.maxLifeTime = 0.5;\r\n    ParticleManager.particleSystem.emitRate = 50;\r\n    ParticleManager.particleSystem.createSphereEmitter(2);\r\n    ParticleManager.particleSystem.blendMode = BABYLON.ParticleSystem.BLENDMODE_STANDARD;\r\n    ParticleManager.particleSystem.minEmitPower = 3;\r\n    ParticleManager.particleSystem.maxEmitPower = 5;\r\n    ParticleManager.particleSystem.updateSpeed = 0.005;\r\n    ParticleManager.particleSystem.disposeOnStop = true;\r\n    ParticleManager.particleSystem.targetStopDuration = 0.1;\r\n    ParticleManager.particleSystem.start();\r\n  }\r\n}\r\n","import * as BABYLON from \"babylonjs\";\r\nimport \"babylonjs-loaders\";\r\nimport \"babylonjs-inspector\";\r\nimport \"babylonjs-gui\";\r\nimport { Godrays } from \"babylonjs-godrays\";\r\nimport * as GUI from \"babylonjs-gui\";\r\nimport EventDispatcher from \"../common/event/EventDispatcher\";\r\nimport Constants from \"../common/Constants\";\r\nimport CameraManager from \"./CameraManager\";\r\nimport Communicator from \"../common/Communicator\";\r\nimport CommunicatorEvent from \"../common/event/CommunicatorEvent\";\r\nimport LoadingProgressManager from \"./LoadingProgressManager\";\r\nimport ClothImpostor from \"./ClothImposter\";\r\nimport ParticleManager from \"./ParticleManager\";\r\nimport AnimationManager from \"./AnimationManager\";\r\nimport ContentsManager from \"./ContentsManager\";\r\n\r\nexport default class BasicWorld extends EventDispatcher {\r\n  \"use strict\";\r\n\r\n  /**\r\n   *===============================================================================\r\n   * constructor()            :\r\n   * @param _canvas           : WebGL용 canvas element\r\n   *===============================================================================\r\n   */\r\n  constructor(_canvas) {\r\n    super();\r\n\r\n    Constants.CANVAS = this.canvas = _canvas;\r\n    Constants.ENGINE = this.engine = new BABYLON.Engine(this.canvas, true);\r\n    Constants.SCENE = this.scene = new BABYLON.Scene(this.engine);\r\n\r\n    this.isInput = false;\r\n    this.chest = null;\r\n    this.chestAnim = null;\r\n    this.key_book = null;\r\n    this.card = null;\r\n    this.card_item = null;\r\n    this.highlightLayer = null;\r\n    this.glowLayer = null;\r\n    this.godrays = null;\r\n    this.particlePosition = null;\r\n    this.pedestal = null;\r\n\r\n    this.guiText = null;\r\n    this.guiButton = null;\r\n    this.guiButtonX = null;\r\n\r\n    Constants.isDetailView = false;\r\n\r\n    BABYLON.Logger.LogLevels = BABYLON.Logger.NoneLogLevel;\r\n\r\n    this.Init();\r\n  }\r\n\r\n  dispose() {\r\n    //if(this.multiPlayManager)this.multiPlayManager.dispose();\r\n    //this.multiPlayManager = null;\r\n\r\n    CameraManager.dispose();\r\n    ParticleManager.dispose();\r\n    AnimationManager.dispose();\r\n    this.light.dispose();\r\n    this.light2.dispose();\r\n    this.scene.dispose();\r\n    this.engine.dispose();\r\n\r\n    Constants.SCENE = this.scene = null;\r\n    Constants.ENGINE = this.engine = null;\r\n    Constants.CANVAS = this.canvas = null;\r\n  }\r\n\r\n  /**\r\n   *===============================================================================\r\n   * Init()             :\r\n   *===============================================================================\r\n   */\r\n  Init() {\r\n    LoadingProgressManager.GetInstance();\r\n\r\n    this.setEnvironment();\r\n    this.setCamera();\r\n    this.setWorld();\r\n    this.setInspector();\r\n    this.setParticle();\r\n    if (Constants.DEBUG_MODE) this.setInspector();\r\n\r\n    this.engine.runRenderLoop(() => {\r\n      this.scene.render();\r\n    });\r\n\r\n    window.addEventListener(\"resize\", () => {\r\n      this.engine.resize();\r\n    });\r\n  }\r\n\r\n  setEnvironment() {\r\n    //배경 컬러\r\n    let skybox = BABYLON.MeshBuilder.CreateBox(\"SkyBox\", { size: 1000.0 }, this.scene);\r\n    skybox.visibility = 0.4;\r\n\r\n    let skyboxMaterial = new BABYLON.PBRMaterial(\"skyBox\", this.scene);\r\n    skyboxMaterial.backFaceCulling = false;\r\n    skyboxMaterial.reflectionTexture = new BABYLON.CubeTexture(\"images/Studio_Softbox_2Umbrellas_cube_specular.env\", this.scene, 512);\r\n    skyboxMaterial.reflectionTexture.coordinatesMode = BABYLON.Texture.SKYBOX_MODE;\r\n    skyboxMaterial.disableLighting = false;\r\n    skyboxMaterial.albedoColor = new BABYLON.Color3.Black();\r\n    skyboxMaterial.microSurface = 0.22;\r\n    skyboxMaterial.reflectivityColor = new BABYLON.Color3(0.01, 0.01, 0.03);\r\n    skybox.material = skyboxMaterial;\r\n\r\n    this.scene.clearColor = new BABYLON.Color3(0, 0, 0);\r\n\r\n    // 좌측 설명 풀스크린 GUI\r\n    var advancedTexture = GUI.AdvancedDynamicTexture.CreateFullscreenUI(\"UI\");\r\n    var panel = new GUI.StackPanel();\r\n    panel.background = \"transparent\";\r\n    panel.width = 0.2;\r\n    panel.isVertical = true;\r\n    panel.top = \"-1%\";\r\n    advancedTexture.addControl(panel);\r\n    panel.verticalAlignment = GUI.Control.VERTICAL_ALIGNMENT_BOTTOM;\r\n    // panel.horizontalAlignment = GUI.Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n    this.guiText = new GUI.TextBlock();\r\n    this.guiText.text = \"열쇠 또는 버튼을 눌러 상자 열기\";\r\n    this.guiText.color = \"white\";\r\n    this.guiText.fontSize = 24;\r\n    this.guiText.width = 1;\r\n    this.guiText.height = \"40px\";\r\n    this.guiText.color = \"white\";\r\n    this.guiText.background = \"transparent\";\r\n    panel.addControl(this.guiText);\r\n\r\n    this.guiButton = GUI.Button.CreateSimpleButton(\"but2\", \"Click Me\");\r\n    this.guiButton.width = \"90%\";\r\n    this.guiButton.bottom = \"3px\";\r\n    this.guiButton.height = \"40px\";\r\n    this.guiButton.color = \"white\";\r\n    this.guiButton.background = \"transparent\";\r\n    panel.addControl(this.guiButton);\r\n\r\n    this.guiButtonX = GUI.Button.CreateSimpleButton(\"butX\", \"X\");\r\n    this.guiButtonX.alpha = 0;\r\n    this.guiButtonX.width = \"2.5%\";\r\n    this.guiButtonX.height = \"5%\";\r\n    this.guiButtonX.color = \"white\";\r\n    this.guiButtonX.cornerRadius = 20;\r\n    this.guiButtonX.background = \"transparent\";\r\n    this.guiButtonX.top = \"1%\";\r\n    this.guiButtonX.left = \"-1%\";\r\n    this.guiButtonX.horizontalAlignment = GUI.Control.HORIZONTAL_ALIGNMENT_RIGHT;\r\n    this.guiButtonX.verticalAlignment = GUI.Control.VERTICAL_ALIGNMENT_TOP;\r\n    this.guiButtonX.pointerEnterAnimation = () => {};\r\n\r\n    this.guiButtonX.onPointerUpObservable.add(\r\n      function () {\r\n        Constants.isDetailView = false;\r\n\r\n        this.guiText.text = \"\";\r\n        this.guiButton.getChildByName(\"but2_button\").text = \"오브젝트를 클릭해보세요\";\r\n\r\n        this.guiButton.onPointerUpObservable.clear();\r\n        this.guiButtonX.alpha = 0;\r\n        ContentsManager.UItarget.material.alpha = 0;\r\n        ContentsManager.detailGUIText.text = \"\";\r\n        this.scene.beginAnimation(ContentsManager.detailGUI, 10, 0, false);\r\n\r\n        CameraManager.camera.target = new BABYLON.Vector3.Zero();\r\n        CameraManager.camera.alpha = -Math.PI / 2;\r\n        CameraManager.camera.beta = 1.2;\r\n        CameraManager.camera.lowerRadiusLimit = 15;\r\n        CameraManager.camera.upperRadiusLimit = 15;\r\n        for (let mesh of this.scene.meshes) {\r\n          mesh.setEnabled(true);\r\n          ContentsManager.particle1.start();\r\n          ContentsManager.particle2.start();\r\n          ContentsManager.particle3.start();\r\n          ContentsManager.particle3.start();\r\n        }\r\n\r\n        var speed = 45;\r\n        var frameCount = 100;\r\n\r\n        var animateCameraTargetToPosition = function (cam, speed, frameCount, newPos) {\r\n          var ease = new BABYLON.CubicEase();\r\n          ease.setEasingMode(BABYLON.EasingFunction.EASINGMODE_EASEINOUT);\r\n\r\n          var aable1 = BABYLON.Animation.CreateAndStartAnimation(\"at5\", cam, \"target\", speed, frameCount, cam.target, newPos, 0, ease);\r\n          aable1.disposeOnEnd = true;\r\n        };\r\n\r\n        var animateCameraToPosition = function (cam, speed, frameCount, newPos) {\r\n          var ease = new BABYLON.CubicEase();\r\n          ease.setEasingMode(BABYLON.EasingFunction.EASINGMODE_EASEINOUT);\r\n          var aable2 = BABYLON.Animation.CreateAndStartAnimation(\"at4\", cam, \"position\", speed, frameCount, cam.position, newPos, 0, ease);\r\n          aable2.disposeOnEnd = true;\r\n        };\r\n\r\n        animateCameraTargetToPosition(CameraManager.camera, speed, frameCount, new BABYLON.Vector3(0, 0, 0));\r\n        animateCameraToPosition(CameraManager.camera, speed, frameCount, new BABYLON.Vector3(0, 0, -2));\r\n      }.bind(this)\r\n    );\r\n    advancedTexture.addControl(this.guiButtonX);\r\n\r\n    this.guiButton.isPointerOver = false;\r\n    let isChestOpen = false;\r\n\r\n    this.guiButton.onPointerEnterObservable.add(\r\n      function () {\r\n        this.guiButton.isPointerOver = true;\r\n      }.bind(this)\r\n    );\r\n\r\n    this.guiButton.onPointerUpObservable.addOnce(\r\n      function () {\r\n        if (!this.guiButton.isPointerOver) return;\r\n        onButtonClick(this.guiButton);\r\n      }.bind(this)\r\n    );\r\n\r\n    var onButtonClick = function () {\r\n      this.guiText.text = \"\";\r\n      this.guiButton.getChildByName(\"but2_button\").text = \"오브젝트를 클릭해보세요\";\r\n\r\n      this.key.dispose();\r\n      this.key_book.setEnabled(true);\r\n      this.AnimationControl();\r\n      this.chestAnim.speedRatio = 2;\r\n      this.chestAnim.play();\r\n    }.bind(this);\r\n  }\r\n\r\n  setCamera() {\r\n    CameraManager.GetInstance();\r\n    this.setLight();\r\n  }\r\n\r\n  setLight() {\r\n    this.light = new BABYLON.DirectionalLight(\"DirectionalLight\", new BABYLON.Vector3(0, -120, 0), this.scene);\r\n    this.light.direction = new BABYLON.Vector3(-3, -10, -5);\r\n    this.light.intensity = 1.5;\r\n    this.light.diffuse = new BABYLON.Color3(1, 1, 1);\r\n    this.light.specular = new BABYLON.Color3(1, 1, 1);\r\n\r\n    this.light2 = new BABYLON.HemisphericLight(\"light\", new BABYLON.Vector3(0, 10, 0), this.scene);\r\n    this.light2.intensity = 0.5;\r\n    this.light2.groundColor = new BABYLON.Color3(0.588, 0.588, 0.588);\r\n  }\r\n\r\n  setParticle() {\r\n    ParticleManager.GetInstance();\r\n  }\r\n\r\n  async setWorld() {\r\n    AnimationManager.GetInstance();\r\n\r\n    let engine = this.engine;\r\n    let scene = this.scene;\r\n\r\n    ClothImpostor.GetInstance();\r\n\r\n    // 상자 로딩\r\n    const onMeshLoadProgress = (_data) => {\r\n      let loadData = 0;\r\n      let dataUnit = _data.loaded - loadData;\r\n      loadData = _data.loaded;\r\n      LoadingProgressManager.AddData(dataUnit);\r\n    };\r\n\r\n    let chestLoad = await BABYLON.SceneLoader.ImportMeshAsync(\"\", Constants.ASSETS_URL, Constants.CHEST_FILE_NAME, this.scene, onMeshLoadProgress);\r\n\r\n    this.chest = Constants.CHEST = chestLoad.meshes[0];\r\n    this.chest.name = \"Chest\";\r\n    this.chest.rotation = new BABYLON.Vector3(0, BABYLON.Tools.ToRadians(180), 0);\r\n    this.chest.scaling = new BABYLON.Vector3(50, 50, 50);\r\n    this.key_book = this.scene.getNodeByName(\"Object_6\");\r\n    let chestBottom = this.scene.getNodeByName(\"Object_8\");\r\n    chestBottom.isBlocker = true;\r\n    this.key_book.setEnabled(false);\r\n    this.chestAnim = this.scene.getAnimationGroupByName(\"CHEST_anim9\");\r\n    this.chestAnim.pause();\r\n    this.chestAnim.loopAnimation = false;\r\n\r\n    ParticleManager.ParticleSpark();\r\n\r\n    let godrays = (this.godrays = new BABYLON.VolumetricLightScatteringPostProcess(\r\n      \"godrays\",\r\n      1.0,\r\n      CameraManager.camera,\r\n      // godrayPlane,\r\n      null,\r\n      100,\r\n      BABYLON.Texture.BILINEAR_SAMPLINGMODE,\r\n      this.engine,\r\n      false\r\n    ));\r\n\r\n    godrays.mesh.material.diffuseTexture = new BABYLON.Texture(\"images/godray.png\", this.scene, true, false, BABYLON.Texture.BILINEAR_SAMPLINGMODE);\r\n    godrays.mesh.material.diffuseTexture.hasAlpha = true;\r\n    godrays.mesh.position = new BABYLON.Vector3(0, 0, 0);\r\n    godrays.mesh.rotation = new BABYLON.Vector3(BABYLON.Tools.ToRadians(80), 0, 0);\r\n    godrays.mesh.scaling.scaleInPlace(8.5);\r\n    godrays._volumetricLightScatteringRTT.renderParticles = true;\r\n\r\n    let t = 0;\r\n    let switchFlag = false;\r\n\r\n    scene.registerBeforeRender(function () {\r\n      if (t > Math.PI) {\r\n        switchFlag = !switchFlag;\r\n      } else if (t <= 0) {\r\n        switchFlag = !switchFlag;\r\n      }\r\n\r\n      if (!switchFlag) {\r\n        t += engine.getDeltaTime() * 0.0025;\r\n      } else if (switchFlag) {\r\n        t -= engine.getDeltaTime() * 0.0025;\r\n        if (t < 0.6) {\r\n          t = 0.6;\r\n          switchFlag = !switchFlag;\r\n        }\r\n      }\r\n\r\n      let d = Math.sin(t / Math.PI);\r\n\r\n      godrays.mesh.material._diffuseTexture.level = d;\r\n    });\r\n\r\n    let keyLoad = await BABYLON.SceneLoader.ImportMeshAsync(\"\", Constants.ASSETS_URL, Constants.KEY_FILE_NAME, this.scene, onMeshLoadProgress);\r\n    this.key = keyLoad.meshes[0];\r\n    this.key.name = \"key\";\r\n    this.key.normalizeToUnitCube();\r\n    this.key.position = new BABYLON.Vector3(6, 0, 0);\r\n    this.key.rotation = new BABYLON.Vector3(BABYLON.Tools.ToRadians(0), BABYLON.Tools.ToRadians(90), BABYLON.Tools.ToRadians(270));\r\n    this.key.scaling.scaleInPlace(0.65);\r\n    this.key.getChildMeshes().forEach((mesh) => {\r\n      mesh.name = \"key\";\r\n      this.setAction(mesh);\r\n    });\r\n\r\n    let pedestalLoad = await BABYLON.SceneLoader.ImportMeshAsync(\"\", Constants.ASSETS_URL, Constants.PEDESTAL_FILE_NAME, this.scene, onMeshLoadProgress);\r\n    this.pedestal = Constants.PEDESTAL = pedestalLoad.meshes[0];\r\n    this.pedestal.name = \"pedstal\";\r\n    this.pedestal.normalizeToUnitCube();\r\n    this.pedestal.scaling.scaleInPlace(3);\r\n    this.pedestal.getChildMeshes()[0].setEnabled(false);\r\n    this.pedestal.getChildMeshes()[0].material.bumpTexture = null;\r\n    this.pedestal.getChildMeshes()[0].material.albedoTexture = null;\r\n\r\n    Constants.PEDESTAL2 = this.pedestal.clone(\"pedestal2\");\r\n    Constants.PEDESTAL3 = this.pedestal.clone(\"pedestal3\");\r\n    Constants.PEDESTAL4 = this.pedestal.clone(\"pedestal4\");\r\n\r\n    Constants.PEDESTAL.position = new BABYLON.Vector3(-9, 0, 1);\r\n    Constants.PEDESTAL2.position = new BABYLON.Vector3(-3, 0, 0);\r\n    Constants.PEDESTAL3.position = new BABYLON.Vector3(3, 0, 1);\r\n    Constants.PEDESTAL4.position = new BABYLON.Vector3(9, 0, 0);\r\n\r\n    Constants.PEDESTAL2.getChildMeshes()[0].material = new BABYLON.PBRMaterial(\"pedestal2\", this.scene);\r\n    Constants.PEDESTAL2.getChildMeshes()[0].material.roughness = 0.95;\r\n    Constants.PEDESTAL2.getChildMeshes()[0].material.transparencyMode = 1;\r\n    Constants.PEDESTAL3.getChildMeshes()[0].material = new BABYLON.PBRMaterial(\"pedestal3\", this.scene);\r\n    Constants.PEDESTAL3.getChildMeshes()[0].material.roughness = 0.95;\r\n    Constants.PEDESTAL3.getChildMeshes()[0].material.transparencyMode = 1;\r\n    Constants.PEDESTAL4.getChildMeshes()[0].material = new BABYLON.PBRMaterial(\"pedestal4\", this.scene);\r\n    Constants.PEDESTAL4.getChildMeshes()[0].material.roughness = 0.95;\r\n    Constants.PEDESTAL4.getChildMeshes()[0].material.transparencyMode = 1;\r\n\r\n    let meshLoad = await BABYLON.SceneLoader.ImportMeshAsync(\"\", Constants.ASSETS_URL, Constants.FRAME, this.scene);\r\n    ContentsManager.item1 = meshLoad.meshes[0];\r\n    ContentsManager.item1.name = \"Frame\";\r\n    ContentsManager.item1.position = new BABYLON.Vector3.Zero();\r\n    ContentsManager.item1.rotation = new BABYLON.Vector3(0, 0, BABYLON.Tools.ToRadians(6));\r\n    ContentsManager.item1.normalizeToUnitCube();\r\n    ContentsManager.item1.scaling.scaleInPlace(3);\r\n    ContentsManager.item1.setEnabled(false);\r\n\r\n    ContentsManager.item1.getChildMeshes().forEach((mesh) => {\r\n      this.setAction(mesh);\r\n    });\r\n\r\n    let meshLoad2 = await BABYLON.SceneLoader.ImportMeshAsync(\"\", Constants.ASSETS_URL, Constants.COFFEE, this.scene);\r\n    let newMeeshes = meshLoad2.meshes.filter((m) => m.getTotalVertices() > 0);\r\n\r\n    ContentsManager.item2 = meshLoad2.meshes[0];\r\n    // ContentsManager.item2 = BABYLON.Mesh.MergeMeshes(newMeeshes, true, true, undefined, false, true);\r\n    // var mesh = BABYLON.Mesh.MergeMeshes(newMeeshes, true, true, undefined, false, true);\r\n\r\n    ContentsManager.item2.name = \"Coffee\";\r\n    ContentsManager.item2.position = new BABYLON.Vector3.Zero();\r\n    ContentsManager.item2.rotation = new BABYLON.Vector3(0, 0, BABYLON.Tools.ToRadians(0));\r\n    ContentsManager.item2.normalizeToUnitCube();\r\n    ContentsManager.item2.scaling.scaleInPlace(3);\r\n    ContentsManager.item2.setEnabled(false);\r\n\r\n    ContentsManager.item2.getChildMeshes().forEach((mesh) => {\r\n      this.setAction(mesh);\r\n    });\r\n\r\n    let meshLoad3 = await BABYLON.SceneLoader.ImportMeshAsync(\"\", Constants.ASSETS_URL, Constants.EASEL, this.scene);\r\n    ContentsManager.item3 = meshLoad3.meshes[0];\r\n    ContentsManager.item3.name = \"Easel\";\r\n    ContentsManager.item3.position = new BABYLON.Vector3.Zero();\r\n    ContentsManager.item3.rotation = new BABYLON.Vector3(0, 0, BABYLON.Tools.ToRadians(0));\r\n    ContentsManager.item3.normalizeToUnitCube();\r\n    ContentsManager.item3.scaling.scaleInPlace(3);\r\n    ContentsManager.item3.setEnabled(false);\r\n\r\n    ContentsManager.item3.getChildMeshes().forEach((mesh) => {\r\n      this.setAction(mesh);\r\n    });\r\n\r\n    let meshLoad4 = await BABYLON.SceneLoader.ImportMeshAsync(\"\", Constants.ASSETS_URL, Constants.UNIVERSITY, this.scene);\r\n    ContentsManager.item4 = meshLoad4.meshes[0];\r\n    ContentsManager.item4.name = \"University\";\r\n    ContentsManager.item4.position = new BABYLON.Vector3.Zero();\r\n    ContentsManager.item4.rotation = new BABYLON.Vector3(0, 0, BABYLON.Tools.ToRadians(0));\r\n    ContentsManager.item4.normalizeToUnitCube();\r\n    ContentsManager.item4.scaling.scaleInPlace(3);\r\n    ContentsManager.item4.setEnabled(false);\r\n\r\n    ContentsManager.item4.getChildMeshes().forEach((mesh) => {\r\n      this.setAction(mesh);\r\n    });\r\n    // // 카드 로딩\r\n    // let cardLoad = await BABYLON.SceneLoader.ImportMeshAsync(\"\", Constants.ASSETS_URL, Constants.CARD_FILE_NAME, this.scene, onMeshLoadProgress);\r\n    // this.card = cardLoad.meshes[0];\r\n    // this.card.name = \"card\";\r\n    // this.card.normalizeToUnitCube();\r\n    // this.card.scaling.scaleInPlace(15);\r\n    // this.card.scaling.z = 2;\r\n    // let grad_Texture1 = new BABYLON.Texture(\"images/grad1.png\", this.scene);\r\n\r\n    // for (let i = 0; i < cardLoad.meshes.length; i++) {\r\n    //   if (cardLoad.meshes[i].material !== null) {\r\n    //     if (cardLoad.meshes[i].material.albedoTexture !== null) {\r\n    //       cardLoad.meshes[i].material.albedoTexture.dispose();\r\n    //     }\r\n    //     cardLoad.meshes[i].material.bumpTexture = null;\r\n    //     cardLoad.meshes[i].material.albedoTexture = grad_Texture1;\r\n    //     cardLoad.meshes[i].material.unlit = true;\r\n    //   }\r\n    // }\r\n    // // 카드 옆 테두리\r\n    // this.scene.getMaterialByName(\"Material.002\").albedoTexture = new BABYLON.Texture(\"images/grad11.png\", this.scene);\r\n\r\n    // 하이라이트\r\n    this.highlightLayer = new BABYLON.HighlightLayer(\"highligh\", Constants.SCENE);\r\n    this.glowLayer = new BABYLON.GlowLayer(\"glow\", Constants.scene);\r\n    this.glowLayer.intensity = 0.5;\r\n    this.glowLayer.isEnabled = false;\r\n\r\n    // // this.SetCard();\r\n    // this.card.setEnabled(false);\r\n\r\n    Communicator.sendEvent(CommunicatorEvent.WORLD_LOAD_COMPLETE);\r\n  }\r\n\r\n  /**\r\n   *===============================================================================\r\n   * SetCard()             : 카드 콘텐츠(앞 설명, 모델링파일, 뒤 사진) 세팅\r\n   *===============================================================================*/\r\n  static async SetCard() {\r\n    let cardFront = new BABYLON.MeshBuilder.CreatePlane(\"explainPlane\", { size: 20 }, this.scene);\r\n    cardFront.position = new BABYLON.Vector3(-3.5, 4, -0.75);\r\n\r\n    let cardBack = new BABYLON.MeshBuilder.CreatePlane(\"picturePlane\", { size: 20 }, this.scene);\r\n    cardBack.position = new BABYLON.Vector3(-1, 1, 0.75);\r\n    cardBack.scaling = new BABYLON.Vector3(-2.5, 1.7, 1);\r\n\r\n    let advancedTexture = GUI.AdvancedDynamicTexture.CreateForMesh(cardFront);\r\n    let advancedTexture2 = GUI.AdvancedDynamicTexture.CreateForMesh(cardBack);\r\n\r\n    let image_F = new GUI.Image(\"image\", \"images/card1.png\");\r\n    image_F.width = 0.3;\r\n    image_F.height = 0.4;\r\n    advancedTexture.addControl(image_F);\r\n\r\n    let image_B = new GUI.Image(\"image\", \"images/card1_back.jpg\");\r\n    image_B.width = 0.2;\r\n    image_B.height = 0.4;\r\n    advancedTexture2.addControl(image_B);\r\n\r\n    // var label = new GUI.TextBlock(\"footer\");\r\n    // label.text = \"실제 플레이 사진\";\r\n    // label.fontSize = 12;\r\n    // label.fontFamily = \"open sans\";\r\n    // label.left = \"5%\";\r\n    // label.top = \"21.5%\";\r\n    // advancedTexture2.addControl(label);\r\n\r\n    // 카드1 아이템\r\n    let meshLoad2 = await BABYLON.SceneLoader.ImportMeshAsync(\"\", Constants.ASSETS_URL, Constants.CARD1_ITEM_NAME, this.scene);\r\n    this.card_item = meshLoad2.meshes[0];\r\n    this.card_item.name = \"card_item1\";\r\n    this.card_item.position = new BABYLON.Vector3(5, -7, -1.2);\r\n    this.card_item.rotation = new BABYLON.Vector3(0, BABYLON.Tools.ToRadians(180), BABYLON.Tools.ToRadians(10));\r\n    this.card_item.scaling = new BABYLON.Vector3(10, 10, 10);\r\n\r\n    for (let i = 0; i < meshLoad2.meshes.length; i++) {\r\n      if (meshLoad2.meshes[i].material !== null) {\r\n        meshLoad2.meshes[i].material.unlit = true;\r\n      }\r\n    }\r\n\r\n    this.card_item.getChildMeshes().forEach((mesh) => {\r\n      this.setAction(mesh);\r\n    });\r\n  }\r\n  /**\r\n   *===============================================================================\r\n   * setAction()             : 인터렉션 액션 바인딩\r\n   *===============================================================================*/\r\n  setAction(_mesh) {\r\n    let scene = this.scene;\r\n    this.scene.onPointerDown = function (event, pickResult) {\r\n      if (pickResult === null) return;\r\n\r\n      // if(카드일 때){\r\n      //left mouse click\r\n      // if (event.button == 0) {\r\n      //   ParticleManager.particlePosition = pickResult.pickedPoint;\r\n      // }\r\n      // //right mouse click\r\n      // if (event.button == 2) {\r\n      //   ParticleManager.particlePosition.x = pickResult.pickedPoint.x;\r\n      //   ParticleManager.particlePosition.y = pickResult.pickedPoint.y;\r\n      //   ParticleManager.particlePosition.z = pickResult.pickedPoint.z;\r\n      // }\r\n      // //Wheel button or middle button on mouse click\r\n      // if (event.button == 1) {\r\n      //   vector[\"x\"] = pickResult.pickedPoint[\"x\"];\r\n      //   vector[\"y\"] = pickResult.pickedPoint[\"y\"];\r\n      //   vector[\"z\"] = pickResult.pickedPoint[\"z\"];\r\n      //   // console.log(\r\n      //   //   \"middle mouse click: \" + vector.x + \",\" + vector.y + \",\" + vector.z\r\n      //   // );\r\n      // }\r\n      // }\r\n    };\r\n    _mesh.actionManager = new BABYLON.ActionManager(Constants.SCENE);\r\n    _mesh.actionManager.registerAction(\r\n      new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPointerOverTrigger, (_meshEvent) => {\r\n        if (_mesh.name === \"key\") {\r\n          this.highlightLayer.addMesh(_mesh, new BABYLON.Color3(1, 0.38, 0.09));\r\n        }\r\n        // 액자\r\n        else if (_mesh.name.includes(\"frame\")) {\r\n          this.highlightLayer.addMesh(_mesh, new BABYLON.Color3(1, 0.38, 0.09));\r\n        }\r\n        // 커피\r\n        // else if (_mesh.name.includes(\"001_Material\")) {\r\n        else if (_mesh.name === \"node9\") {\r\n          this.highlightLayer.addMesh(_mesh, new BABYLON.Color3(1, 0.38, 0.09));\r\n        }\r\n        // 이젤\r\n        else if (_mesh.name === \"Object_4\") {\r\n          this.highlightLayer.addMesh(_mesh, new BABYLON.Color3(1, 0.38, 0.09));\r\n        }\r\n        // 대학교\r\n        else if (_mesh.name === \"node3\") {\r\n          this.highlightLayer.addMesh(_mesh, new BABYLON.Color3(1, 0.38, 0.09));\r\n        }\r\n      })\r\n    );\r\n    _mesh.actionManager.registerAction(\r\n      new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPointerOutTrigger, (_meshEvent) => {\r\n        this.highlightLayer.removeMesh(_mesh);\r\n      })\r\n    );\r\n\r\n    _mesh.actionManager.registerAction(\r\n      new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPickUpTrigger, (_meshEvent) => {\r\n        this.highlightLayer.removeMesh(_mesh);\r\n        if (_mesh.name === \"key\") {\r\n          _mesh.dispose();\r\n          this.key_book.setEnabled(true);\r\n          this.AnimationControl();\r\n          this.chestAnim.speedRatio = 2;\r\n          this.chestAnim.play();\r\n\r\n          this.guiText.text = \"\";\r\n          this.guiButton.getChildByName(\"but2_button\").text = \"오브젝트를 클릭해보세요\";\r\n          this.guiButton.onPointerUpObservable.clear();\r\n        }\r\n        console.log(ContentsManager.particleCountArr.length);\r\n        if (ContentsManager.particleCountArr.length === 3) {\r\n          if (_mesh.name.includes(\"frame\")) {\r\n            this.guiText.text = \"Meta4 갤러리\";\r\n            this.guiButton.getChildByName(\"but2_button\").text = \"https://netstream.co.kr/Expo\";\r\n\r\n            this.guiButton.onPointerUpObservable.add(\r\n              function () {\r\n                if (!this.guiButton.isPointerOver) return;\r\n                window.open(\"https://netstream.co.kr/Expo\");\r\n              }.bind(this)\r\n            );\r\n\r\n            ContentsManager.UItarget.position = ContentsManager.item1.position.add(new BABYLON.Vector3(2.5, 1.5, 0));\r\n            ContentsManager.UItarget.rotation.z = -Math.PI / 8;\r\n            ContentsManager.UItarget.material.alpha = 1;\r\n            ContentsManager.detailGUIText.text = \"2021년 6월\\n첫번째 프로젝트\\n\\n\\n서울VRAR Expo\\nMeta4 갤러리 출품\";\r\n            ContentsManager.detailGUIText.fontSize = \"16px\";\r\n            ContentsManager.detailGUIText.resizeToFit = true;\r\n\r\n            var speed = 45;\r\n            var frameCount = 100;\r\n\r\n            var animateCameraTargetToPosition = function (cam, speed, frameCount, newPos) {\r\n              var ease = new BABYLON.CubicEase();\r\n              ease.setEasingMode(BABYLON.EasingFunction.EASINGMODE_EASEINOUT);\r\n\r\n              var aable1 = BABYLON.Animation.CreateAndStartAnimation(\"at5\", cam, \"target\", speed, frameCount, cam.target, newPos, 0, ease);\r\n              aable1.disposeOnEnd = true;\r\n            };\r\n\r\n            var animateCameraToPosition = function (cam, speed, frameCount, newPos) {\r\n              var ease = new BABYLON.CubicEase();\r\n              ease.setEasingMode(BABYLON.EasingFunction.EASINGMODE_EASEINOUT);\r\n              var aable2 = BABYLON.Animation.CreateAndStartAnimation(\"at4\", cam, \"position\", speed, frameCount, cam.position, newPos, 0, ease);\r\n              aable2.disposeOnEnd = true;\r\n            };\r\n\r\n            animateCameraTargetToPosition(CameraManager.camera, speed, frameCount, new BABYLON.Vector3(-9, 1, 1));\r\n            animateCameraToPosition(CameraManager.camera, speed, frameCount, new BABYLON.Vector3(-9, 1, -2));\r\n\r\n            // CameraManager.camera.target = new BABYLON.Vector3(-9, 2, 1);\r\n            CameraManager.camera.lowerAlphaLimit = null;\r\n            CameraManager.camera.upperAlphaLimit = null;\r\n            CameraManager.camera.lowerBetaLimit = 1.36;\r\n            CameraManager.camera.upperBetaLimit = 1.36;\r\n            CameraManager.camera.alpha = Math.PI * 2 * 0.75;\r\n            CameraManager.camera.beta = 1.36;\r\n            CameraManager.camera.lowerRadiusLimit = 10;\r\n            CameraManager.camera.upperRadiusLimit = 10;\r\n\r\n            ContentsManager.item2.setEnabled(false);\r\n            ContentsManager.item3.setEnabled(false);\r\n            ContentsManager.item4.setEnabled(false);\r\n            Constants.PEDESTAL2.setEnabled(false);\r\n            Constants.PEDESTAL3.setEnabled(false);\r\n            Constants.PEDESTAL4.setEnabled(false);\r\n\r\n            ContentsManager.particle2.stop();\r\n            ContentsManager.particle3.stop();\r\n            ContentsManager.particle4.stop();\r\n          } else if (_mesh.name === \"node9\") {\r\n            this.guiText.text = \"춘천 카페거리 메타버스\";\r\n            this.guiButton.getChildByName(\"but2_button\").text = \"https://metaverse.cccf.co.kr/\";\r\n            this.guiButton.onPointerUpObservable.add(\r\n              function () {\r\n                if (!this.guiButton.isPointerOver) return;\r\n                window.open(\"https://metaverse.cccf.co.kr/\");\r\n              }.bind(this)\r\n            );\r\n            ContentsManager.UItarget.position = ContentsManager.item2.position.add(new BABYLON.Vector3(2, 1, 0));\r\n            ContentsManager.UItarget.rotation.z = -Math.PI / 8;\r\n            ContentsManager.UItarget.material.alpha = 1;\r\n            ContentsManager.detailGUIText.text = \"2021년 9월\\n두번째 프로젝트\\n\\n\\n춘천 카페거리 페스타\\n메타버스 플랫폼 오픈\";\r\n            ContentsManager.detailGUIText.fontSize = \"16px\";\r\n            ContentsManager.detailGUIText.resizeToFit = true;\r\n\r\n            var speed = 45;\r\n            var frameCount = 100;\r\n\r\n            var animateCameraTargetToPosition = function (cam, speed, frameCount, newPos) {\r\n              var ease = new BABYLON.CubicEase();\r\n              ease.setEasingMode(BABYLON.EasingFunction.EASINGMODE_EASEINOUT);\r\n\r\n              var aable1 = BABYLON.Animation.CreateAndStartAnimation(\"at5\", cam, \"target\", speed, frameCount, cam.target, newPos, 0, ease);\r\n              aable1.disposeOnEnd = true;\r\n            };\r\n\r\n            var animateCameraToPosition = function (cam, speed, frameCount, newPos) {\r\n              var ease = new BABYLON.CubicEase();\r\n              ease.setEasingMode(BABYLON.EasingFunction.EASINGMODE_EASEINOUT);\r\n              var aable2 = BABYLON.Animation.CreateAndStartAnimation(\"at4\", cam, \"position\", speed, frameCount, cam.position, newPos, 0, ease);\r\n              aable2.disposeOnEnd = true;\r\n            };\r\n\r\n            animateCameraTargetToPosition(CameraManager.camera, speed, frameCount, new BABYLON.Vector3(-3, 1, 0));\r\n            animateCameraToPosition(CameraManager.camera, speed, frameCount, new BABYLON.Vector3(-3, 1, -2));\r\n\r\n            // CameraManager.camera.target = new BABYLON.Vector3(-3, 2, 0);\r\n            CameraManager.camera.lowerAlphaLimit = null;\r\n            CameraManager.camera.upperAlphaLimit = null;\r\n            CameraManager.camera.lowerBetaLimit = 1.36;\r\n            CameraManager.camera.upperBetaLimit = 1.36;\r\n            CameraManager.camera.alpha = Math.PI * 2 * 0.75;\r\n            CameraManager.camera.beta = 1.36;\r\n            CameraManager.camera.lowerRadiusLimit = 10;\r\n            CameraManager.camera.upperRadiusLimit = 10;\r\n\r\n            ContentsManager.item1.setEnabled(false);\r\n            ContentsManager.item3.setEnabled(false);\r\n            ContentsManager.item4.setEnabled(false);\r\n            Constants.PEDESTAL.setEnabled(false);\r\n            Constants.PEDESTAL3.setEnabled(false);\r\n            Constants.PEDESTAL4.setEnabled(false);\r\n\r\n            ContentsManager.particle1.stop();\r\n            ContentsManager.particle3.stop();\r\n            ContentsManager.particle4.stop();\r\n          } else if (_mesh.name === \"Object_4\") {\r\n            this.guiText.text = \"PKM 3D 갤러리\";\r\n            this.guiButton.getChildByName(\"but2_button\").text = \"https://pkmverse.netstream.co.kr\";\r\n            this.guiButton.onPointerUpObservable.add(\r\n              function () {\r\n                if (!this.guiButton.isPointerOver) return;\r\n                window.open(\"https://pkmverse.netstream.co.kr\");\r\n              }.bind(this)\r\n            );\r\n            ContentsManager.UItarget.position = ContentsManager.item3.position.add(new BABYLON.Vector3(2, 1.5, 0));\r\n            ContentsManager.UItarget.rotation.z = -Math.PI / 8;\r\n            ContentsManager.UItarget.material.alpha = 1;\r\n            ContentsManager.detailGUIText.text = \"2021년 12월\\n세번째 프로젝트\\n\\n\\nPKM 3D 갤러리\\n메타버스 플랫폼 오픈\";\r\n            ContentsManager.detailGUIText.fontSize = \"16px\";\r\n            ContentsManager.detailGUIText.resizeToFit = true;\r\n\r\n            var speed = 45;\r\n            var frameCount = 100;\r\n\r\n            var animateCameraTargetToPosition = function (cam, speed, frameCount, newPos) {\r\n              var ease = new BABYLON.CubicEase();\r\n              ease.setEasingMode(BABYLON.EasingFunction.EASINGMODE_EASEINOUT);\r\n\r\n              var aable1 = BABYLON.Animation.CreateAndStartAnimation(\"at5\", cam, \"target\", speed, frameCount, cam.target, newPos, 0, ease);\r\n              aable1.disposeOnEnd = true;\r\n            };\r\n\r\n            var animateCameraToPosition = function (cam, speed, frameCount, newPos) {\r\n              var ease = new BABYLON.CubicEase();\r\n              ease.setEasingMode(BABYLON.EasingFunction.EASINGMODE_EASEINOUT);\r\n              var aable2 = BABYLON.Animation.CreateAndStartAnimation(\"at4\", cam, \"position\", speed, frameCount, cam.position, newPos, 0, ease);\r\n              aable2.disposeOnEnd = true;\r\n            };\r\n\r\n            animateCameraTargetToPosition(CameraManager.camera, speed, frameCount, new BABYLON.Vector3(3, 1, 1));\r\n            animateCameraToPosition(CameraManager.camera, speed, frameCount, new BABYLON.Vector3(3, 1, -2));\r\n\r\n            // CameraManager.camera.target = new BABYLON.Vector3(3, 2, 1);\r\n            CameraManager.camera.lowerAlphaLimit = null;\r\n            CameraManager.camera.upperAlphaLimit = null;\r\n            CameraManager.camera.lowerBetaLimit = 1.36;\r\n            CameraManager.camera.upperBetaLimit = 1.36;\r\n            CameraManager.camera.alpha = Math.PI * 2 * 0.75;\r\n            CameraManager.camera.beta = 1.36;\r\n            CameraManager.camera.lowerRadiusLimit = 10;\r\n            CameraManager.camera.upperRadiusLimit = 10;\r\n\r\n            ContentsManager.item1.setEnabled(false);\r\n            ContentsManager.item2.setEnabled(false);\r\n            ContentsManager.item4.setEnabled(false);\r\n            Constants.PEDESTAL.setEnabled(false);\r\n            Constants.PEDESTAL2.setEnabled(false);\r\n            Constants.PEDESTAL4.setEnabled(false);\r\n\r\n            ContentsManager.particle1.stop();\r\n            ContentsManager.particle2.stop();\r\n            ContentsManager.particle4.stop();\r\n\r\n            // window.open(\"https://pkmverse.netstream.co.kr\")\r\n          } else if (_mesh.name === \"node3\") {\r\n            this.guiText.text = \"서울시립대 메타버스 성과관\";\r\n            this.guiButton.getChildByName(\"but2_button\").text = \"https://uisp-forum.uos.ac.kr\";\r\n\r\n            this.guiButton.onPointerUpObservable.add(\r\n              function () {\r\n                if (!this.guiButton.isPointerOver) return;\r\n                window.open(\"https://uisp-forum.uos.ac.kr\");\r\n              }.bind(this)\r\n            );\r\n            ContentsManager.UItarget.position = ContentsManager.item4.position.add(new BABYLON.Vector3(2, 1, 0));\r\n            ContentsManager.UItarget.rotation.z = -Math.PI / 8;\r\n            ContentsManager.UItarget.material.alpha = 1;\r\n            ContentsManager.detailGUIText.text = \"2022년 1월\\n네번째 프로젝트\\n\\n\\n서울시립대 메타버스\\n메타버스 플랫폼 오픈\";\r\n            ContentsManager.detailGUIText.fontSize = \"16px\";\r\n            ContentsManager.detailGUIText.resizeToFit = true;\r\n\r\n            var speed = 45;\r\n            var frameCount = 100;\r\n\r\n            var animateCameraTargetToPosition = function (cam, speed, frameCount, newPos) {\r\n              var ease = new BABYLON.CubicEase();\r\n              ease.setEasingMode(BABYLON.EasingFunction.EASINGMODE_EASEINOUT);\r\n\r\n              var aable1 = BABYLON.Animation.CreateAndStartAnimation(\"at5\", cam, \"target\", speed, frameCount, cam.target, newPos, 0, ease);\r\n              aable1.disposeOnEnd = true;\r\n            };\r\n\r\n            var animateCameraToPosition = function (cam, speed, frameCount, newPos) {\r\n              var ease = new BABYLON.CubicEase();\r\n              ease.setEasingMode(BABYLON.EasingFunction.EASINGMODE_EASEINOUT);\r\n              var aable2 = BABYLON.Animation.CreateAndStartAnimation(\"at4\", cam, \"position\", speed, frameCount, cam.position, newPos, 0, ease);\r\n              aable2.disposeOnEnd = true;\r\n            };\r\n\r\n            animateCameraTargetToPosition(CameraManager.camera, speed, frameCount, new BABYLON.Vector3(9, 1, 0));\r\n            animateCameraToPosition(CameraManager.camera, speed, frameCount, new BABYLON.Vector3(9, 1, -2));\r\n\r\n            // CameraManager.camera.target = new BABYLON.Vector3(9, 2, 0);\r\n            CameraManager.camera.lowerAlphaLimit = null;\r\n            CameraManager.camera.upperAlphaLimit = null;\r\n            CameraManager.camera.lowerBetaLimit = 1.36;\r\n            CameraManager.camera.upperBetaLimit = 1.36;\r\n            CameraManager.camera.alpha = Math.PI * 2 * 0.75;\r\n            CameraManager.camera.beta = 1.36;\r\n            CameraManager.camera.lowerRadiusLimit = 10;\r\n            CameraManager.camera.upperRadiusLimit = 10;\r\n\r\n            ContentsManager.item1.setEnabled(false);\r\n            ContentsManager.item2.setEnabled(false);\r\n            ContentsManager.item3.setEnabled(false);\r\n            Constants.PEDESTAL.setEnabled(false);\r\n            Constants.PEDESTAL2.setEnabled(false);\r\n            Constants.PEDESTAL3.setEnabled(false);\r\n\r\n            ContentsManager.particle1.stop();\r\n            ContentsManager.particle2.stop();\r\n            ContentsManager.particle3.stop();\r\n            // window.open(\"https://uos.netstream.co.kr\")\r\n          }\r\n\r\n          Constants.isDetailView = true;\r\n          console.log(\"ssssssssssss\");\r\n          if (Constants.isDetailView) {\r\n            this.guiButtonX.alpha = 1;\r\n          }\r\n        }\r\n        // else {\r\n        //   // 클릭시 파티클 이펙트 생성하기 @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\r\n        //   ParticleManager.ParticleSunflower(ParticleManager.particlePosition);\r\n        //   // ParticleManager.particleMode = ParticleManager.META4_MODE;\r\n        // }\r\n      })\r\n    );\r\n  }\r\n\r\n  AnimationControl() {\r\n    let scene = this.scene;\r\n\r\n    let anim = this.chestAnim;\r\n    let key_book = this.key_book;\r\n\r\n    let isChestOpen = false;\r\n    let isAnimFinish = false;\r\n    let godrays = this.godrays;\r\n    var projectionMatrix = this.scene.activeCamera.getProjectionMatrix();\r\n    var r = projectionMatrix.getRow(3);\r\n    var t = 0;\r\n\r\n    let flare00 = null;\r\n    let flare01 = null;\r\n\r\n    this.scene.registerBeforeRender(function () {\r\n      if (anim.isPlaying) {\r\n        r.x += Math.cos(t) * 0.08;\r\n        r.y += Math.sin(t) * 0.06;\r\n        projectionMatrix.setRowFromFloats(3, r.x, r.y, r.z, r.w);\r\n        t += 81337.18;\r\n\r\n        if (anim.animatables[0].masterFrame >= 4.3) {\r\n          if (!isChestOpen) {\r\n            isChestOpen = !isChestOpen;\r\n\r\n            // var lensFlareSystem = new BABYLON.LensFlareSystem(\r\n            //   \"lensFlareSystem\", //name\r\n            //   scene.getMeshByName(\"Object_8\"), // emitter\r\n            //   scene\r\n            // );\r\n\r\n            // flare00 = new BABYLON.LensFlare(\r\n            //   0.5, // size\r\n            //   0, // position\r\n            //   new BABYLON.Color3(1, 1, 1), // color\r\n            //   \"images/flare.png\", // texture\r\n            //   lensFlareSystem // lens flare system\r\n            // );\r\n            // flare01 = new BABYLON.LensFlare(\r\n            //   0.75,\r\n            //   0.25,\r\n            //   new BABYLON.Color3(0.95, 0.89, 0.71),\r\n            //   \"images/flare.png\",\r\n            //   lensFlareSystem\r\n            // );\r\n\r\n            key_book.setEnabled(false);\r\n            anim.speedRatio = 5;\r\n\r\n            const particleSystem = new BABYLON.ParticleSystem(\"particles\", 1);\r\n            particleSystem.particleTexture = new BABYLON.Texture(\"images/flare.png\");\r\n\r\n            particleSystem.createPointEmitter(new BABYLON.Vector3.Zero(), new BABYLON.Vector3.Zero());\r\n\r\n            particleSystem.minLifeTime = 0.5;\r\n            particleSystem.maxLifeTime = 0.5;\r\n\r\n            for (let i = 0; i <= 2; i += 0.05) {\r\n              particleSystem.addSizeGradient(i, 30 * (1 - (i - 1) * (i - 1)));\r\n            }\r\n\r\n            particleSystem.disposeOnStop = true;\r\n            particleSystem.targetStopDuration = 0.5;\r\n            particleSystem.updateSpeed = 0.015;\r\n\r\n            particleSystem.start();\r\n\r\n            particleSystem.addColorGradient(0, new BABYLON.Color4(1, 0.75, 0.07)); //color at start of particle lifetime\r\n            particleSystem.addColorGradient(1, new BABYLON.Color4(0.97, 0.92, 0.7)); //color at end of particle lifetime\r\n          }\r\n        }\r\n        if (anim.animatables[0].masterFrame >= 7) {\r\n          if (!isAnimFinish) {\r\n            isAnimFinish = !isAnimFinish;\r\n            godrays.mesh.dispose();\r\n            ParticleManager.sparkParticleSystem.dispose();\r\n            CameraManager.camera.upperBetaLimit = null;\r\n            CameraManager.camera.lowerBetaLimit = null;\r\n\r\n            CameraManager.SetCameraTargetChest();\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  setInspector() {\r\n    let scene = this.scene;\r\n    let guiButton = this.guiButton;\r\n\r\n    // insert 버튼 눌러 인스펙터 창 토글\r\n    this.scene.onKeyboardObservable.add((kbInfo) => {\r\n      switch (kbInfo.type) {\r\n        case BABYLON.KeyboardEventTypes.KEYDOWN:\r\n          if (kbInfo.event.key === \"Insert\") {\r\n            if (!this.isInput) {\r\n              console.log(\"debugLayer.show :::::\");\r\n              this.scene.debugLayer.show({\r\n                enablePopup: true,\r\n                overlay: true,\r\n              });\r\n            } else {\r\n              this.scene.debugLayer.hide();\r\n            }\r\n          } else if (kbInfo.event.key === \"Escape\") {\r\n            Constants.isDetailView = false;\r\n\r\n            this.guiText.text = \"\";\r\n            this.guiButton.getChildByName(\"but2_button\").text = \"오브젝트를 클릭해보세요\";\r\n\r\n            guiButton.onPointerUpObservable.clear();\r\n            this.guiButtonX.alpha = 0;\r\n            ContentsManager.UItarget.material.alpha = 0;\r\n            ContentsManager.detailGUIText.text = \"\";\r\n            scene.beginAnimation(ContentsManager.detailGUI, 10, 0, false);\r\n\r\n            CameraManager.camera.target = new BABYLON.Vector3.Zero();\r\n            CameraManager.camera.alpha = -Math.PI / 2;\r\n            CameraManager.camera.beta = 1.2;\r\n            CameraManager.camera.lowerRadiusLimit = 15;\r\n            CameraManager.camera.upperRadiusLimit = 15;\r\n            for (let mesh of scene.meshes) {\r\n              mesh.setEnabled(true);\r\n              ContentsManager.particle1.start();\r\n              ContentsManager.particle2.start();\r\n              ContentsManager.particle3.start();\r\n              ContentsManager.particle3.start();\r\n            }\r\n\r\n            var speed = 45;\r\n            var frameCount = 100;\r\n\r\n            var animateCameraTargetToPosition = function (cam, speed, frameCount, newPos) {\r\n              var ease = new BABYLON.CubicEase();\r\n              ease.setEasingMode(BABYLON.EasingFunction.EASINGMODE_EASEINOUT);\r\n\r\n              var aable1 = BABYLON.Animation.CreateAndStartAnimation(\"at5\", cam, \"target\", speed, frameCount, cam.target, newPos, 0, ease);\r\n              aable1.disposeOnEnd = true;\r\n            };\r\n\r\n            var animateCameraToPosition = function (cam, speed, frameCount, newPos) {\r\n              var ease = new BABYLON.CubicEase();\r\n              ease.setEasingMode(BABYLON.EasingFunction.EASINGMODE_EASEINOUT);\r\n              var aable2 = BABYLON.Animation.CreateAndStartAnimation(\"at4\", cam, \"position\", speed, frameCount, cam.position, newPos, 0, ease);\r\n              aable2.disposeOnEnd = true;\r\n            };\r\n\r\n            animateCameraTargetToPosition(CameraManager.camera, speed, frameCount, new BABYLON.Vector3(0, 0, 0));\r\n            animateCameraToPosition(CameraManager.camera, speed, frameCount, new BABYLON.Vector3(0, 0, -2));\r\n          }\r\n          this.isInput = !this.isInput;\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./ui/App\";\r\nimport \"./css/font.css\";\r\nimport WebFont from \"webfontloader\";\r\nimport World from \"./content/BasicWorld\";\r\nimport DataManager from \"./common/data/DataManager\";\r\nimport Communicator from \"./common/Communicator\";\r\nimport Constants from \"./common/Constants\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nwindow.addEventListener(\"load\", function () {\r\n  window.removeEventListener(\"load\", this);\r\n  Init();\r\n});\r\n\r\nconst Init = () => {\r\n  if (!Constants.DEBUG_MODE) console.log = () => {}; // 디버그모드일 때 로그 삭제\r\n\r\n  startApp();\r\n  // console.log(\"::: FONT LOAD START :::\");\r\n//   WebFont.load({\r\n//     custom: {\r\n//       families: [\"Spoqa HanSansNeo\", \"SEBANG_Gothic_Regular\"],\r\n//     },\r\n//     /* fontloading: function(name, fvd) {\r\n//               console.log(`fontloading ${name}:${fvd}`);\r\n//           }, */\r\n//     fontactive: (name, fvd) => {\r\n//       console.log(`::: LOADING FONT ${name}:${fvd} :::`);\r\n//     },\r\n//     /* fontinactive: function(name, fvd) {\r\n//               console.log(`fontinactive ${name}:${fvd}`);\r\n//           }, */\r\n//     active: () => {\r\n//       console.log(\"::: ALL FONTS LOADED :::\");\r\n//       startApp();\r\n//     },\r\n\r\n//     inactive: () => {\r\n\r\n//       //   console.error(\"::: ERROR LOADING FONTS :::\");\r\n//       // REPORT ERROR here\r\n//     },\r\n//   });\r\n};\r\n\r\nlet world = null;\r\n\r\nconst startApp = () => {\r\n  console.log(\"::: START APP ::::\");\r\n\r\n  if (/Android/i.test(navigator.userAgent)) {\r\n    Constants.OS_PLATFORM = Constants.OS_ANDROID;\r\n  } else if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {\r\n    Constants.OS_PLATFORM = Constants.OS_IOS;\r\n  } else {\r\n    Constants.OS_PLATFORM = Constants.OS_ECT;\r\n  }\r\n\r\n  Communicator.GetInstance();\r\n  DataManager.GetInstance();\r\n  DataManager.LoadData(onDataLoadComplete, onDataLoadFail);\r\n};\r\n\r\nconst onDataLoadFail = () => {};\r\n\r\nconst onDataLoadComplete = () => {\r\n  console.log(\"::: DATALOAD COMPLETE ::: \");\r\n  reactStart();\r\n  const canvas = document.getElementById(\"World\");\r\n  world = new World(canvas);\r\n  world.addEventListener(\"WOLD_SETTING_COMPLETE\", worldSettingComplete);\r\n  world.addEventListener(\"WORLD_LOADING\", worldLoading);\r\n};\r\n\r\nconst worldLoading = (_ev) => {};\r\n\r\nconst worldSettingComplete = (_ev) => {};\r\n\r\nconst reactStart = () => {\r\n  ReactDOM.render(\r\n    <React.StrictMode>\r\n      <BrowserRouter>\r\n        <App />\r\n      </BrowserRouter>\r\n    </React.StrictMode>,\r\n    document.getElementById(\"root\")\r\n  );\r\n};\r\n"],"sourceRoot":""}